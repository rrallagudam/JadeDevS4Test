'use strict';

System.register('app.js', ['common/common.routes.js', 'docgen/docgen.routes.js', 'quotes/quotes.routes.js', 'products/products.routes.js', 'common/core/sb-router/Router.js', 'common/data/sb-db/Db.js', 'common/data/sb-db/adapter/leveljs/LevelAdapter.js', 'common/data/sb-db/Metadata.js', 'common/common.js', 'quotes/quotes.js', 'products/products.js'], function (_export, _context) {
	var common, docgen, quotes, products, Router, Db, LevelAdapter, Metadata, _createClass, App;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [function (_commonCommonRoutesJs) {
			common = _commonCommonRoutesJs;
		}, function (_docgenDocgenRoutesJs) {
			docgen = _docgenDocgenRoutesJs;
		}, function (_quotesQuotesRoutesJs) {
			quotes = _quotesQuotesRoutesJs;
		}, function (_productsProductsRoutesJs) {
			products = _productsProductsRoutesJs;
		}, function (_commonCoreSbRouterRouterJs) {
			Router = _commonCoreSbRouterRouterJs.Router;
		}, function (_commonDataSbDbDbJs) {
			Db = _commonDataSbDbDbJs.Db;
		}, function (_commonDataSbDbAdapterLeveljsLevelAdapterJs) {
			LevelAdapter = _commonDataSbDbAdapterLeveljsLevelAdapterJs.LevelAdapter;
		}, function (_commonDataSbDbMetadataJs) {
			Metadata = _commonDataSbDbMetadataJs;
		}, function (_commonCommonJs) {}, function (_quotesQuotesJs) {}, function (_productsProductsJs) {}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('App', App = function () {
				function App() {
					_classCallCheck(this, App);
				}

				_createClass(App, null, [{
					key: 'init',
					value: function init(pageContainer, dbName) {
						var r = {};
						r[common.PREFIX] = common.ROUTES;
						r[docgen.PREFIX] = docgen.ROUTES;
						r[quotes.PREFIX] = quotes.ROUTES;
						r[products.PREFIX] = products.ROUTES;
						pageContainer.allRoutes = r;
						Db.adapter = new LevelAdapter();
						return Db.adapter.open(dbName || 'sbcpq');
					}
				}]);

				return App;
			}());

			_export('App', App);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6W119
"use strict";

System.register("labels_en.js", [], function (_export, _context) {
  var LABELS;
  return {
    setters: [],
    execute: function () {
      _export("LABELS", LABELS = {
        "Yes": "Yes",
        "Delete": "Delete",
        "New": "New",
        "Recently Viewed": "Recently Viewed",
        "Add": "Add",
        "Cancel": "Cancel",
        "Product Selection": "Product Selection",
        "Categories": "Categories",
        "Go": "Go",
        "Product Search": "Product Search",
        "Start Over": "Start Over"
      });

      _export("LABELS", LABELS);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsYWJlbHNfZW4uanMiLCJzb3VyY2VzQ29udGVudCI6W119
"use strict";

System.register("ajax/ajax.js", [], function (_export, _context) {
	return {
		setters: [],
		execute: function () {
			if (typeof window !== 'undefined' && window) {
				window.SB = window.SB || {};
				window.SB.ajax = require("./../calc/Utils/ApexUtils.js");
			}
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhamF4LmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==

"use strict";

System.register("calc/FormulaFieldCalculator.js", [], function (_export, _context) {
    var IdUtils, esprima, LabelUtils, MetaDataUtils, NumberUtils, DateUtils, SettingsUtils;

    function FormulaFieldCalculator() {
        this.quoteRecord = {};
        this.fieldMetadata = {};
        this.evaluatedFields = {};
    }

    function hardcodeStandardField(d) {
        var fn = d.fullName.split('.')[1];

        switch (fn) {
            case 'CreatedDate':
            case 'LastModifiedDate':
                d.type = 'DateTime';
                return;

            case 'Name':
                d.type = 'AutoNumber';
                return;

            case 'OwnerId':
            case 'CreatedById':
            case 'LastModifiedById':
                d.type = 'Lookup';
                return;

            case 'CurrencyIsoCode':
                d.type = 'Text';
                return;

            default:
                console.warn(d.fullName + " is a standard field with no manual hardcoding. Be careful...");
        }
    }

    function fieldIsCalculated(record, metadata, formulaSource) {
        if (formulaSource == 'Price Rule') {
            return false;
        }

        var type = MetaDataUtils.getRecordType(record);

        switch (type) {
            case 'SBQQ__Quote__c':
            case 'Quote__c':
            case 'SBQQ__QuoteLineGroup__c':
            case 'QuoteLineGroup__c':
            case 'SBQQ__QuoteLine__c':
            case 'QuoteLine__c':
                var fn = metadata.fullName;

                if (fn.indexOf('ProductCode__c') === fn.length - 14 || fn.indexOf('ProductName__c') === fn.length - 14) {
                    return false;
                }

                return metadata.formula != null;

            default:
                return false;
        }
    }

    function replaceBadCharacters(formula) {
        formula = formula.replace(/=+/g, "==");
        formula = formula.replace(/<=+/g, "<=");
        formula = formula.replace(/>=+/g, ">=");
        formula = formula.replace(/<>/g, "!=");
        formula = formula.replace(/[Ii][Ff][(]/g, "IF(");
        return formula;
    }

    function processUnaryExpression(operator, argument, metadata) {
        switch (operator) {
            case "-":
                return argument * -1;

            default:
                var unsupportedUnaryText = LabelUtils.getLabelByKey("msg_js_err_unsupported_unary").replace("{0}", metadata.fullName).replace("{1}", operator);
                throw new Error(unsupportedUnaryText);
        }
    }

    function processBinaryOp(operator, left, right, metadata) {
        switch (operator) {
            case "+":
                if (left instanceof Date) {
                    left.setUTCDate(left.getUTCDate() + right);
                    return left;
                }

                return left + right;

            case "-":
                if (left instanceof Date) {
                    if (right instanceof Date) {
                        return Math.round((left - right) / 86400000);
                    } else {
                        left.setUTCDate(left.getUTCDate() - right);
                        return left;
                    }
                }

                return left - right;

            case "*":
                return left * right;

            case "/":
                return left / right;

            case "^":
                return Math.pow(left, right);

            case "==":
                if (left instanceof Date && right instanceof Date) {
                    return left.getFullYear() == right.getFullYear() && left.getMonth() == right.getMonth() && left.getDate() == right.getDate();
                }

                return left === right;

            case "!=":
                if (left instanceof Date && right instanceof Date) {
                    return !(left.getFullYear() == right.getFullYear() && left.getMonth() == right.getMonth() && left.getDate() == right.getDate());
                }

                return left !== right;

            case "<":
                return left < right;

            case ">":
                return left > right;

            case "<=":
                return left <= right;

            case ">=":
                return left >= right;

            case "&&":
                return left && right;

            case "||":
                return left || right;

            case "&":
                return left + right;

            default:
                var unsupportedBinaryText = LabelUtils.getLabelByKey("msg_js_err_unsupported_binary").replace("{0}", metadata.fullName).replace("{1}", operator);
                throw new Error(unsupportedBinaryText);
        }
    }

    return {
        setters: [],
        execute: function () {
            IdUtils = require("./Utils/IdUtils.js");
            esprima = require('esprima');
            LabelUtils = require("./Utils/LabelUtils.js");
            MetaDataUtils = require("./Utils/MetaDataUtils.js");
            NumberUtils = require("./Utils/NumberUtils.js");
            DateUtils = require("./Utils/DateUtils.js");
            SettingsUtils = require("./Utils/SettingsUtils.js");
            module.exports = FormulaFieldCalculator;

            FormulaFieldCalculator.prototype.setMetadata = function (data) {
                data.forEach(function (d) {
                    if (d != null && d.fullName != null) {
                        if (d.fullName.lastIndexOf('__c') != d.fullName.length - 3) {
                            hardcodeStandardField(d);
                        }

                        this.fieldMetadata[d.fullName] = d;
                    }
                }, this);
                this.spoofMetadataForTotals();
            };

            FormulaFieldCalculator.prototype.spoofMetadataForTotals = function () {
                var base = SettingsUtils.getPrefix() + "QuoteLine__c." + SettingsUtils.getPrefix();
                var fakeMeta = {
                    type: "Currency"
                };
                this.fieldMetadata[base + "NetTotal__c"] = fakeMeta;
                this.fieldMetadata[base + "CustomerTotal__c"] = fakeMeta;
                this.fieldMetadata[base + "PartnerTotal__c"] = fakeMeta;
                this.fieldMetadata[base + "RegularTotal__c"] = fakeMeta;
                this.fieldMetadata[base + "ListTotal__c"] = fakeMeta;
            };

            FormulaFieldCalculator.prototype.getMetadataForField = function (objectType, fieldName) {
                return this.fieldMetadata[objectType + '.' + fieldName];
            };

            FormulaFieldCalculator.prototype.resetEvaluatedFields = function () {
                this.evaluatedFields = {};
            };

            FormulaFieldCalculator.prototype.fieldIsEvaluated = function (fieldName) {
                return this.evaluatedFields[fieldName] == true;
            };

            FormulaFieldCalculator.prototype.markFieldEvaluated = function (fieldName) {
                this.evaluatedFields[fieldName] = true;
            };

            FormulaFieldCalculator.prototype.automaticallyMarkTotalFieldsEvaluated = function () {
                var base = SettingsUtils.getPrefix() + "QuoteLine__c." + SettingsUtils.getPrefix();
                this.markFieldEvaluated(base + "NetTotal__c");
                this.markFieldEvaluated(base + "CustomerTotal__c");
                this.markFieldEvaluated(base + "PartnerTotal__c");
                this.markFieldEvaluated(base + "RegularTotal__c");
                this.markFieldEvaluated(base + "ListTotal__c");
            };

            FormulaFieldCalculator.prototype.calculateFormulaFieldsOnObjects = function (objects) {
                var metaMap = this.fieldMetadata;
                var messagesByCause = {};
                objects.forEach(function (object) {
                    this.resetEvaluatedFields();
                    this.automaticallyMarkTotalFieldsEvaluated();

                    for (var fieldName in metaMap) {
                        var fieldOwner = fieldName.split(".")[0];
                        var shortName = fieldName.split(".")[1];

                        if (metaMap.hasOwnProperty(fieldName) && fieldOwner == MetaDataUtils.getObjectType(object)) {
                            try {
                                this.calculateField(shortName, object.record, 'Formula Field');
                            } catch (e) {
                                if (e.problemField != null && messagesByCause[e.problemField] == null) {
                                    messagesByCause[e.problemField] = e.message;
                                } else if (e.problemField == null && messagesByCause[fieldName] == null) {
                                    messagesByCause[fieldName] = "Field '" + fieldName + "' threw the following exception: " + e.message;
                                }
                            }
                        }
                    }
                }, this);

                for (var pf in messagesByCause) {
                    if (console) {
                        console.warn(messagesByCause[pf]);
                    }
                }
            };

            FormulaFieldCalculator.prototype.calculateField = function (fieldName, record, formulaSource) {
                var fullName = MetaDataUtils.getRecordType(record) + "." + fieldName;
                var meta = this.fieldMetadata[fullName];

                if (meta == null) {
                    var errorText = LabelUtils.getLabelByKey('msg_js_err_no_metadata').replace('{0}', fullName);
                    var e = new Error(errorText);
                    e.problemField = fullName;
                    throw e;
                }

                var result;

                if (!this.fieldIsEvaluated(fullName)) {
                    if (fieldIsCalculated(record, meta, formulaSource)) {
                        var formula = meta.formula;
                        formula = replaceBadCharacters(formula);
                        var ast = esprima.parse(formula);
                        result = this.processAST(ast, record, meta);
                        var resultType = meta.type.toLowerCase();

                        if (result != null) {
                            if (resultType == 'text' && meta.length != null) {
                                result = result.slice(0, meta.length);
                            } else if ((resultType == 'currency' || resultType == 'number' || resultType == 'percent') && meta.scale != null) {
                                if (resultType == 'percent') {
                                    result = result * 100;
                                }

                                result = NumberUtils.setScale(result, meta.scale);
                            } else if (resultType == 'date' && result instanceof Date) {
                                result = DateUtils.toApexDate(result);
                            } else if (resultType == 'datetime' && result instanceof Date) {
                                result = DateUtils.toApexDateTime(result);
                            }
                        }
                    } else {
                        result = record[fieldName];

                        if (result == null) {
                            result = meta.defaultValue;
                        }
                    }

                    if (result == undefined) {
                        result = null;
                    } else if (meta.type.toLowerCase() == 'checkbox' && typeof result == 'string') {
                        if (result.toLowerCase() === 'true') {
                            result = true;
                        } else if (result.toLowerCase() === 'false') {
                            result = false;
                        }
                    }

                    record[fieldName] = result;
                    this.markFieldEvaluated(fullName);
                }

                return record[fieldName];
            };

            FormulaFieldCalculator.prototype.processAST = function (ast, record, metadata, src) {
                switch (ast.type) {
                    case "Program":
                        return this.processAST(ast.body[0], record, metadata, src);

                    case "ExpressionStatement":
                        return this.processAST(ast.expression, record, metadata, src);

                    case "CallExpression":
                        return this.processCallExpression(ast, record, metadata, src);

                    case "UnaryExpression":
                        var arg = this.processAST(ast.argument, record, metadata, src);
                        return processUnaryExpression(ast.operator, arg, metadata);

                    case "LogicalExpression":
                    case "BinaryExpression":
                        var operator = ast.operator;
                        var left = this.processAST(ast.left, record, metadata, src);
                        var right = this.processAST(ast.right, record, metadata, src);
                        return processBinaryOp(operator, left, right, metadata);

                    case "Literal":
                        return ast.value;

                    case "Identifier":
                        if (ast.name.toLowerCase() === "true") {
                            return true;
                        } else if (ast.name.toLowerCase() === "false") {
                            return false;
                        } else if (ast.name.toLowerCase() === 'null') {
                            return null;
                        }

                        var value = this.calculateField(ast.name, record, src);
                        var referencedMeta = this.getMetadataForField(MetaDataUtils.getRecordType(record), ast.name);
                        var referencedType = referencedMeta.type.toLowerCase();

                        if (value == null) {
                            var referenceIsNumCurrOrPercent = referencedType == "number" || referencedType == "currency" || referencedType == "percent";
                            var blanksAsZero = metadata.formulaTreatBlanksAs == 'BlankAsZero';

                            if (referenceIsNumCurrOrPercent && blanksAsZero) {
                                return 0;
                            }

                            if (referencedType == 'text') {
                                return "";
                            }

                            return null;
                        }

                        if (referencedType == 'date') {
                            var attrs = value.split('-');
                            value = new Date(Date.UTC(attrs[0], attrs[1], attrs[2]));
                        } else if (referencedType == 'datetime') {
                            value = new Date(value);
                        } else if (referencedType == 'percent') {
                            value = value / 100;
                        }

                        return value;

                    case "MemberExpression":
                        value = this.handleMemberExpression(ast, record, metadata, src);
                        referencedMeta = this.getMetadataForField(MetaDataUtils.getRecordType(record), ast.name);
                        referencedType = referencedMeta.type.toLowerCase();

                        if (referencedType == 'percent') {
                            value = value / 100;
                        }

                    default:
                        var astErrorText = LabelUtils.getLabelByKey("msg_js_err_unexpected_ast").replace("{0}", metadata.fullName);
                        var compError = new Error(astErrorText);
                        compError.problemField = meta.fullName;
                        throw compError;
                }
            };

            FormulaFieldCalculator.prototype.handleMemberExpression = function (ast, record, metadata, formulaSource) {
                var property = ast.property.name;
                var referencedRecord;

                if (ast.object.type == 'Identifier') {
                    var object = ast.object.name;

                    if (object.indexOf('$') == 0) {
                        var globalVarError = LabelUtils.getLabelByKey('msg_js_err_unsupported_global').replace("{0}", metadata.fullName).replace("{1}", object).replace("{2}", property);
                        var gve = new Error(globalVarError);
                        gve.problemField = metadata.fullName;
                        throw e;
                    }

                    referencedRecord = record[object];
                } else if (ast.object.type == 'MemberExpression') {
                    referencedRecord = this.handleMemberExpression(ast.object, record, metadata, formulaSource);
                }

                if (referencedRecord == null) {
                    return null;
                }

                if (property.indexOf('__r') == property.length - 3) {
                    return referencedRecord[property];
                } else {
                    return this.calculateField(property, referencedRecord, formulaSource);
                }
            };

            FormulaFieldCalculator.prototype.parseRuleFormula = function (formula, record, quoteRecord) {
                if (quoteRecord) {
                    this.quoteRecord = quoteRecord;
                }

                var ast = esprima.parse(formula);
                var fakeMetadata = {};
                return this.processAST(ast, record, fakeMetadata, "Price Rule");
            };

            FormulaFieldCalculator.prototype.processCallExpression = function (ast, record, metadata, src) {
                var name = ast.callee.name.toUpperCase();
                var args = ast["arguments"];

                switch (name) {
                    case "ABS":
                        var arg = this.processAST(args[0], record, metadata, src);
                        return arg > 0 ? arg : -arg;

                    case "AND":
                        for (var i = 0; i < args.length; i++) {
                            arg = this.processAST(args[i], record, metadata, src);

                            if (!arg) {
                                return false;
                            }
                        }

                        return true;

                    case "BEGINS":
                        var string = this.processAST(args[0], record, metadata, src);
                        var substring = this.processAST(args[1], record, metadata, src);
                        return string.indexOf(substring) === 0;

                    case "BLANKVALUE":
                        var test = this.processAST(args[0], record, metadata, src);
                        var replacement = this.processAST(args[1], record, metadata, src);
                        var testIsBlank = test == null || test == "";
                        return testIsBlank ? replacement : test;

                    case "BR":
                        return "<br>";

                    case "CASE":
                        var condition = this.processAST(args[0], record, metadata, src);
                        var length = args.length;

                        for (i = 1; i < length - 1; i += 2) {
                            arg = this.processAST(args[i], record, metadata, src);

                            if (arg === condition) {
                                return this.processAST(args[i + 1], record, metadata, src);
                            }
                        }

                        return this.processAST(args[length - 1], record, metadata, src);

                    case "CASESAFEID":
                        var id = this.processAST(args[0], record, metadata, src);
                        return IdUtils.convertTo18(id);

                    case "CEILING":
                        var num = this.processAST(args[0], record, metadata, src);
                        return num > 0 ? Math.ceil(num) : Math.floor(num);

                    case "CONTAINS":
                        string = this.processAST(args[0], record, metadata, src);
                        substring = this.processAST(args[1], record, metadata, src);
                        return string.indexOf(substring) != -1;

                    case "DATE":
                        var year = this.processAST(args[0], record, metadata, src);
                        var month = this.processAST(args[1], record, metadata, src) - 1;
                        var day = this.processAST(args[2], record, metadata, src);
                        res = new Date(Date.UTC(year, month, day));

                        if (res.getUTCFullYear() != year || res.getUTCDate() != day || res.getUTCMonth() != month) {
                            throw new Error("Invalid date");
                        }

                        return res;

                    case "DATEVALUE":
                        var dateString = this.processAST(args[0], record, metadata, src);
                        return new Date(dateString);

                    case "DATETIMEVALUE":
                        dateString = this.processAST(args[0], record, metadata, src);
                        var dateTime = new Date(dateString);
                        return dateTime;

                    case "DAY":
                        arg = this.processAST(args[0], record, metadata, src);
                        return arg.getUTCDate();

                    case "DISTANCE":
                        var distanceErrorText = LabelUtils.getLabelByKey("msg_js_err_unsupported_formula").replace("{0}", meta.fullName).replace("{1}", "DISTANCE()");
                        var distanceError = new Error(distanceErrorText);
                        distanceError.problemField = meta.fullName;
                        throw distanceError;

                    case "EXP":
                        return Math.exp(this.processAST(args[0], record, metadata, src));

                    case "FIND":
                        string = this.processAST(args[1], record, metadata, src);
                        substring = this.processAST(args[0], record, metadata, src);
                        var startPoint = args.length == 3 ? this.processAST(args[2], record, metadata, src) : 0;
                        return string.indexOf(substring, startPoint || 0) + 1;

                    case "FLOOR":
                        num = this.processAST(args[0], record, metadata, src);
                        return num > 0 ? Math.floor(num) : Math.ceil(num);

                    case "GEOLOCATION":
                        var geolocErrorText = LabelUtils.getLabelByKey("msg_js_err_unsupported_formula").replace("{0}", meta.fullName).replace("{1}", "GEOLOCATION()");
                        var geolocError = new Error(geolocErrorText);
                        geolocError.problemField = meta.fullName;
                        throw geolocError;

                    case "GETSESSIONID":
                        var sessionIdErrorText = LabelUtils.getLabelByKey("msg_js_err_unsupported_formula").replace("{0}", meta.fullName).replace("{1}", "GETSESSIONID()");
                        var sessionIdError = new Error(sessionIdErrorText);
                        sessionIdError.problemField = meta.fullName;
                        throw sessionIdError;

                    case "HYPERLINK":
                        var url = this.processAST(args[0], record, metadata, src);
                        url = url.replace(/={2}/g, "=");
                        var friendlyName = this.processAST(args[1], record, metadata, src);
                        target = args.length == 3 ? this.processAST(args[2], record, metadata, src) : "_blank";
                        var linkTag = "<a href=\"" + url + "\" target=\"" + target + "\">" + friendlyName + "</a>";
                        return linkTag;

                    case "IF":
                        condition = this.processAST(args[0], record, metadata, src);
                        var sat = this.processAST(args[1], record, metadata, src);
                        var unsat = this.processAST(args[2], record, metadata, src);
                        return condition === true ? sat : unsat;

                    case "IMAGE":
                        url = this.processAST(args[0], record, metadata, src);
                        url = url.replace(/={2}/g, "=");
                        url = url.replace(/&amp;/g, "&");
                        var altText = this.processAST(args[1], record, metadata, src);
                        var img = "<img src=\"" + url + "\" alt=\"" + altText;

                        if (args.length > 2) {
                            img += "\" height=\"" + this.processAST(args[2], record, metadata, src);
                        }

                        if (args.length > 3) {
                            img += "\" width=\"" + this.processAST(args[3], record, metadata, src);
                        }

                        img += "\" border=\"0\">";
                        return img;

                    case "INCLUDES":
                        var choices = this.processAST(args[0], record, metadata, src).split(";");
                        var option = this.processAST(args[1], record, metadata, src);
                        return choices.some(function (element) {
                            return element === option;
                        });

                    case "ISBLANK":
                        var field = this.processAST(args[0], record, metadata, src);
                        return field == null || field === "";

                    case "ISNULL":
                        field = this.processAST(args[0], record, metadata, src);
                        return field == null;

                    case "ISNUMBER":
                        num = Number(this.processAST(args[0], record, metadata, src));
                        return num == num;

                    case "ISPICKVAL":
                        var value = this.processAST(args[0], record, metadata, src);
                        var literal = this.processAST(args[1], record, metadata, src);
                        return value == literal;

                    case "LEFT":
                        string = this.processAST(args[0], record, metadata, src);
                        var count = this.processAST(args[1], record, metadata, src);
                        return string.slice(0, count);

                    case "LEN":
                        string = this.processAST(args[0], record, metadata, src);
                        return string.length;

                    case "LN":
                        return Math.log(this.processAST(args[0], record, metadata, src));

                    case "LOG":
                        return Math.log(this.processAST(args[0], record, metadata, src)) / Math.LN10;

                    case "LOWER":
                        return this.processAST(args[0], record, metadata, src).toLowerCase();

                    case "LPAD":
                        string = this.processAST(args[0], record, metadata, src);
                        length = this.processAST(args[1], record, metadata, src);
                        var padString = args.length == 3 ? this.processAST(args[2], record, metadata, src) : " ";

                        if (string.length > length) {
                            return string.slice(0, length);
                        } else if (string.length == length) {
                            return string;
                        } else {
                            var diff = length - string.length;
                            var fullCount = Math.floor(diff / padString.length);
                            var partialCount = diff % padString.length;
                            var adjusted = "";

                            for (i = 0; i < fullCount; i++) {
                                adjusted += padString;
                            }

                            adjusted += padString.slice(0, partialCount);
                            return adjusted + string;
                        }

                    case "MAX":
                        var res = Number.NEGATIVE_INFINITY;

                        for (i = 0; i < args.length; i++) {
                            arg = this.processAST(args[i], record, metadata, src);
                            res = res > arg ? res : arg;
                        }

                        return res;

                    case "MID":
                        string = this.processAST(args[0], record, metadata, src);
                        startPoint = this.processAST(args[1], record, metadata, src);
                        count = this.processAST(args[2], record, metadata, src);
                        return string.slice(startPoint - 1, startPoint - 1 + count);

                    case "MIN":
                        res = Number.POSITIVE_INFINITY;

                        for (i = 0; i < args.length; i++) {
                            arg = this.processAST(args[i], record, metadata, src);
                            res = res < arg ? res : arg;
                        }

                        return res;

                    case "MOD":
                        return this.processAST(args[0], record, metadata, src) % this.processAST(args[1], record, metadata, src);

                    case "MONTH":
                        arg = this.processAST(args[0], record, metadata, src);
                        return arg.getUTCMonth() + 1;

                    case "NOT":
                        return !this.processAST(args[0], record, metadata, src);

                    case "NOW":
                        return new Date(Date.now());

                    case "NULLVALUE":
                        test = this.processAST(args[0], record, metadata, src);
                        replacement = this.processAST(args[1], record, metadata, src);
                        return test == null ? replacement : test;

                    case "OR":
                        for (i = 0; i < args.length; i++) {
                            arg = this.processAST(args[i], record, metadata, src);

                            if (arg) {
                                return true;
                            }
                        }

                        return false;

                    case "RIGHT":
                        string = this.processAST(args[0], record, metadata, src);
                        count = this.processAST(args[1], record, metadata, src);

                        if (count >= string.length) {
                            return string;
                        } else {
                            return string.slice(string.length - count, string.length);
                        }

                    case "ROUND":
                        var number = this.processAST(args[0], record, metadata, src);
                        var placeCount = this.processAST(args[1], record, metadata, src);
                        var multiplier = Math.pow(10, placeCount);
                        number *= multiplier;

                        if (number > 0) {
                            res = Math.round(number);
                        } else {
                            res = -Math.round(-number);
                        }

                        res /= multiplier;
                        return res;

                    case "RPAD":
                        string = this.processAST(args[0], record, metadata, src);
                        length = this.processAST(args[1], record, metadata, src);
                        padString = args.length == 3 ? this.processAST(args[2], record, metadata, src) : " ";

                        if (string.length > length) {
                            return string.slice(0, length);
                        } else if (string.length === length) {
                            return string;
                        } else {
                            diff = length - string.length;
                            fullCount = Math.floor(diff / padString.length);
                            partialCount = diff % padString.length;
                            adjusted = "";

                            for (i = 0; i < fullCount; i++) {
                                adjusted += padString;
                            }

                            adjusted += padString.slice(0, partialCount);
                            return string + adjusted;
                        }

                    case "SQRT":
                        return Math.sqrt(this.processAST(args[0], record, metadata, src));

                    case "SUBSTITUTE":
                        string = this.processAST(args[0], record, metadata, src);
                        var target = new RegExp(this.processAST(args[1], record, metadata, src), "g");
                        replacement = this.processAST(args[2], record, metadata, src);
                        return string.replace(target, replacement);

                    case "TEXT":
                        return String(this.processAST(args[0], record, metadata, src));

                    case "TODAY":
                        var today = new Date();
                        return new Date(Date.UTC(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate()));

                    case "TRIM":
                        return this.processAST(args[0], record, metadata, src).trim().replace(/[ ]+/g, " ");

                    case "UPPER":
                        return this.processAST(args[0], record, metadata, src).toUpperCase();

                    case "VALUE":
                        return Number(this.processAST(args[0], record, metadata, src)) || "#Error!";

                    case "YEAR":
                        arg = this.processAST(args[0], record, metadata, src);

                        if (arg instanceof Date) {
                            return arg.getFullYear();
                        }

                        return arg.split("-")[0];

                    default:
                        var unimplementedErrorText = LabelUtils.getLabelByKey("msg_js_err_unsupported_formula").replace("{0}", metadata.fullName).replace("{1}", name);
                        throw new Error(unimplementedErrorText);
                }
            };
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkZvcm11bGFGaWVsZENhbGN1bGF0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUdBLFlBQVksQ0FBQyIsImZpbGUiOiJGb3JtdWxhRmllbGRDYWxjdWxhdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDcmVhdGVkIGJ5IGpmZWluZ29sZCBvbiA3LzI0LzE1LlxuICovXG5cInVzZSBzdHJpY3RcIjtcbnZhciBJZFV0aWxzID0gcmVxdWlyZShcIi4vVXRpbHMvSWRVdGlscy5qc1wiKTtcbnZhciBlc3ByaW1hID0gcmVxdWlyZSgnZXNwcmltYScpO1xudmFyIExhYmVsVXRpbHMgPSByZXF1aXJlKFwiLi9VdGlscy9MYWJlbFV0aWxzLmpzXCIpO1xudmFyIE1ldGFEYXRhVXRpbHMgPSByZXF1aXJlKFwiLi9VdGlscy9NZXRhRGF0YVV0aWxzLmpzXCIpO1xudmFyIE51bWJlclV0aWxzID0gcmVxdWlyZShcIi4vVXRpbHMvTnVtYmVyVXRpbHMuanNcIik7XG52YXIgRGF0ZVV0aWxzID0gcmVxdWlyZShcIi4vVXRpbHMvRGF0ZVV0aWxzLmpzXCIpO1xudmFyIFNldHRpbmdzVXRpbHMgPSByZXF1aXJlKFwiLi9VdGlscy9TZXR0aW5nc1V0aWxzLmpzXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBGb3JtdWxhRmllbGRDYWxjdWxhdG9yO1xuXG5mdW5jdGlvbiBGb3JtdWxhRmllbGRDYWxjdWxhdG9yKCkge1xuXHR0aGlzLnF1b3RlUmVjb3JkID0ge307XG5cdHRoaXMuZmllbGRNZXRhZGF0YSA9IHt9O1xuXHR0aGlzLmV2YWx1YXRlZEZpZWxkcyA9IHt9O1xufVxuXG5Gb3JtdWxhRmllbGRDYWxjdWxhdG9yLnByb3RvdHlwZS5zZXRNZXRhZGF0YSA9IGZ1bmN0aW9uKGRhdGEpIHtcblx0ZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHtcblx0XHRpZiAoZCAhPSBudWxsICYmIGQuZnVsbE5hbWUgIT0gbnVsbCkge1xuXHRcdFx0aWYgKGQuZnVsbE5hbWUubGFzdEluZGV4T2YoJ19fYycpICE9IGQuZnVsbE5hbWUubGVuZ3RoIC0gMykge1xuXHRcdFx0XHQvLyBUT0RPOiBIQVJEQ09ERSBTVEFOREFSRCBGSUVMRFNcblx0XHRcdFx0aGFyZGNvZGVTdGFuZGFyZEZpZWxkKGQpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5maWVsZE1ldGFkYXRhW2QuZnVsbE5hbWVdID0gZDtcblx0XHR9XG5cdH0sIHRoaXMpO1xuXHR0aGlzLnNwb29mTWV0YWRhdGFGb3JUb3RhbHMoKTtcbn07XG5cbkZvcm11bGFGaWVsZENhbGN1bGF0b3IucHJvdG90eXBlLnNwb29mTWV0YWRhdGFGb3JUb3RhbHMgPSBmdW5jdGlvbigpIHtcblx0dmFyIGJhc2UgPSBTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgXCJRdW90ZUxpbmVfX2MuXCIgKyBTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpO1xuXHR2YXIgZmFrZU1ldGEgPSB7XG5cdFx0dHlwZTogXCJDdXJyZW5jeVwiXG5cdH07XG5cdHRoaXMuZmllbGRNZXRhZGF0YVtiYXNlICsgXCJOZXRUb3RhbF9fY1wiXSA9IGZha2VNZXRhO1xuXHR0aGlzLmZpZWxkTWV0YWRhdGFbYmFzZSArIFwiQ3VzdG9tZXJUb3RhbF9fY1wiXSA9IGZha2VNZXRhO1xuXHR0aGlzLmZpZWxkTWV0YWRhdGFbYmFzZSArIFwiUGFydG5lclRvdGFsX19jXCJdID0gZmFrZU1ldGE7XG5cdHRoaXMuZmllbGRNZXRhZGF0YVtiYXNlICsgXCJSZWd1bGFyVG90YWxfX2NcIl0gPSBmYWtlTWV0YTtcblx0dGhpcy5maWVsZE1ldGFkYXRhW2Jhc2UgKyBcIkxpc3RUb3RhbF9fY1wiXSA9IGZha2VNZXRhO1xufTtcblxuZnVuY3Rpb24gaGFyZGNvZGVTdGFuZGFyZEZpZWxkKGQpIHtcbiAgICB2YXIgZm4gPSBkLmZ1bGxOYW1lLnNwbGl0KCcuJylbMV07XG4gICAgc3dpdGNoKGZuKSB7XG4gICAgICAgIGNhc2UgJ0NyZWF0ZWREYXRlJzpcbiAgICAgICAgY2FzZSAnTGFzdE1vZGlmaWVkRGF0ZSc6XG4gICAgICAgICAgICBkLnR5cGUgPSAnRGF0ZVRpbWUnO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdOYW1lJzpcbiAgICAgICAgICAgIGQudHlwZSA9ICdBdXRvTnVtYmVyJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAnT3duZXJJZCc6XG4gICAgICAgIGNhc2UgJ0NyZWF0ZWRCeUlkJzpcbiAgICAgICAgY2FzZSAnTGFzdE1vZGlmaWVkQnlJZCc6XG4gICAgICAgICAgICBkLnR5cGUgPSAnTG9va3VwJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY2FzZSAnQ3VycmVuY3lJc29Db2RlJzpcbiAgICAgICAgICAgIGQudHlwZSA9ICdUZXh0JztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihkLmZ1bGxOYW1lICsgXCIgaXMgYSBzdGFuZGFyZCBmaWVsZCB3aXRoIG5vIG1hbnVhbCBoYXJkY29kaW5nLiBCZSBjYXJlZnVsLi4uXCIpO1xuICAgIH1cbn1cblxuRm9ybXVsYUZpZWxkQ2FsY3VsYXRvci5wcm90b3R5cGUuZ2V0TWV0YWRhdGFGb3JGaWVsZCA9IGZ1bmN0aW9uKG9iamVjdFR5cGUsIGZpZWxkTmFtZSkge1xuXHRyZXR1cm4gdGhpcy5maWVsZE1ldGFkYXRhW29iamVjdFR5cGUgKyAnLicgKyBmaWVsZE5hbWVdO1xufTtcblxuRm9ybXVsYUZpZWxkQ2FsY3VsYXRvci5wcm90b3R5cGUucmVzZXRFdmFsdWF0ZWRGaWVsZHMgPSBmdW5jdGlvbigpIHtcblx0dGhpcy5ldmFsdWF0ZWRGaWVsZHMgPSB7fTtcbn07XG5cbkZvcm11bGFGaWVsZENhbGN1bGF0b3IucHJvdG90eXBlLmZpZWxkSXNFdmFsdWF0ZWQgPSBmdW5jdGlvbihmaWVsZE5hbWUpIHtcblx0cmV0dXJuIHRoaXMuZXZhbHVhdGVkRmllbGRzW2ZpZWxkTmFtZV0gPT0gdHJ1ZTtcbn07XG5cbkZvcm11bGFGaWVsZENhbGN1bGF0b3IucHJvdG90eXBlLm1hcmtGaWVsZEV2YWx1YXRlZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSkge1xuXHR0aGlzLmV2YWx1YXRlZEZpZWxkc1tmaWVsZE5hbWVdID0gdHJ1ZTtcbn07XG5cbkZvcm11bGFGaWVsZENhbGN1bGF0b3IucHJvdG90eXBlLmF1dG9tYXRpY2FsbHlNYXJrVG90YWxGaWVsZHNFdmFsdWF0ZWQgPSBmdW5jdGlvbigpIHtcblx0dmFyIGJhc2UgPSBTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgXCJRdW90ZUxpbmVfX2MuXCIgKyBTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpO1xuICAgIHRoaXMubWFya0ZpZWxkRXZhbHVhdGVkKGJhc2UgKyBcIk5ldFRvdGFsX19jXCIpO1xuICAgIHRoaXMubWFya0ZpZWxkRXZhbHVhdGVkKGJhc2UgKyBcIkN1c3RvbWVyVG90YWxfX2NcIik7XG4gICAgdGhpcy5tYXJrRmllbGRFdmFsdWF0ZWQoYmFzZSArIFwiUGFydG5lclRvdGFsX19jXCIpO1xuICAgIHRoaXMubWFya0ZpZWxkRXZhbHVhdGVkKGJhc2UgKyBcIlJlZ3VsYXJUb3RhbF9fY1wiKTtcbiAgICB0aGlzLm1hcmtGaWVsZEV2YWx1YXRlZChiYXNlICsgXCJMaXN0VG90YWxfX2NcIik7XG59O1xuXG5Gb3JtdWxhRmllbGRDYWxjdWxhdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVGb3JtdWxhRmllbGRzT25PYmplY3RzID0gZnVuY3Rpb24ob2JqZWN0cykge1xuXHR2YXIgbWV0YU1hcCA9IHRoaXMuZmllbGRNZXRhZGF0YTtcblx0dmFyIG1lc3NhZ2VzQnlDYXVzZSA9IHt9O1xuXHRvYmplY3RzLmZvckVhY2goZnVuY3Rpb24ob2JqZWN0KSB7XG5cdFx0dGhpcy5yZXNldEV2YWx1YXRlZEZpZWxkcygpO1xuXHRcdHRoaXMuYXV0b21hdGljYWxseU1hcmtUb3RhbEZpZWxkc0V2YWx1YXRlZCgpO1xuXHRcdGZvciAodmFyIGZpZWxkTmFtZSBpbiBtZXRhTWFwKSB7XG5cdFx0XHQvLyBJZiB0aGUgZmllbGQgaXMgYSBtZW1iZXIgb2YgdGhlIG9iamVjdCBiZWluZyBldmFsdWF0ZWRcblx0XHRcdHZhciBmaWVsZE93bmVyID0gZmllbGROYW1lLnNwbGl0KFwiLlwiKVswXTtcblx0XHRcdHZhciBzaG9ydE5hbWUgPSBmaWVsZE5hbWUuc3BsaXQoXCIuXCIpWzFdO1xuXHRcdFx0aWYgKG1ldGFNYXAuaGFzT3duUHJvcGVydHkoZmllbGROYW1lKSAmJiAoZmllbGRPd25lciA9PSBNZXRhRGF0YVV0aWxzLmdldE9iamVjdFR5cGUob2JqZWN0KSkpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHR0aGlzLmNhbGN1bGF0ZUZpZWxkKHNob3J0TmFtZSwgb2JqZWN0LnJlY29yZCwgJ0Zvcm11bGEgRmllbGQnKTtcblx0XHRcdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0XHRcdC8vIFRPRE86IEhBTkRMRSBFWENFUFRJT05cblx0XHRcdFx0XHRpZiAoZS5wcm9ibGVtRmllbGQgIT0gbnVsbCAmJiBtZXNzYWdlc0J5Q2F1c2VbZS5wcm9ibGVtRmllbGRdID09IG51bGwpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2VzQnlDYXVzZVtlLnByb2JsZW1GaWVsZF0gPSBlLm1lc3NhZ2U7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChlLnByb2JsZW1GaWVsZCA9PSBudWxsICYmIG1lc3NhZ2VzQnlDYXVzZVtmaWVsZE5hbWVdID09IG51bGwpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2VzQnlDYXVzZVtmaWVsZE5hbWVdID0gXCJGaWVsZCAnXCIgKyBmaWVsZE5hbWUgK1wiJyB0aHJldyB0aGUgZm9sbG93aW5nIGV4Y2VwdGlvbjogXCIgKyBlLm1lc3NhZ2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9LCB0aGlzKTtcblx0Zm9yICh2YXIgcGYgaW4gbWVzc2FnZXNCeUNhdXNlKSB7XG5cdFx0aWYgKGNvbnNvbGUpIHtcblx0XHRcdGNvbnNvbGUud2FybihtZXNzYWdlc0J5Q2F1c2VbcGZdKTtcblx0XHR9XG5cdH1cbn07XG5cbmZ1bmN0aW9uIGZpZWxkSXNDYWxjdWxhdGVkKHJlY29yZCwgbWV0YWRhdGEsIGZvcm11bGFTb3VyY2UpIHtcbiAgICBpZiAoZm9ybXVsYVNvdXJjZSA9PSAnUHJpY2UgUnVsZScpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgdHlwZSA9IE1ldGFEYXRhVXRpbHMuZ2V0UmVjb3JkVHlwZShyZWNvcmQpO1xuICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ1NCUVFfX1F1b3RlX19jJzpcbiAgICAgICAgY2FzZSAnUXVvdGVfX2MnOlxuICAgICAgICBjYXNlICdTQlFRX19RdW90ZUxpbmVHcm91cF9fYyc6XG4gICAgICAgIGNhc2UgJ1F1b3RlTGluZUdyb3VwX19jJzpcbiAgICAgICAgY2FzZSAnU0JRUV9fUXVvdGVMaW5lX19jJzpcbiAgICAgICAgY2FzZSAnUXVvdGVMaW5lX19jJzpcbiAgICAgICAgICAgIHZhciBmbiA9IG1ldGFkYXRhLmZ1bGxOYW1lO1xuICAgICAgICAgICAgaWYgKGZuLmluZGV4T2YoJ1Byb2R1Y3RDb2RlX19jJykgPT09IChmbi5sZW5ndGggLSAxNCkgfHwgZm4uaW5kZXhPZignUHJvZHVjdE5hbWVfX2MnKSA9PT0gKGZuLmxlbmd0aCAtIDE0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBtZXRhZGF0YS5mb3JtdWxhICE9IG51bGw7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG5Gb3JtdWxhRmllbGRDYWxjdWxhdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVGaWVsZCA9IGZ1bmN0aW9uKGZpZWxkTmFtZSwgcmVjb3JkLCBmb3JtdWxhU291cmNlKSB7XG5cdC8vIElmIHRoZSBmaWVsZCBoYXNuJ3QgYmVlbiBldmFsdWF0ZWQsIGRvIGl0IG5vd1xuXHR2YXIgZnVsbE5hbWUgPSBNZXRhRGF0YVV0aWxzLmdldFJlY29yZFR5cGUocmVjb3JkKSArIFwiLlwiICsgZmllbGROYW1lO1xuXHR2YXIgbWV0YSA9IHRoaXMuZmllbGRNZXRhZGF0YVtmdWxsTmFtZV07XG5cdGlmIChtZXRhID09IG51bGwpIHtcblx0XHR2YXIgZXJyb3JUZXh0ID0gTGFiZWxVdGlscy5nZXRMYWJlbEJ5S2V5KCdtc2dfanNfZXJyX25vX21ldGFkYXRhJykucmVwbGFjZSgnezB9JywgZnVsbE5hbWUpO1xuXHRcdHZhciBlID0gbmV3IEVycm9yKGVycm9yVGV4dCk7XG5cdFx0ZS5wcm9ibGVtRmllbGQgPSBmdWxsTmFtZTtcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHZhciByZXN1bHQ7XG5cdC8vIEV2YWx1YXRlIHRoZSBmaWVsZCBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGV2YWx1YXRlZFxuXHRpZiAoIXRoaXMuZmllbGRJc0V2YWx1YXRlZChmdWxsTmFtZSkpIHtcblx0XHQvLyBDaGVjayBpZiB0aGlzIHJlY29yZCBpcyBvbmUgdGhhdCB3ZSBzaG91bGQgYmUgY2FsY3VsYXRpbmcuXG5cdFx0Ly8gaS5lLiBpZiBpdCdzIGEgUXVvdGUsIExpbmUsIG9yIEdyb3VwIHJlY29yZCwgYW5kIHRoZSBmaWVsZCBoYXMgYSBmb3JtdWxhXG5cdFx0aWYgKGZpZWxkSXNDYWxjdWxhdGVkKHJlY29yZCwgbWV0YSwgZm9ybXVsYVNvdXJjZSkpIHtcblx0XHRcdHZhciBmb3JtdWxhID0gbWV0YS5mb3JtdWxhO1xuXHRcdFx0Zm9ybXVsYSA9IHJlcGxhY2VCYWRDaGFyYWN0ZXJzKGZvcm11bGEpO1xuXHRcdFx0dmFyIGFzdCA9IGVzcHJpbWEucGFyc2UoZm9ybXVsYSk7XG5cdFx0XHRyZXN1bHQgPSB0aGlzLnByb2Nlc3NBU1QoYXN0LCByZWNvcmQsIG1ldGEpO1xuXHRcdFx0dmFyIHJlc3VsdFR5cGUgPSBtZXRhLnR5cGUudG9Mb3dlckNhc2UoKTtcblx0XHRcdC8vIElmIHRoZSByZXN1bHQgaXMgbm9uLW51bGwsIHByb2Nlc3MgaXQgYWNjb3JkaW5nIHRvIHRoZSBtZXRhZGF0YSBzcGVjaWZpY2F0aW9uc1xuXHRcdFx0aWYgKHJlc3VsdCAhPSBudWxsKSB7XG5cdFx0XHRcdGlmIChyZXN1bHRUeXBlID09ICd0ZXh0JyAmJiBtZXRhLmxlbmd0aCAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Ly8gVGFrZSBvbmx5IGxlbmd0aC1tYW55IGNoYXJhY3RlcnNcblx0XHRcdFx0XHRyZXN1bHQgPSByZXN1bHQuc2xpY2UoMCwgbWV0YS5sZW5ndGgpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKChyZXN1bHRUeXBlID09ICdjdXJyZW5jeScgfHwgcmVzdWx0VHlwZSA9PSAnbnVtYmVyJyB8fCByZXN1bHRUeXBlID09ICdwZXJjZW50JykgJiYgbWV0YS5zY2FsZSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0Ly8gVGFrZSBvbmx5IHNjYWxlLW1hbnkgZGVjaW1hbCBwbGFjZXNcblx0XHRcdFx0XHRpZiAocmVzdWx0VHlwZSA9PSAncGVyY2VudCcpIHtcblx0XHRcdFx0XHRcdHJlc3VsdCA9IHJlc3VsdCAqIDEwMDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmVzdWx0ID0gTnVtYmVyVXRpbHMuc2V0U2NhbGUocmVzdWx0LCBtZXRhLnNjYWxlKTtcblx0XHRcdFx0fSBlbHNlIGlmIChyZXN1bHRUeXBlID09ICdkYXRlJyAmJiByZXN1bHQgaW5zdGFuY2VvZiBEYXRlKSB7XG5cdFx0XHRcdFx0cmVzdWx0ID0gRGF0ZVV0aWxzLnRvQXBleERhdGUocmVzdWx0KTtcblx0XHRcdFx0fSBlbHNlIGlmIChyZXN1bHRUeXBlID09ICdkYXRldGltZScgJiYgcmVzdWx0IGluc3RhbmNlb2YgRGF0ZSkge1xuXHRcdFx0XHRcdHJlc3VsdCA9IERhdGVVdGlscy50b0FwZXhEYXRlVGltZShyZXN1bHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIElmIGl0J3Mgbm90IGFuIGV2YWx1YXRlZCBmb3JtdWxhLCB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIHZhbHVlXG5cdFx0XHRyZXN1bHQgPSByZWNvcmRbZmllbGROYW1lXTtcblx0XHRcdGlmIChyZXN1bHQgPT0gbnVsbCkge1xuXHRcdFx0XHRyZXN1bHQgPSBtZXRhLmRlZmF1bHRWYWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gRmllbGRzIHNob3VsZCBuZXZlciBFVkVSIGJlIHVuZGVmaW5lZC4gVGhleSBzaG91bGQgb25seSBiZSBudWxsLlxuXHRcdGlmIChyZXN1bHQgPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXN1bHQgPSBudWxsO1xuXHRcdH0gZWxzZSBpZiAobWV0YS50eXBlLnRvTG93ZXJDYXNlKCkgPT0gJ2NoZWNrYm94JyAmJiB0eXBlb2YgcmVzdWx0ID09ICdzdHJpbmcnKSB7XG5cdFx0XHRpZiAocmVzdWx0LnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJykge1xuXHRcdFx0XHRyZXN1bHQgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIGlmIChyZXN1bHQudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJykge1xuXHRcdFx0XHRyZXN1bHQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVjb3JkW2ZpZWxkTmFtZV0gPSByZXN1bHQ7XG5cdFx0dGhpcy5tYXJrRmllbGRFdmFsdWF0ZWQoZnVsbE5hbWUpO1xuXHR9XG5cdHJldHVybiByZWNvcmRbZmllbGROYW1lXTtcbn07XG5cbi8qKlxuICogUmVwbGFjZXMgY2hhcmFjdGVycyB0aGF0IGNvbmZ1c2UgdGhlIGNvbXBpbGVyIHdpdGggSlMtYWNjZXB0YWJsZSBlcXVpdmFsZW50cy4gKGkuZS4gPSB3aXRoID09LCBhbmQgPD4gd2l0aCAhPSlcbiAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtdWxhIFRoZSBmb3JtdWxhIHVzZWQgYnkgYSBTYWxlc2ZvcmNlIEZpZWxkXG4gKiBAcmV0dXJucyB7U3RyaW5nfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcmVwbGFjZUJhZENoYXJhY3RlcnMoZm9ybXVsYSkge1xuICAgIGZvcm11bGEgPSBmb3JtdWxhLnJlcGxhY2UoLz0rL2csIFwiPT1cIik7XG4gICAgZm9ybXVsYSA9IGZvcm11bGEucmVwbGFjZSgvPD0rL2csIFwiPD1cIik7XG4gICAgZm9ybXVsYSA9IGZvcm11bGEucmVwbGFjZSgvPj0rL2csIFwiPj1cIik7XG4gICAgZm9ybXVsYSA9IGZvcm11bGEucmVwbGFjZSgvPD4vZywgXCIhPVwiKTtcbiAgICBmb3JtdWxhID0gZm9ybXVsYS5yZXBsYWNlKC9bSWldW0ZmXVsoXS9nLCBcIklGKFwiKTtcbiAgICByZXR1cm4gZm9ybXVsYTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSByZXN1bHQgb2YgYSBmb3JtdWxhIGZpZWxkIHRocm91Z2ggdGhlIHVzZSBvZiBtdXR1YWxseSByZWN1cnNpdmUgY2FsbHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBhc3QgQW4gQWJzdHJhY3QgU3ludGF4IFRyZWUgcmVwcmVzZW50aW5nIGEgU0YgZm9ybXVsYSBmaWVsZFxuICogQHBhcmFtIHtPYmplY3R9IHJlY29yZCBUaGUgcmVjb3JkIG9mIGEgU0Ygb2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gbWV0YWRhdGEgVGhlIFNGIE1ldGFkYXRhIGZvciB0aGUgZm9ybXVsYSBiZWluZyBldmFsdWF0ZWRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgQSBzdHJpbmcgaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgZm9ybXVsYSBjb21lcyBmcm9tIGEgZm9ybXVsYSBmaWVsZCBvciBhIHByaWNlIHJ1bGVcbiAqIEByZXR1cm5zIHsqfVxuICogQHByaXZhdGVcbiAqL1xuRm9ybXVsYUZpZWxkQ2FsY3VsYXRvci5wcm90b3R5cGUucHJvY2Vzc0FTVCA9IGZ1bmN0aW9uKGFzdCwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKSB7XG4gICAgc3dpdGNoIChhc3QudHlwZSkge1xuICAgICAgICAvLyBUT0RPOiBNQUtFIFNVUkUgVEhBVCBUSEUgUkVUVVJOIFRZUEVTIEFSRSBCRUlORyBQQVNTRUQgQ09SUkVDVExZXG4gICAgICAgIGNhc2UgXCJQcm9ncmFtXCI6XG4gICAgICAgICAgICAvLyBOT1RFOiBBU1NVTUUgVEhBVCBUSEUgUFJPR1JBTSBDT05TSVNUUyBPRiBBIFNJTkdMRSBTVEFURU1FTlRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NBU1QoYXN0LmJvZHlbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgIGNhc2UgXCJFeHByZXNzaW9uU3RhdGVtZW50XCI6IC8vIEEgZm9ybXVsYSBmaWVsZCBleHByZXNzaW9uXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzQVNUKGFzdC5leHByZXNzaW9uLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICBjYXNlIFwiQ2FsbEV4cHJlc3Npb25cIjogLy8gQSBmdW5jdGlvbiBjYWxsLCBpLmUuIERBVEUoKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0NhbGxFeHByZXNzaW9uKGFzdCwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgY2FzZSBcIlVuYXJ5RXhwcmVzc2lvblwiOiAvLyBBIHVuYXJ5IGNhbGwsIGkuZS4gLTUgb3IgIXRydWVcbiAgICAgICAgICAgIHZhciBhcmcgPSB0aGlzLnByb2Nlc3NBU1QoYXN0LmFyZ3VtZW50LCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NVbmFyeUV4cHJlc3Npb24oYXN0Lm9wZXJhdG9yLCBhcmcsIG1ldGFkYXRhKTtcbiAgICAgICAgY2FzZSBcIkxvZ2ljYWxFeHByZXNzaW9uXCI6IC8vIEEgbG9naWNhbCBvcGVyYXRpb24gbGlrZSAmJiBvciB8fFxuICAgICAgICBjYXNlIFwiQmluYXJ5RXhwcmVzc2lvblwiOiAvLyBBIG1hdGhlbWF0aWNhbCBleHByZXNzaW9uIGxpa2UgKyBvciAtXG4gICAgICAgICAgICB2YXIgb3BlcmF0b3IgPSBhc3Qub3BlcmF0b3I7XG4gICAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMucHJvY2Vzc0FTVChhc3QubGVmdCwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHZhciByaWdodCA9IHRoaXMucHJvY2Vzc0FTVChhc3QucmlnaHQsIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gcHJvY2Vzc0JpbmFyeU9wKG9wZXJhdG9yLCBsZWZ0LCByaWdodCwgbWV0YWRhdGEpO1xuICAgICAgICBjYXNlIFwiTGl0ZXJhbFwiOiAvLyBBIHN0YXRpYyB2YWx1ZSwgbGlrZSAzIG9yICdncmVlbicsIG9yIGEgbG93ZXItY2FzZSBib29sZWFuXG4gICAgICAgICAgICByZXR1cm4gYXN0LnZhbHVlO1xuICAgICAgICBjYXNlIFwiSWRlbnRpZmllclwiOiAvLyBBIGZpZWxkIG5hbWUsIG9yIGEgbm9uLWxvd2VyY2FzZSBib29sZWFuLCBvciBub24tbG93ZXJjYXNlIG51bGxcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGl0J3MgYSBib29sZWFuLCBhbmQgcmV0dXJuIGl0cyB2YWx1ZSBpZiBzby4gVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSAnVHJ1ZScgaXMgcGFyc2VkIGFzIGFuXG4gICAgICAgICAgICAvLyBpZGVudGlmaWVyIGJ5IEVzcHJpbWEsIHdoaWxlICd0cnVlJyBpcyBhIGxpdGVyYWwuXG4gICAgICAgICAgICBpZiAoYXN0Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXN0Lm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhc3QubmFtZS50b0xvd2VyQ2FzZSgpID09PSAnbnVsbCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGl0J3Mgbm90IGEgYm9vbGVhbiwgaXQncyBhIGZpZWxkLCBzbyBjYWxjdWxhdGUgdGhlIHZhbHVlXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLmNhbGN1bGF0ZUZpZWxkKGFzdC5uYW1lLCByZWNvcmQsIHNyYyk7XG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlZE1ldGEgPSB0aGlzLmdldE1ldGFkYXRhRm9yRmllbGQoTWV0YURhdGFVdGlscy5nZXRSZWNvcmRUeXBlKHJlY29yZCksIGFzdC5uYW1lKTtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VkVHlwZSA9IHJlZmVyZW5jZWRNZXRhLnR5cGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBpcyBudWxsLCB3ZSBjaGVjayB3aGV0aGVyIGl0J3MgbnVtYmVyLCBjdXJyZW5jeSwgb3IgcGVyY2VudCBmaWVsZFxuICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBOdW1iZXIsIGN1cnJlbmN5LCBhbmQgcGVyY2VudCBmaWVsZHMgY2FuIGJlIGVpdGhlciAwIG9yIG51bGwgZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGZvcm11bGEgZmllbGQgc3BlY2lmaWVzXG4gICAgICAgICAgICAgICAgdmFyIHJlZmVyZW5jZUlzTnVtQ3Vyck9yUGVyY2VudCA9IChyZWZlcmVuY2VkVHlwZSA9PSBcIm51bWJlclwiKSB8fCAocmVmZXJlbmNlZFR5cGUgPT0gXCJjdXJyZW5jeVwiKSB8fCAocmVmZXJlbmNlZFR5cGUgPT0gXCJwZXJjZW50XCIpO1xuICAgICAgICAgICAgICAgIHZhciBibGFua3NBc1plcm8gPSBtZXRhZGF0YS5mb3JtdWxhVHJlYXRCbGFua3NBcyA9PSAnQmxhbmtBc1plcm8nO1xuICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2VJc051bUN1cnJPclBlcmNlbnQgJiYgYmxhbmtzQXNaZXJvKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBUZXh0IGZpZWxkcyBhcmUgbmV2ZXIgbnVsbCwganVzdCBlbXB0eVxuICAgICAgICAgICAgICAgIGlmIChyZWZlcmVuY2VkVHlwZSA9PSAndGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRGF0ZXMgbXVzdCBiZSBwYXJzZWQgaW50byBhdHRyaWJ1dGVzIGFuZCBmZWQgdG8gRGF0ZS5VVEMoKVxuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZWRUeXBlID09ICdkYXRlJykge1xuICAgICAgICAgICAgICAgIHZhciBhdHRycyA9IHZhbHVlLnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZShEYXRlLlVUQyhhdHRyc1swXSwgYXR0cnNbMV0sIGF0dHJzWzJdKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlZmVyZW5jZWRUeXBlID09ICdkYXRldGltZScpIHtcbiAgICAgICAgICAgICAgICAvLyBEYXRlVGltZXMgY2FuIGJlIGZlZCBkaXJlY3RseSB0byB0aGUgRGF0ZSBjb25zdHJ1Y3RvciwgYXMgdGhleSdyZSBzaW1wbHkgSVNPIHN0cmluZ3NcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVmZXJlbmNlZFR5cGUgPT0gJ3BlcmNlbnQnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAvIDEwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgY2FzZSBcIk1lbWJlckV4cHJlc3Npb25cIjogLy8gTG9va3VwIHJlZmVyZW5jZXMgb3IgZ2xvYmFsIHZhcmlhYmxlc1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmhhbmRsZU1lbWJlckV4cHJlc3Npb24oYXN0LCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuXHRcdFx0cmVmZXJlbmNlZE1ldGEgPSB0aGlzLmdldE1ldGFkYXRhRm9yRmllbGQoTWV0YURhdGFVdGlscy5nZXRSZWNvcmRUeXBlKHJlY29yZCksIGFzdC5uYW1lKTtcblx0XHRcdHJlZmVyZW5jZWRUeXBlID0gcmVmZXJlbmNlZE1ldGEudHlwZS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0aWYgKHJlZmVyZW5jZWRUeXBlID09ICdwZXJjZW50Jykge1xuXHRcdFx0XHQvLyBOZWVkIHRvIGRpdmlkZSBieSAxMDAgaGVyZSB0b29cblx0XHRcdFx0dmFsdWUgPSB2YWx1ZSAvIDEwMDtcblx0XHRcdH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHZhciBhc3RFcnJvclRleHQgPSBMYWJlbFV0aWxzLmdldExhYmVsQnlLZXkoXCJtc2dfanNfZXJyX3VuZXhwZWN0ZWRfYXN0XCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MH1cIiwgbWV0YWRhdGEuZnVsbE5hbWUpO1xuICAgICAgICAgICAgdmFyIGNvbXBFcnJvciA9IG5ldyBFcnJvcihhc3RFcnJvclRleHQpO1xuICAgICAgICAgICAgY29tcEVycm9yLnByb2JsZW1GaWVsZCA9IG1ldGEuZnVsbE5hbWU7XG4gICAgICAgICAgICB0aHJvdyBjb21wRXJyb3I7XG4gICAgfVxufTtcblxuRm9ybXVsYUZpZWxkQ2FsY3VsYXRvci5wcm90b3R5cGUuaGFuZGxlTWVtYmVyRXhwcmVzc2lvbiA9IGZ1bmN0aW9uKGFzdCwgcmVjb3JkLCBtZXRhZGF0YSwgZm9ybXVsYVNvdXJjZSkge1xuICAgIHZhciBwcm9wZXJ0eSA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xuICAgIHZhciByZWZlcmVuY2VkUmVjb3JkO1xuICAgIC8vIFRoaXMgaXMgc3RhbmRhcmQgcmVjdXJzaW9uLiBUaGUgYmFzZSBjYXNlIGlzIHdoZW4gdGhlIG9iamVjdCBpcyBhbiBJZGVudGlmaWVyLCBhbmQgdGhlIGluZHVjdGlvbiBjYXNlIGlzIHdoZW4gaXQnc1xuICAgIC8vIGEgTWVtYmVyRXhwcmVzc2lvblxuICAgIGlmIChhc3Qub2JqZWN0LnR5cGUgPT0gJ0lkZW50aWZpZXInKSB7XG4gICAgICAgIHZhciBvYmplY3QgPSBhc3Qub2JqZWN0Lm5hbWU7XG4gICAgICAgIC8vIElmIHRoZSBvYmplY3QgbmFtZSBpcyBhIGdsb2JhbCB2YXJpYWJsZSwgdGhyb3cgYW4gZXhjZXB0aW9uLCBiZWNhdXNlIHdlIGRvbid0IHN1cHBvcnQgdGhvc2UgYXQgdGhpcyB0aW1lLlxuICAgICAgICBpZiAob2JqZWN0LmluZGV4T2YoJyQnKSA9PSAwKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBGSUdVUkUgT1VUIEhPVyBUTyBIQU5ETEUgR0xPQkFMIFZBUklBQkxFU1xuICAgICAgICAgICAgdmFyIGdsb2JhbFZhckVycm9yID0gTGFiZWxVdGlscy5nZXRMYWJlbEJ5S2V5KCdtc2dfanNfZXJyX3Vuc3VwcG9ydGVkX2dsb2JhbCcpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MH1cIiwgbWV0YWRhdGEuZnVsbE5hbWUpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MX1cIiwgb2JqZWN0KVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiezJ9XCIsIHByb3BlcnR5KTtcbiAgICAgICAgICAgIHZhciBndmUgPSBuZXcgRXJyb3IoZ2xvYmFsVmFyRXJyb3IpO1xuICAgICAgICAgICAgZ3ZlLnByb2JsZW1GaWVsZCA9IG1ldGFkYXRhLmZ1bGxOYW1lO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgICByZWZlcmVuY2VkUmVjb3JkID0gcmVjb3JkW29iamVjdF07XG4gICAgfSBlbHNlIGlmIChhc3Qub2JqZWN0LnR5cGUgPT0gJ01lbWJlckV4cHJlc3Npb24nKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHJlY29yZCB0aGF0IG91ciBwcm9wZXJ0eSByZWZlcmVuY2VzXG4gICAgICAgIHJlZmVyZW5jZWRSZWNvcmQgPSB0aGlzLmhhbmRsZU1lbWJlckV4cHJlc3Npb24oYXN0Lm9iamVjdCwgcmVjb3JkLCBtZXRhZGF0YSwgZm9ybXVsYVNvdXJjZSk7XG4gICAgfVxuICAgIGlmIChyZWZlcmVuY2VkUmVjb3JkID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLy8gTm93IHRoYXQgd2Uga25vdyB3aGF0IHJlY29yZCB3ZSdyZSBsb29raW5nIGF0LCB3ZSBjYW4gbG9vayBhdCB0aGUgcHJvcGVydHlcbiAgICBpZiAocHJvcGVydHkuaW5kZXhPZignX19yJykgPT0gKHByb3BlcnR5Lmxlbmd0aCAtMykpIHtcbiAgICAgICAgLy8gSWYgdGhlIHByb3BlcnR5IGlzIGEgcmVsYXRlZCByZWNvcmQsIHdlIGNhbiBqdXN0IHJldHVybiBpdC5cbiAgICAgICAgcmV0dXJuIHJlZmVyZW5jZWRSZWNvcmRbcHJvcGVydHldO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIElmIHRoZSBwcm9wZXJ0eSBpcyB0aGUgbmFtZSBvZiBhIGZpZWxkLCB3ZSBtaWdodCBuZWVkIHRvIGNhbGN1bGF0ZSBpdC5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRmllbGQocHJvcGVydHksIHJlZmVyZW5jZWRSZWNvcmQsIGZvcm11bGFTb3VyY2UpO1xuICAgIH1cbn07XG5cbkZvcm11bGFGaWVsZENhbGN1bGF0b3IucHJvdG90eXBlLnBhcnNlUnVsZUZvcm11bGEgPSBmdW5jdGlvbihmb3JtdWxhLCByZWNvcmQsIHF1b3RlUmVjb3JkKSB7XG5cdGlmIChxdW90ZVJlY29yZCkge1xuXHRcdHRoaXMucXVvdGVSZWNvcmQgPSBxdW90ZVJlY29yZDtcblx0fVxuXHR2YXIgYXN0ID0gZXNwcmltYS5wYXJzZShmb3JtdWxhKTtcblx0dmFyIGZha2VNZXRhZGF0YSA9IHt9O1xuXHRyZXR1cm4gdGhpcy5wcm9jZXNzQVNUKGFzdCwgcmVjb3JkLCBmYWtlTWV0YWRhdGEsIFwiUHJpY2UgUnVsZVwiKTtcbn07XG5cbi8qKlxuICogUGVyZm9ybXMgYSBTYWxlc2ZvcmNlIGZ1bmN0aW9uIHVzaW5nIHRoZSBhYnN0cmFjdCBzeW50YXggdHJlZSBhbmQgcmVjb3JkIHByb3ZpZGVkXG4gKiBAcGFyYW0ge09iamVjdH0gYXN0IEFuIEFic3RyYWN0IFN5bnRheCBUcmVlIHJlcHJlc2VudGluZyBhIFNhbGVzZm9yY2UgRm9ybXVsYSBGaWVsZFxuICogQHBhcmFtIHtPYmplY3R9IHJlY29yZCBUaGUgcmVjb3JkIG9mIGFuIG9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG1ldGFkYXRhIFRoZSBNZXRhZGF0YSBvZiB0aGUgU0YgZmllbGQgYmVpbmcgZXZhbHVhdGVkXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIEhhcyBhIHZhbHVlIG9mICdQcmljZSBSdWxlJyB3aGVuIHRoaXMgZm9ybXVsYSBpcyBiZWluZyBldmFsdWF0ZWQgaW5zaWRlIGEgcHJpY2UgcnVsZVxuICogQHJldHVybnMgeyp9XG4gKiBAcHJpdmF0ZVxuICovXG5Gb3JtdWxhRmllbGRDYWxjdWxhdG9yLnByb3RvdHlwZS5wcm9jZXNzQ2FsbEV4cHJlc3Npb24gPSBmdW5jdGlvbihhc3QsIHJlY29yZCwgbWV0YWRhdGEsIHNyYykge1xuICAgIHZhciBuYW1lID0gYXN0LmNhbGxlZS5uYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgdmFyIGFyZ3MgPSBhc3RbXCJhcmd1bWVudHNcIl07XG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICAgIGNhc2UgXCJBQlNcIjogLy8gQWJzb2x1dGUgdmFsdWVcbiAgICAgICAgICAgIHZhciBhcmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiBhcmcgPiAwID8gYXJnIDogLWFyZztcbiAgICAgICAgY2FzZSBcIkFORFwiOiAvLyBMb2dpY2FsIEFuZFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbaV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlIFwiQkVHSU5TXCI6IC8vIERvZXMgb25lIHN0cmluZyBzdGFydCB3aXRoIGFub3RoZXI/XG4gICAgICAgICAgICB2YXIgc3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgc3Vic3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmluZGV4T2Yoc3Vic3RyaW5nKSA9PT0gMDtcbiAgICAgICAgY2FzZSBcIkJMQU5LVkFMVUVcIjogLy8gQSB2YWx1ZSBpcyBibGFuayBvbmx5IGlmIGl0IGNvbnRhaW5zIG5vIGNoYXJhY3RlcnMsIGJsYW5rIHNwYWNlcywgb3IgMHNcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIC8vIEEgdmFsdWUgaXMgbm90IGJsYW5rIGlmIGl0IGNvbnRhaW5zIGEgY2hhcmFjdGVyLCBibGFuayBzcGFjZSwgb3IgMFxuICAgICAgICAgICAgdmFyIHRlc3RJc0JsYW5rID0gKHRlc3QgPT0gbnVsbCkgfHwgKHRlc3QgPT0gXCJcIik7XG4gICAgICAgICAgICByZXR1cm4gdGVzdElzQmxhbmsgPyByZXBsYWNlbWVudCA6IHRlc3Q7XG4gICAgICAgIGNhc2UgXCJCUlwiOiAvLyBJbnNlcnQgYW4gSFRNTCBicmVhayB0YWdcbiAgICAgICAgICAgIHJldHVybiBcIjxicj5cIjtcbiAgICAgICAgY2FzZSBcIkNBU0VcIjogLy8gRXF1aXZhbGVudCB0byBKUyBzd2l0Y2ggc3RhdGVtZW50XG4gICAgICAgICAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgbGVuZ3RoID0gYXJncy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgbGVuZ3RoIC0gMTsgaSArPSAyKSB7XG4gICAgICAgICAgICAgICAgYXJnID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbaV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZyA9PT0gY29uZGl0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NBU1QoYXJnc1tpICsgMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0FTVChhcmdzW2xlbmd0aCAtIDFdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICBjYXNlIFwiQ0FTRVNBRkVJRFwiOiAvLyBDb252ZXJ0cyBhIGNhc2Utc2Vuc2l0aXZlIFNGIElEIHRvIGEgY2FzZS1zYWZlIG9uZVxuICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gSWRVdGlscy5jb252ZXJ0VG8xOChpZCk7XG4gICAgICAgIGNhc2UgXCJDRUlMSU5HXCI6XG4gICAgICAgICAgICAvLyBOT1RFOiBVTkxJS0UgV0lUSCBKUywgU0ZEQydTIENFSUxJTkcoKSBNRVRIT0QgUk9VTkRTIEFXQVkgRlJPTSAwLCBOT1QgU1RSSUNUTFkgVVAuXG4gICAgICAgICAgICAvLyBlLmcsIENFSUxJTkcoMS41KSA9PSAyLCBidXQgQ0VJTElORygtMS41KSA9PSAtMi4gV2hpY2ggaXMgdW5iZWxpZXZhYmx5IHN0dXBpZC5cbiAgICAgICAgICAgIHZhciBudW0gPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiBudW0gPiAwID8gTWF0aC5jZWlsKG51bSkgOiBNYXRoLmZsb29yKG51bSk7XG4gICAgICAgIGNhc2UgXCJDT05UQUlOU1wiOiAvLyBEb2VzIG9uZSBzdHJpbmcgY29udGFpbiBhbm90aGVyP1xuICAgICAgICAgICAgc3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICBzdWJzdHJpbmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuaW5kZXhPZihzdWJzdHJpbmcpICE9IC0xO1xuICAgICAgICBjYXNlIFwiREFURVwiOiAvLyBDcmVhdGUgYSBKUyBEYXRlIHdpdGggdGhlIHByb3ZpZGVkIHllYXIsIG1vbnRoLCBhbmQgZGF0ZS4gVGltZSBpcyBtaWRuaWdodCBHTVQuXG4gICAgICAgICAgICB2YXIgeWVhciA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgdmFyIG1vbnRoID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYykgLSAxO1xuICAgICAgICAgICAgdmFyIGRheSA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzJdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmVzID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSkpO1xuICAgICAgICAgICAgaWYgKHJlcy5nZXRVVENGdWxsWWVhcigpICE9IHllYXIgfHwgcmVzLmdldFVUQ0RhdGUoKSAhPSBkYXkgfHwgcmVzLmdldFVUQ01vbnRoKCkgIT0gbW9udGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRhdGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICBjYXNlIFwiREFURVZBTFVFXCI6IC8vIFR1cm5zIGFuIGV4cHJlc3Npb24gaW50byBhIERhdGUsIHdpdGggdGltZSBvZiBtaWRuaWdodCBHTVRcbiAgICAgICAgICAgIHZhciBkYXRlU3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgIGNhc2UgXCJEQVRFVElNRVZBTFVFXCI6IC8vIFR1cm5zIGFuIGV4cHJlc3Npb24gaW50byBhIGRhdGUgYW5kIHRpbWVcbiAgICAgICAgICAgIGRhdGVTdHJpbmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHZhciBkYXRlVGltZSA9IG5ldyBEYXRlKGRhdGVTdHJpbmcpO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVUaW1lO1xuICAgICAgICBjYXNlIFwiREFZXCI6IC8vIFJldHVybnMgdGhlIGRheSBmcm9tIGEgZGF0ZVxuICAgICAgICAgICAgYXJnID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gYXJnLmdldFVUQ0RhdGUoKTtcbiAgICAgICAgY2FzZSBcIkRJU1RBTkNFXCI6IC8vIFVOSU1QTEVNRU5URUQuIERPRVMgTk9USElOR1xuICAgICAgICAgICAgdmFyIGRpc3RhbmNlRXJyb3JUZXh0ID0gTGFiZWxVdGlscy5nZXRMYWJlbEJ5S2V5KFwibXNnX2pzX2Vycl91bnN1cHBvcnRlZF9mb3JtdWxhXCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MH1cIiwgbWV0YS5mdWxsTmFtZSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcInsxfVwiLCBcIkRJU1RBTkNFKClcIik7XG4gICAgICAgICAgICB2YXIgZGlzdGFuY2VFcnJvciA9IG5ldyBFcnJvcihkaXN0YW5jZUVycm9yVGV4dCk7XG4gICAgICAgICAgICBkaXN0YW5jZUVycm9yLnByb2JsZW1GaWVsZCA9IG1ldGEuZnVsbE5hbWU7XG4gICAgICAgICAgICB0aHJvdyBkaXN0YW5jZUVycm9yO1xuICAgICAgICBjYXNlIFwiRVhQXCI6IC8vIFJldHVybnMgZV54XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5leHAodGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYykpO1xuICAgICAgICBjYXNlIFwiRklORFwiOiAvLyBGaW5kcyB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhIHN1YnN0cmluZyB3aXRoaW4gYSBnaXZlbiBzdHJpbmdcbiAgICAgICAgICAgIHN0cmluZyA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzFdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgc3Vic3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgc3RhcnRQb2ludCA9IGFyZ3MubGVuZ3RoID09IDMgPyB0aGlzLnByb2Nlc3NBU1QoYXJnc1syXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKSA6IDA7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLmluZGV4T2Yoc3Vic3RyaW5nLCBzdGFydFBvaW50IHx8IDApICsgMTtcbiAgICAgICAgY2FzZSBcIkZMT09SXCI6XG4gICAgICAgICAgICAvLyBOT1RFOiBVTkxJS0UgV0lUSCBKUywgU0ZEQydTIEZMT09SKCkgTUVUSE9EIFJPVU5EUyBUT1dBUkRTIFpFUk8sIE5PVCBTVFJJQ1RMWSBET1dOLlxuICAgICAgICAgICAgLy8gZS5nLiBGTE9PUigxLjUpID09IDEsIGJ1dCBGTE9PUigtMS41KSA9PSAtMSwgd2hpY2ggaXMgdW5iZWxpZXZhYmx5IHN0dXBpZC5cbiAgICAgICAgICAgIG51bSA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIG51bSA+IDAgPyBNYXRoLmZsb29yKG51bSkgOiBNYXRoLmNlaWwobnVtKTtcbiAgICAgICAgY2FzZSBcIkdFT0xPQ0FUSU9OXCI6IC8vIFVOSU1QTEVNRU5URUQuIERPRVMgTk9USElORy5cbiAgICAgICAgICAgIHZhciBnZW9sb2NFcnJvclRleHQgPSBMYWJlbFV0aWxzLmdldExhYmVsQnlLZXkoXCJtc2dfanNfZXJyX3Vuc3VwcG9ydGVkX2Zvcm11bGFcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcInswfVwiLCBtZXRhLmZ1bGxOYW1lKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiezF9XCIsIFwiR0VPTE9DQVRJT04oKVwiKTtcbiAgICAgICAgICAgIHZhciBnZW9sb2NFcnJvciA9IG5ldyBFcnJvcihnZW9sb2NFcnJvclRleHQpO1xuICAgICAgICAgICAgZ2VvbG9jRXJyb3IucHJvYmxlbUZpZWxkID0gbWV0YS5mdWxsTmFtZTtcbiAgICAgICAgICAgIHRocm93IGdlb2xvY0Vycm9yO1xuICAgICAgICBjYXNlIFwiR0VUU0VTU0lPTklEXCI6IC8vIENVUlJFTlRMWSBVTklNUExFTUVOVEVELiBET0VTIE5PVEhJTkdcbiAgICAgICAgICAgIHZhciBzZXNzaW9uSWRFcnJvclRleHQgPSBMYWJlbFV0aWxzLmdldExhYmVsQnlLZXkoXCJtc2dfanNfZXJyX3Vuc3VwcG9ydGVkX2Zvcm11bGFcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcInswfVwiLCBtZXRhLmZ1bGxOYW1lKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiezF9XCIsIFwiR0VUU0VTU0lPTklEKClcIik7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbklkRXJyb3IgPSBuZXcgRXJyb3Ioc2Vzc2lvbklkRXJyb3JUZXh0KTtcbiAgICAgICAgICAgIHNlc3Npb25JZEVycm9yLnByb2JsZW1GaWVsZCA9IG1ldGEuZnVsbE5hbWU7XG4gICAgICAgICAgICB0aHJvdyBzZXNzaW9uSWRFcnJvcjtcbiAgICAgICAgY2FzZSBcIkhZUEVSTElOS1wiOiAvLyBDcmVhdGVzIGEgaHlwZXJsaW5rIHRvIHRoZSBnaXZlbiB0YXJnZXRcbiAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC89ezJ9L2csIFwiPVwiKTtcbiAgICAgICAgICAgIHZhciBmcmllbmRseU5hbWUgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHRhcmdldCA9IChhcmdzLmxlbmd0aCA9PSAzKSA/IHRoaXMucHJvY2Vzc0FTVChhcmdzWzJdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpIDogXCJfYmxhbmtcIjtcbiAgICAgICAgICAgIC8vIFRPRE86IGFyZ3VtZW50IDNcbiAgICAgICAgICAgIHZhciBsaW5rVGFnID0gXCI8YSBocmVmPVxcXCJcIiArIHVybCArIFwiXFxcIiB0YXJnZXQ9XFxcIlwiICsgdGFyZ2V0ICsgXCJcXFwiPlwiICsgZnJpZW5kbHlOYW1lICsgXCI8L2E+XCI7XG4gICAgICAgICAgICByZXR1cm4gbGlua1RhZztcbiAgICAgICAgY2FzZSBcIklGXCI6IC8vIFJldHVybnMgb25lIG9mIHR3byBvcHRpb25zIGJhc2VkIG9uIHdoZXRoZXIgYSBjb25kaXRpb24gaXMgdHJ1ZVxuICAgICAgICAgICAgY29uZGl0aW9uID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgc2F0ID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgdW5zYXQgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1syXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiBjb25kaXRpb24gPT09IHRydWUgPyBzYXQgOiB1bnNhdDtcbiAgICAgICAgY2FzZSBcIklNQUdFXCI6IC8vIEluc2VydHMgYW4gaW1hZ2Ugd2l0aCBhbHRlcm5hdGUgdGV4dCBhbmQgaGVpZ2h0L3dpZHRoIHNwZWNzXG4gICAgICAgICAgICB1cmwgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC89ezJ9L2csIFwiPVwiKTtcbiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKC8mYW1wOy9nLCBcIiZcIik7XG4gICAgICAgICAgICB2YXIgYWx0VGV4dCA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzFdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgdmFyIGltZyA9IFwiPGltZyBzcmM9XFxcIlwiICsgdXJsICsgXCJcXFwiIGFsdD1cXFwiXCIgKyBhbHRUZXh0O1xuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIGltZyArPSBcIlxcXCIgaGVpZ2h0PVxcXCJcIiArIHRoaXMucHJvY2Vzc0FTVChhcmdzWzJdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgICAgIGltZyArPSBcIlxcXCIgd2lkdGg9XFxcIlwiICsgdGhpcy5wcm9jZXNzQVNUKGFyZ3NbM10sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWcgKz0gXCJcXFwiIGJvcmRlcj1cXFwiMFxcXCI+XCI7XG4gICAgICAgICAgICByZXR1cm4gaW1nO1xuICAgICAgICBjYXNlIFwiSU5DTFVERVNcIjogLy8gUmV0dXJucyB0cnVlIGlmIGEgbXVsdGktc2VsZWN0IHBpY2tsaXN0IGNvbnRhaW5zIGEgZGVzaXJlZCBvcHRpb25cbiAgICAgICAgICAgIHZhciBjaG9pY2VzID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYykuc3BsaXQoXCI7XCIpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzFdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIGNob2ljZXMuc29tZShmdW5jdGlvbiAoZWxlbWVudCkge3JldHVybiBlbGVtZW50ID09PSBvcHRpb247fSk7XG4gICAgICAgIGNhc2UgXCJJU0JMQU5LXCI6IC8vIEEgdmFsdWUgaXMgbm90IGJsYW5rIGlmIGl0IGNvbnRhaW5zIGEgY2hhcmFjdGVyLCBlbXB0eSBzcGFjZSwgb3IgMFxuICAgICAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQgPT0gbnVsbCB8fCBmaWVsZCA9PT0gXCJcIjtcbiAgICAgICAgY2FzZSBcIklTTlVMTFwiOiAvLyBBIGZpZWxkIGlzIG51bGwgaWYgaXQgY29udGFpbnMgbm8gdmFsdWUuIE5PVEU6IFRleHQgZmllbGRzIGFyZSBuZXZlciBudWxsXG4gICAgICAgICAgICBmaWVsZCA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkID09IG51bGw7XG4gICAgICAgIGNhc2UgXCJJU05VTUJFUlwiOiAvLyBSZXR1cm5zIHRydWUgaWYgYSB2YWx1ZSBpcyBhIG51bWJlclxuICAgICAgICAgICAgLy8gSSB0aGluayB0aGlzIG9uZSBpcyBwcmV0dHkgY2xldmVyLiBOYU4gaXMgdGhlIG9ubHkgdmFsdWUgaW4gSlMgdGhhdCBpcyB1bmVxdWFsIHRvIGl0c2VsZi5cbiAgICAgICAgICAgIC8vIFNvIHRlc3QgZm9yIHNlbGYtZXF1YWxpdHlcbiAgICAgICAgICAgIG51bSA9IE51bWJlcih0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKSk7XG4gICAgICAgICAgICByZXR1cm4gbnVtID09IG51bTtcbiAgICAgICAgY2FzZSBcIklTUElDS1ZBTFwiOiAvLyBDaGVja3MgaWYgdGhlIHZhbHVlIG9mIGEgcGlja2xpc3QgZmllbGQgaXMgdGhlIGRlc2lyZWQgb3B0aW9uXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHZhciBsaXRlcmFsID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT0gbGl0ZXJhbDtcbiAgICAgICAgY2FzZSBcIkxFRlRcIjogLy8gVGFrZXMgdGhlIGxlZnRtb3N0IG4gY2hhcmFjdGVycyBmcm9tIGEgc3RyaW5nXG4gICAgICAgICAgICBzdHJpbmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHZhciBjb3VudCA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzFdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCBjb3VudCk7XG4gICAgICAgIGNhc2UgXCJMRU5cIjogLy8gUmV0dXJucyB0aGUgbGVuZ3RoIG9mIGEgc3RyaW5nXG4gICAgICAgICAgICBzdHJpbmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoO1xuICAgICAgICBjYXNlIFwiTE5cIjogLy8gQ2FsY3VsYXRlcyB0aGUgbmF0dXJhbCBsb2cgb2YgdGhlIHByb3ZpZGVkIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpKTtcbiAgICAgICAgY2FzZSBcIkxPR1wiOiAvLyBDYWxjdWxhdGVzIHRoZSBiYXNlLTEwIGxvZyBvZiBhIG51bWJlclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubG9nKHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpKSAvIE1hdGguTE4xMDtcbiAgICAgICAgY2FzZSBcIkxPV0VSXCI6IC8vIENvbnZlcnRzIGEgc3RyaW5nIHRvIGxvd2VyY2FzZVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNhc2UgXCJMUEFEXCI6IC8vIFBhZHMgb25lIHN0cmluZyB1c2luZyBuLW1hbnkgaW5zdGFuY2VzIG9mIGVpdGhlciBhIHByb3ZpZGVkIHN0cmluZyBvciBcIiBcIlxuICAgICAgICAgICAgc3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICBsZW5ndGggPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHZhciBwYWRTdHJpbmcgPSBhcmdzLmxlbmd0aCA9PSAzID8gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMl0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYykgOiBcIiBcIjtcbiAgICAgICAgICAgIGlmIChzdHJpbmcubGVuZ3RoID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCBsZW5ndGgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJpbmcubGVuZ3RoID09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaWZmID0gbGVuZ3RoIC0gc3RyaW5nLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgZnVsbENvdW50ID0gTWF0aC5mbG9vcihkaWZmIC8gcGFkU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRpYWxDb3VudCA9IGRpZmYgJSBwYWRTdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBhZGp1c3RlZCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZ1bGxDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkanVzdGVkICs9IHBhZFN0cmluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYWRqdXN0ZWQgKz0gcGFkU3RyaW5nLnNsaWNlKDAsIHBhcnRpYWxDb3VudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFkanVzdGVkICsgc3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiTUFYXCI6IC8vIFJldHVybnMgdGhlIGdyZWF0ZXN0IGluIGEgc2VyaWVzIG9mIG51bWJlcnNcbiAgICAgICAgICAgIHZhciByZXMgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFyZyA9IHRoaXMucHJvY2Vzc0FTVChhcmdzW2ldLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgICAgIHJlcyA9IHJlcyA+IGFyZyA/IHJlcyA6IGFyZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIGNhc2UgXCJNSURcIjogLy8gUmV0dXJucyBjaGFyYWN0ZXJzIGZyb20gd2l0aGluIGEgc3RyaW5nLCBzdGFydGluZyBhdCBhIHN0YXJ0aW5nIHBvaW50XG4gICAgICAgICAgICBzdHJpbmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHN0YXJ0UG9pbnQgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIGNvdW50ID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMl0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKHN0YXJ0UG9pbnQgLSAxLCBzdGFydFBvaW50IC0gMSArIGNvdW50KTtcbiAgICAgICAgY2FzZSBcIk1JTlwiOiAvLyBSZXR1cm5zIHRoZSBsZWFzdCBpbiBhIHNlcmllcyBvZiBudW1iZXJzXG4gICAgICAgICAgICByZXMgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFyZyA9IHRoaXMucHJvY2Vzc0FTVChhcmdzW2ldLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgICAgIHJlcyA9IHJlcyA8IGFyZyA/IHJlcyA6IGFyZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIGNhc2UgXCJNT0RcIjogLy8gUmV0dXJucyB4ICUgeVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpICUgdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgIGNhc2UgXCJNT05USFwiOiAvLyBSZXR1cm5zIHRoZSBtb250aCB2YWx1ZSBvZiBhIGdpdmVuIGRhdGVcbiAgICAgICAgICAgIGFyZyA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmV0dXJuIGFyZy5nZXRVVENNb250aCgpICsgMTtcbiAgICAgICAgY2FzZSBcIk5PVFwiOiAvLyBSZXR1cm5zIHRoZSBpbnZlcnNlIG9mIGEgYm9vbGVhblxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgY2FzZSBcIk5PV1wiOiAvLyBSZXR1cm5zIGEgZGF0ZS10aW1lIGNvcnJlc3BvbmRpbmcgdG8gcmlnaHQgbm93XG4gICAgICAgICAgICAvLyBUaGlzIHNob3VsZCByZXR1cm4gYSBHTVQgZGF0ZVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKERhdGUubm93KCkpO1xuICAgICAgICBjYXNlIFwiTlVMTFZBTFVFXCI6IC8vIElmIGEgdmFsdWUgaXMgbnVsbCwgcmVwbGFjZXMgaXQgd2l0aCBhbm90aGVyIHZhbHVlLiBOT1RFOiBUZXh0IHZhbHVlcyBhcmUgbmV2ZXIgbnVsbFxuICAgICAgICAgICAgdGVzdCA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXN0ID09IG51bGwgPyByZXBsYWNlbWVudCA6IHRlc3Q7XG4gICAgICAgIGNhc2UgXCJPUlwiOiAvLyBJZiBhbnkgb2YgdGhlIGZvbGxvd2luZyBhcmd1bWVudHMgYXJlIHRydWUsIHJldHVybnMgdHJ1ZVxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhcmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1tpXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY2FzZSBcIlJJR0hUXCI6IC8vIFJldHVybnMgdGhlIHJpZ2h0bW9zdCBOIGNoYXJhY3RlcnMgb2YgYSBzdHJpbmdcbiAgICAgICAgICAgIHN0cmluZyA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzBdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgY291bnQgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIGlmIChjb3VudCA+PSBzdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShzdHJpbmcubGVuZ3RoIC0gY291bnQsIHN0cmluZy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiUk9VTkRcIjogLy8gUm91bmRzIGEgbnVtYmVyIHRvIG4gZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgICAgIHZhciBudW1iZXIgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHZhciBwbGFjZUNvdW50ID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMV0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBwbGFjZUNvdW50KTtcbiAgICAgICAgICAgIG51bWJlciAqPSBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgaWYgKG51bWJlciA+IDApIHtcbiAgICAgICAgICAgICAgICByZXMgPSBNYXRoLnJvdW5kKG51bWJlcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdG8gcHJlc2VydmUgU2FsZXNmb3JjZSdzIHNvLWNhbGxlZCBoYWxmLXVwIHJvdW5kaW5nLCBpbiB3aGljaCAtMS41IHJvdW5kcyBcInVwXCIgdG8gLTIuXG4gICAgICAgICAgICAgICAgcmVzID0gLShNYXRoLnJvdW5kKC1udW1iZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcyAvPSBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgY2FzZSBcIlJQQURcIjogLy8gUGFkcyB0aGUgcmlnaHQgc2lkZSBvZiBhIHN0cmluZyB3aXRoIG4tbWFueSBpbnN0YW5jZXMgb2YgZWl0aGVyIGEgcHJvdmlkZWQgc3RyaW5nIG9yIFwiIFwiXG4gICAgICAgICAgICBzdHJpbmcgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIGxlbmd0aCA9IHRoaXMucHJvY2Vzc0FTVChhcmdzWzFdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpO1xuICAgICAgICAgICAgcGFkU3RyaW5nID0gYXJncy5sZW5ndGggPT0gMyA/IHRoaXMucHJvY2Vzc0FTVChhcmdzWzJdLCByZWNvcmQsIG1ldGFkYXRhLCBzcmMpIDogXCIgXCI7XG4gICAgICAgICAgICBpZiAoc3RyaW5nLmxlbmd0aCA+IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgbGVuZ3RoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmxlbmd0aCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlmZiA9IGxlbmd0aCAtIHN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZnVsbENvdW50ID0gTWF0aC5mbG9vcihkaWZmIC8gcGFkU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgcGFydGlhbENvdW50ID0gZGlmZiAlIHBhZFN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYWRqdXN0ZWQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmdWxsQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBhZGp1c3RlZCArPSBwYWRTdHJpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFkanVzdGVkICs9IHBhZFN0cmluZy5zbGljZSgwLCBwYXJ0aWFsQ291bnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmcgKyBhZGp1c3RlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcIlNRUlRcIjogLy8gUmV0dXJucyB0aGUgc3F1YXJlIHJvb3Qgb2YgblxuICAgICAgICAgICAgcmV0dXJuIE1hdGguc3FydCh0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKSk7XG4gICAgICAgIGNhc2UgXCJTVUJTVElUVVRFXCI6IC8vIFJlcGxhY2VzIGEgZ2l2ZW4gc3Vic3RyaW5nIHdpdGggYW5vdGhlclxuICAgICAgICAgICAgc3RyaW5nID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0ID0gbmV3IFJlZ0V4cCh0aGlzLnByb2Nlc3NBU1QoYXJnc1sxXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKSwgXCJnXCIpO1xuICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSB0aGlzLnByb2Nlc3NBU1QoYXJnc1syXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0YXJnZXQsIHJlcGxhY2VtZW50KTtcbiAgICAgICAgY2FzZSBcIlRFWFRcIjogLy8gQ29udmVydHMgYSB2YWx1ZSB0byB0ZXh0XG4gICAgICAgICAgICAvLyBUT0RPOiBNQUtFIFNVUkUgVEhJUyBXT1JLUyBUSEUgV0FZIElUIFNIT1VMRFxuICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKSk7XG4gICAgICAgIGNhc2UgXCJUT0RBWVwiOiAvLyBSZXR1cm5zIGEgZGF0ZSBlcXVhbCB0byB0b2RheVxuICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLlVUQyh0b2RheS5nZXRVVENGdWxsWWVhcigpLCB0b2RheS5nZXRVVENNb250aCgpLCB0b2RheS5nZXRVVENEYXRlKCkpKTtcbiAgICAgICAgY2FzZSBcIlRSSU1cIjogLy8gUmVtb3ZlcyBhbGwgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSwgYW5kIHJlcGxhY2VzIGFueSBpbm5lciB3aGl0ZSBzcGFjZSB3aXRoIHNpbmdsZSBzcGFjZXNcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKS50cmltKCkucmVwbGFjZSgvWyBdKy9nLCBcIiBcIik7XG4gICAgICAgIGNhc2UgXCJVUFBFUlwiOiAvLyBDb252ZXJ0cyB0byB1cHBlcmNhc2VcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NBU1QoYXJnc1swXSwgcmVjb3JkLCBtZXRhZGF0YSwgc3JjKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBjYXNlIFwiVkFMVUVcIjogLy8gQ29udmVydHMgYSB2YWx1ZSB0byBhIG51bWJlclxuICAgICAgICAgICAgLy8gVE9ETzogTUFLRSBTVVJFIFRISVMgV09SS1MgVEhFIFdBWSBJVCBTSE9VTERcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYykpIHx8IFwiI0Vycm9yIVwiO1xuICAgICAgICBjYXNlIFwiWUVBUlwiOiAvLyBSZXR1cm5zIHRoZSB5ZWFyIG9mIGEgZ2l2ZW4gZGF0ZVxuICAgICAgICAgICAgYXJnID0gdGhpcy5wcm9jZXNzQVNUKGFyZ3NbMF0sIHJlY29yZCwgbWV0YWRhdGEsIHNyYyk7XG4gICAgICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmcuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcmcuc3BsaXQoXCItXCIpWzBdO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIHVuaW1wbGVtZW50ZWRFcnJvclRleHQgPSBMYWJlbFV0aWxzLmdldExhYmVsQnlLZXkoXCJtc2dfanNfZXJyX3Vuc3VwcG9ydGVkX2Zvcm11bGFcIilcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcInswfVwiLCBtZXRhZGF0YS5mdWxsTmFtZSlcbiAgICAgICAgICAgICAgICAucmVwbGFjZShcInsxfVwiLCBuYW1lKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih1bmltcGxlbWVudGVkRXJyb3JUZXh0KTtcbiAgICB9XG59O1xuXG5cbi8qKlxuICogQXBwbGllcyB0aGUgcHJvdmlkZWQgdW5hcnkgb3BlcmF0b3IgdG8gdGhlIHByb3ZpZGVkIGFyZ3VtZW50XG4gKiBAcGFyYW0ge1N0cmluZ30gb3BlcmF0b3IgQSB1bmFyeSBvcGVyYXRvciwgc3VjaCBhcyAtXG4gKiBAcGFyYW0ge051bWJlcn0gYXJndW1lbnQgVGhlIGFyZ3VtZW50IHRvIHdoaWNoIHRoZSBvcGVyYXRpb24gc2hvdWxkIGJlIGFwcGxpZWRcbiAqIEBwYXJhbSB7T2JqZWN0fSBtZXRhZGF0YSBUaGUgU0YgbWV0YWRhdGEgZm9yIHRoZSBmb3JtdWxhIGZpZWxkIGJlaW5nIGV2YWx1YXRlZFxuICogQHJldHVybnMge251bWJlcn1cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHByb2Nlc3NVbmFyeUV4cHJlc3Npb24ob3BlcmF0b3IsIGFyZ3VtZW50LCBtZXRhZGF0YSkge1xuICAgIHN3aXRjaChvcGVyYXRvcikge1xuICAgICAgICBjYXNlIFwiLVwiOlxuICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50ICogLTE7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgdW5zdXBwb3J0ZWRVbmFyeVRleHQgPSBMYWJlbFV0aWxzLmdldExhYmVsQnlLZXkoXCJtc2dfanNfZXJyX3Vuc3VwcG9ydGVkX3VuYXJ5XCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MH1cIiwgbWV0YWRhdGEuZnVsbE5hbWUpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MX1cIiwgb3BlcmF0b3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVuc3VwcG9ydGVkVW5hcnlUZXh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogLy8gVE9ETzogVVBEQVRFIFRIRSBET0NVTUVOVEFUSU9OIEZPUiBBUkdVTUVOVCBBTkQgUkVUVVJOIFRZUEVTXG4gKiBBcHBsaWVzIHRoZSBzcGVjaWZpZWQgYmluYXJ5IG9wZXJhdG9yIHRvIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzXG4gKiBAcGFyYW0ge1N0cmluZ30gb3BlcmF0b3IgQSBiaW5hcnkgb3BlcmF0b3JcbiAqIEBwYXJhbSB7TnVtYmVyIHwgU3RyaW5nIHwgQm9vbGVhbiB8IERhdGV9IGxlZnQgVGhlIGxlZnQgYXJndW1lbnRcbiAqIEBwYXJhbSB7TnVtYmVyIHwgU3RyaW5nIHwgQm9vbGVhbiB8IERhdGV9IHJpZ2h0IFRoZSByaWdodCBhcmd1bWVudFxuICogQHBhcmFtIHtPYmplY3R9IG1ldGFkYXRhIFRoZSBTRiBtZXRhZGF0YSBmb3IgdGhlIGZvcm11bGEgZmllbGQgYmVpbmcgZXZhbHVhdGVkXG4gKiBAcmV0dXJucyB7TnVtYmVyIHwgU3RyaW5nIHwgQm9vbGVhbiB8IERhdGV9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwcm9jZXNzQmluYXJ5T3Aob3BlcmF0b3IsIGxlZnQsIHJpZ2h0LCBtZXRhZGF0YSkge1xuICAgIHN3aXRjaCAob3BlcmF0b3IpIHtcbiAgICAgICAgY2FzZSBcIitcIjpcbiAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBudW1iZXIgbXVzdCBiZSBjb252ZXJ0ZWQgaW50byBkYXlzXG4gICAgICAgICAgICAgICAgbGVmdC5zZXRVVENEYXRlKGxlZnQuZ2V0VVRDRGF0ZSgpICsgcmlnaHQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgKyByaWdodDtcbiAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIGlmIChyaWdodCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKGxlZnQgLSByaWdodCkgLyA4NjQwMDAwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdC5zZXRVVENEYXRlKGxlZnQuZ2V0VVRDRGF0ZSgpIC0gcmlnaHQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGVmdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbGVmdCAtIHJpZ2h0O1xuICAgICAgICBjYXNlIFwiKlwiOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgKiByaWdodDtcbiAgICAgICAgY2FzZSBcIi9cIjpcbiAgICAgICAgICAgIC8vIFRPRE86IFdPUlJZIEFCT1VUIFVOSVQgU0NBTEVcbiAgICAgICAgICAgIHJldHVybiBsZWZ0IC8gcmlnaHQ7XG4gICAgICAgIGNhc2UgXCJeXCI6XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5wb3cobGVmdCwgcmlnaHQpO1xuICAgICAgICBjYXNlIFwiPT1cIjpcbiAgICAgICAgICAgIC8vIFRPRE86IERBVEVTIENIRUNLIE9OTFkgREFURSwgREFURVRJTUVTIENIRUNLIEJPVEhcbiAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgRGF0ZSAmJiByaWdodCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGxlZnQuZ2V0RnVsbFllYXIoKSA9PSByaWdodC5nZXRGdWxsWWVhcigpKSAmJiAobGVmdC5nZXRNb250aCgpID09IHJpZ2h0LmdldE1vbnRoKCkpICYmIChsZWZ0LmdldERhdGUoKSA9PSByaWdodC5nZXREYXRlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgPT09IHJpZ2h0O1xuICAgICAgICBjYXNlIFwiIT1cIjpcbiAgICAgICAgICAgIGlmIChsZWZ0IGluc3RhbmNlb2YgRGF0ZSAmJiByaWdodCBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISgobGVmdC5nZXRGdWxsWWVhcigpID09IHJpZ2h0LmdldEZ1bGxZZWFyKCkpICYmIChsZWZ0LmdldE1vbnRoKCkgPT0gcmlnaHQuZ2V0TW9udGgoKSkgJiYgKGxlZnQuZ2V0RGF0ZSgpID09IHJpZ2h0LmdldERhdGUoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgIT09IHJpZ2h0O1xuICAgICAgICBjYXNlIFwiPFwiOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgPCByaWdodDtcbiAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICAgIHJldHVybiBsZWZ0ID4gcmlnaHQ7XG4gICAgICAgIGNhc2UgXCI8PVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgPD0gcmlnaHQ7XG4gICAgICAgIGNhc2UgXCI+PVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgPj0gcmlnaHQ7XG4gICAgICAgIGNhc2UgXCImJlwiOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgJiYgcmlnaHQ7XG4gICAgICAgIGNhc2UgXCJ8fFwiOlxuICAgICAgICAgICAgcmV0dXJuIGxlZnQgfHwgcmlnaHQ7XG4gICAgICAgIGNhc2UgXCImXCI6XG4gICAgICAgICAgICByZXR1cm4gbGVmdCArIHJpZ2h0O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdmFyIHVuc3VwcG9ydGVkQmluYXJ5VGV4dCA9IExhYmVsVXRpbHMuZ2V0TGFiZWxCeUtleShcIm1zZ19qc19lcnJfdW5zdXBwb3J0ZWRfYmluYXJ5XCIpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MH1cIiwgbWV0YWRhdGEuZnVsbE5hbWUpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJ7MX1cIiwgb3BlcmF0b3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVuc3VwcG9ydGVkQmluYXJ5VGV4dCk7XG4gICAgfVxufVxuIl19
"use strict";

System.register("calc/QuoteCalculator.js", [], function (_export, _context) {
  var ApexUtils, OAuthUtils, SettingsUtils, NumberUtils, IdUtils, TargetCalculator2, LineCalculator, QuoteLinePriceRuleEvaluator, MetaDataUtils, FormulaFieldEngine, QuoteSummarizer, JSForce, PluginLoader, DiscountScheduleModel, AccountModel;

  function QuoteCalculator(quote) {
    this.quote = quote;
    this.prefix = SettingsUtils.getPrefix();
    this.quantitySumIndex = {};
    this.quantitySumIndexForCostSchedules = {};
    this.discountScheduleMap = {};
    this.accountMap = {};
    this.quantitySumIndexIncludingBundled = {};
    this.formulaFieldEngine = new FormulaFieldEngine();
    this.priorQuantitySumIndex = {};
    this.actualQuantitySumIndex = {};
  }

  function initializePlugin(qc) {
    var plugin = qc.quote.plugin;

    if (plugin) {
      return PluginLoader.loadPlugin(plugin, qc);
    } else {
      return Promise.resolve();
    }
  }

  function unloadPlugin(qc) {
    if (qc.quote.plugin) {
      PluginLoader.deletePlugin(qc.quote.plugin.pid);
    }
  }

  function loadDiscountsAndAccountSummaries(qc) {
    var scheduleMap = qc.quote.scheduleMap;

    if (Object.keys(scheduleMap).length != 0) {
      var overriddenMap = qc.quote.overriddenScheduleMap;
      var context = {
        'schedules': scheduleMap,
        'overrides': overriddenMap,
        'account': qc.quote.Account__c
      };
      var startTime = new Date();
      var resultStorage;
      return getDiscountsAndAccountSummariesFromServer(qc.apex, 'AllDiscountsAndAccounts', context).then(function (results) {
        resultStorage = results;
        var resultObj = typeof results === 'string' ? JSON.parse(results) : results;

        if (!mapsAreIdentical(context.schedules, resultObj.schedules) || !mapsAreIdentical(context.overrides, resultObj.overrides)) {
          return getDiscountsAndAccountSummariesFromServer(qc.apex, null, context);
        } else {
          return Promise.resolve(results);
        }
      }).then(function (newResults) {
        resultStorage = newResults;
        var resultObj = typeof newResults === 'string' ? JSON.parse(newResults) : newResults;
        setDiscountAndSummaryObjects(qc, resultObj);
      });
    } else {
      return Promise.resolve();
    }

    function mapsAreIdentical(map1, map2) {
      for (var key in map1) {
        if (map2[key] != null) {
          var sameEntryForThisKey = map2[key].every(function (valueFromMap2) {
            return map1[key].some(function (valueFromMap1) {
              return valueFromMap1 === valueFromMap2;
            });
          });

          if (!sameEntryForThisKey) {
            return false;
          }
        } else {
          return false;
        }
      }

      return true;
    }
  }

  function getDiscountsAndAccountSummariesFromServer(apex, uid, context) {
    var prefix = SettingsUtils.getPrefix() == "" ? "" : "SBQQ";
    return apex.load(prefix, 'DiscountAndAccountCallout', uid, context);
  }

  function setDiscountAndSummaryObjects(qc, results) {
    qc.discountScheduleMap = {};
    var dsMap = results.scheduleRecords;

    for (var id in dsMap) {
      var dsRecord = dsMap[id];
      var productIds;
      if (results.productsByDiscountSchedule) productIds = results.productsByDiscountSchedule[id];
      qc.discountScheduleMap[IdUtils.convertTo18(id)] = new DiscountScheduleModel(dsRecord, productIds);
    }

    qc.accountMap = {};

    for (var acId in results.accounts) {
      var accountVO = results.accounts[acId];
      qc.accountMap[IdUtils.convertTo18(acId)] = new AccountModel(accountVO);
    }
  }

  function retrieveMetadata(qc) {
    var conn = qc.conn;
    var fullNames = determineMetadataFullNames(qc);

    if (fullNames.length == 0) {
      return Promise.resolve();
    }

    var promiseArray = [];
    var promisesNeeded = Math.ceil(fullNames.length / 10);

    for (var i = 0; i < promisesNeeded; i++) {
      promiseArray.push(conn.metadata.read('CustomField', fullNames.slice(i * 10, (i + 1) * 10)));
    }

    return Promise.all(promiseArray).then(function (dataArray) {
      var combinedDataArray = [];
      dataArray.forEach(function (arr) {
        if (arr != null) {
          if (arr.length == null) {
            arr = [arr];
          }
        }

        combinedDataArray = combinedDataArray.concat(arr);
      });
      qc.formulaFieldEngine.setMetadata(combinedDataArray);
    });
  }

  function targetCalculatorResetsDiscounts(qc) {
    var tc = new TargetCalculator2();

    if (qc.quote.TargetCustomerAmount__c != null) {
      tc.resetDiscounts(qc.quote);
    }
  }

  function targetCalculatorAppliesDiscounts(qc) {
    var tc = new TargetCalculator2();
    qc.quote.groups.forEach(function (group) {
      if (group.TargetCustomerAmount__c != null) {
        tc.resetDiscounts(qc.quote, group);
        tc.calculate(qc.quote, group);
        resetTotals(qc.quote);
        calculateFixedItems(qc, qc.quote);
        calculateDynamicItems(qc, qc.quote);
        calculateTotals(qc.quote);

        if (group.hasDynamicLineItems && group.TargetCustomerAmount__c != group.record[qc.prefix + "CustomerTotal__c"]) {
          tc.adjustDynamicItems(qc.quote, group);
          calculateDynamicItems(qc, qc.quote);
          resetTotals(qc.quote);
          calculateTotals(qc.quote);
        }
      }
    }, qc);

    if (qc.quote.TargetCustomerAmount__c != null) {
      tc.calculate(qc.quote);
      resetTotals(qc.quote);
      calculateFixedItems(qc, qc.quote);
      calculateDynamicItems(qc, qc.quote);
      calculateTotals(qc.quote);

      if (qc.quote.hasDynamicLineItems && qc.quote.TargetCustomerAmount__c != qc.quote.customerTotal) {
        tc.adjustDynamicItems(qc.quote);
        calculateDynamicItems(qc, qc.quote);
        resetTotals(qc.quote);
        calculateTotals(qc.quote);
      }
    }
  }

  function determineMetadataFullNames(calculator) {
    var referencedFieldMap = SettingsUtils.getReferencedFieldMap();

    if (referencedFieldMap == null) {
      return [];
    }

    var fullNames = [];
    var lineType = calculator.prefix + "QuoteLine__c";
    var quoteType = calculator.prefix + "Quote__c";
    var groupType = calculator.prefix + "QuoteLineGroup__c";

    for (var key in referencedFieldMap) {
      var typeName = key === 'Quote Line' ? lineType : key === 'Group' ? groupType : key === 'Quote' ? quoteType : key;

      if (referencedFieldMap.hasOwnProperty(key)) {
        referencedFieldMap[key].forEach(function (apiName) {
          fullNames.push(typeName + '.' + apiName);
        });
      }
    }

    return fullNames;
  }

  function calculateQuantities(quote) {
    quote.lineItems.forEach(function (line) {
      line.Quantity__c = calculateQuantity(line);

      if (line.Quantity__c != null) {
        var quantityScale = line.productQuantityScale;

        if (quantityScale == null) {
          quantityScale = SettingsUtils.getQuantityScale();
        }

        line.Quantity__c = NumberUtils.setScale(line.Quantity__c, quantityScale);
      }
    });
  }

  function indexQuantitiesForDiscountSchedules(quote, calculator) {
    quote.lineItems.forEach(function (line) {
      if (line.isVolumeDiscounted && (!quote.isRenewal || line.RenewedAsset__c == null)) {
        calculateDiscountedQuantities(line, calculator, false);
      }

      if (line.hasCostSchedule && (!quote.isRenewal || line.RenewedAsset__c == null)) {
        calculateDiscountedQuantities(line, calculator, true);
      }
    });
  }

  function calculateDiscountedQuantities(line, calculator, isCostSchedule) {
    var scheduleId;
    var qsi;
    var qsiIncludeBundled = calculator.quantitySumIndexIncludingBundled;
    var qsiPriorQty = calculator.priorQuantitySumIndex;
    var qsiActualQty = calculator.actualQuantitySumIndex;

    if (!isCostSchedule) {
      scheduleId = line.DiscountSchedule__c;
      qsi = calculator.quantitySumIndex;
    } else if (isCostSchedule) {
      scheduleId = line.costScheduleId;
      qsi = calculator.quantitySumIndexForCostSchedules;
    }

    var qid = IdUtils.convertTo18(line.quoteId);
    var sid = IdUtils.convertTo18(scheduleId);
    var pid = line.Product__c;
    var scheduleIdKey = qid + "_" + sid;
    var scheduleProductKey = scheduleIdKey + "_" + pid;
    var groupSchedIdKey = line.parentGroup != null ? qid + "_" + line.parentGroup.key + "_" + sid : null;
    var groupSchedProdKey = line.parentGroup != null ? groupSchedIdKey + "_" + pid : null;
    var sum = 0;
    var lineQuantity;
    var linePriorQuantity = line.PriorQuantity__c || 0;
    var lineActualQuantity = line.ActualQuantity__c || 0;

    if (scheduleId != null) {
      var ds = calculator.getDiscountScheduleById(IdUtils.convertTo18(scheduleId));
      var quoteLineQuantityFieldName = ds.record[SettingsUtils.getPrefix() + "QuoteLineQuantityField__c"];

      if (quoteLineQuantityFieldName != null) {
        var quoteLineQuantityField = MetaDataUtils.getField(MetaDataUtils.getObjectType(line), quoteLineQuantityFieldName);
        lineQuantity = line.record[quoteLineQuantityField];
      }
    }

    if (lineQuantity == null) {
      lineQuantity = line.Quantity__c;
    }

    if (!line.Optional__c && !line.Bundled__c) {
      sum = qsi[scheduleIdKey] || 0;
      qsi[scheduleIdKey] = sum + lineQuantity;
      sum = qsi[scheduleProductKey] || 0;
      qsi[scheduleProductKey] = sum + lineQuantity;
      sum = qsiPriorQty[scheduleIdKey] || 0;
      qsiPriorQty[scheduleIdKey] = sum + linePriorQuantity;
      sum = qsiPriorQty[scheduleProductKey] || 0;
      qsiPriorQty[scheduleProductKey] = sum + linePriorQuantity;
      sum = qsiActualQty[scheduleIdKey] || 0;
      qsiActualQty[scheduleIdKey] = sum + lineActualQuantity;
      sum = qsiActualQty[scheduleProductKey] || 0;
      qsiActualQty[scheduleProductKey] = sum + lineActualQuantity;
    }

    if (line.parentGroup != null && (!line.Optional__c || line.parentGroup.Optional__c) && !line.Bundled__c) {
      sum = qsi[groupSchedIdKey] || 0;
      qsi[groupSchedIdKey] = sum + lineQuantity;
      sum = qsi[groupSchedProdKey] || 0;
      qsi[groupSchedProdKey] = sum + lineQuantity;
      sum = qsiPriorQty[groupSchedIdKey] || 0;
      qsiPriorQty[groupSchedIdKey] = sum + linePriorQuantity;
      sum = qsiPriorQty[groupSchedProdKey] || 0;
      qsiPriorQty[groupSchedProdKey] = sum + linePriorQuantity;
      sum = qsiActualQty[groupSchedIdKey] || 0;
      qsiActualQty[groupSchedIdKey] = sum + lineActualQuantity;
      sum = qsiActualQty[groupSchedProdKey] || 0;
      qsiActualQty[groupSchedProdKey] = sum + lineActualQuantity;
    }

    if (!line.Optional__c) {
      sum = qsiIncludeBundled[scheduleIdKey] || 0;
      qsiIncludeBundled[scheduleIdKey] = sum + lineQuantity;
      sum = qsiIncludeBundled[scheduleProductKey] || 0;
      qsiIncludeBundled[scheduleProductKey] = sum + lineQuantity;
    }

    if (line.parentGroup != null && (!line.Optional__c || line.parentGroup.Optional__c)) {
      sum = qsiIncludeBundled[groupSchedIdKey] || 0;
      qsiIncludeBundled[groupSchedIdKey] = sum + lineQuantity;
      sum = qsiIncludeBundled[groupSchedProdKey] || 0;
      qsiIncludeBundled[groupSchedProdKey] = sum + lineQuantity;
    }
  }

  function calculateQuantity(line) {
    if (line.parentQuote.isAmendment && line.parentItem != null && calculateQuantity(line.parentItem) === 0) {
      return 0;
    }

    var originalQty = line.BundledQuantity__c;

    if (originalQty != null) {
      var parentQty = line.parentItem == null || line.isDynamicSubscription || line.isOptionTypeAccessory ? 1 : calculateQuantity(line.parentItem);
      var batchQty = line.BatchQuantity__c;
      var qty = originalQty;

      if (batchQty != null && batchQty != 0) {
        qty = Math.ceil(originalQty / parseFloat(batchQty));
      }

      return qty * parentQty;
    }

    return line.Quantity__c;
  }

  function evaluatePriceRules(q, eventPeriod, connection, apex, formulaEngine) {
    if (q.Id != null && SettingsUtils.hasQuotePriceRules()) {
      var qlprEvaluator = new QuoteLinePriceRuleEvaluator(q, formulaEngine);
      if (connection) qlprEvaluator.setConnection(connection);
      if (apex) qlprEvaluator.setApex(apex);
      return qlprEvaluator.evaluate(q, eventPeriod);
    } else {
      return new Promise(function (resolve) {
        resolve();
      });
    }
  }

  function resetTotals(quote) {
    var prefix = SettingsUtils.getPrefix();
    quote.listProductTotal = 0;
    quote.customerProductTotal = 0;
    quote.netProductTotal = 0;
    quote.regularProductTotal = 0;
    quote.netTotal = 0;
    quote.customerTotal = 0;
    quote.regularTotal = 0;
    quote.listTotal = 0;
    var groupCount = quote.groups.length;

    for (var i = 0; i < groupCount; i++) {
      var group = quote.groups[i];
      group.listProductTotal = 0;
      group.customerProductTotal = 0;
      group.netProductTotal = 0;
      group.regularProductTotal = 0;
      group.record[prefix + "ListTotal__c"] = 0;
      group.record[prefix + "CustomerTotal__c"] = 0;
      group.record[prefix + "NetTotal__c"] = 0;
    }
  }

  function calculateFixedItems(qc, quote) {
    var lineCount = quote.lineItems.length;

    for (var i = 0; i < lineCount; i++) {
      var line = quote.lineItems[i];

      if (!line.isDynamic) {
        var lCalc = new LineCalculator(qc, line, null, null);
        lCalc.calculate();

        if (!line.Optional__c) {
          if (!line.isExcludedFromMaintenance) {
            quote.listProductTotal += line.listProductTotal;
            quote.customerProductTotal += line.customerProductTotal;
            quote.netProductTotal += line.netProductTotal;
            quote.regularProductTotal += line.regularProductTotal;
          }
        }

        if (line.parentGroup != null) {
          if (!line.Optional__c || line.parentGroup.record[SettingsUtils.getPrefix() + "Optional__c"] === true) {
            if (!line.isExcludedFromMaintenance) {
              line.parentGroup.listProductTotal += line.listProductTotal;
              line.parentGroup.customerProductTotal += line.customerProductTotal;
              line.parentGroup.netProductTotal += line.netProductTotal;
              line.parentGroup.regularProductTotal += line.regularProductTotal;
            }
          }
        }
      }
    }
  }

  function calculateDynamicItems(qc, quote) {
    var lines = quote.lineItems;
    var lineCount = lines.length;
    var qty;

    for (var i = 0; i < lineCount; i++) {
      var line = lines[i];

      if (!line.isDynamic) {
        continue;
      }

      var lcalc = new LineCalculator(qc, line, null, null);
      var subPercent = line.SubscriptionPercent__c || 0;
      var productTotal = 0;
      quote.getLinesCoveredBySubscription(line).forEach(function (subLine) {
        if (subLine.isCountedByDynamicSubscription(line) && line.parentQuote.isAmendment && !line.Existing__c) {
          qty = subLine.isPricingMethodBlock || subLine.DiscountScheduleType__c === "Slab" ? 1 : subLine.Quantity__c;

          if (line.isSubscriptionBaseNet) {
            productTotal += subLine.NetPrice__c * qty;
          } else if (line.isSubscriptionBaseCustomer) {
            productTotal += subLine.CustomerPrice__c * qty;
          } else if (line.isSubscriptionBaseRegular) {
            productTotal += subLine.RegularPrice__c * qty;
          } else if (subLine.ListPrice__c != null) {
            productTotal += subLine.ListPrice__c * subLine.Quantity__c;
          }
        } else if (subLine.isCountedByDynamicSubscription(line) && (line.actualQuantity >= 0 || !line.parentQuote.isAmendment)) {
          if (line.isSubscriptionBaseNet && subLine.netProductTotal != null) {
            productTotal += subLine.netProductTotal;
          } else if (line.isSubscriptionBaseCustomer && subLine.customerProductTotal != null) {
            productTotal += subLine.customerProductTotal;
          } else if (line.isSubscriptionBaseRegular && subLine.regularProductTotal != null) {
            productTotal += subLine.regularProductTotal;
          } else if (subLine.listProductTotal != null) {
            productTotal += subLine.listProductTotal;
          } else {
            console.log("Missing QuoteLine=>listProductTotal. Leaving Product Total at 0 for option " + subLine.ProductName__c);
          }
        } else if (subLine.isCountedByDynamicSubscription(line) && quote.isAmendment && line.actualQuantity < 0 && subLine.Existing__c) {
          qty = subLine.isPricingMethodBlock || subLine.DiscountScheduleType__c === "Slab" ? 1 : subLine.PriorQuantity__c;

          if (line.isSubscriptionBaseNet) {
            productTotal += subLine.NetPrice__c * qty;
          } else if (line.isSubscriptionBaseCustomer) {
            productTotal += subLine.CustomerPrice__c * qty;
          } else if (line.isSubscriptionBaseRegular) {
            productTotal += subLine.RegularPrice__c * qty;
          } else if (subLine.ListPrice__c != null) {
            productTotal += subLine.ListPrice__c * subLine.PriorQuantity__c;
          }
        }
      });
      line.ListPrice__c = productTotal * (subPercent / 100);
      var dynamicSubContractedDiscount = null;

      if (lcalc.contractedPriceId != null) {
        dynamicSubContractedDiscount = line.SpecialPrice__c;
        var discountedSubPercent = subPercent * (100 - dynamicSubContractedDiscount) / 100;
        line.SpecialPrice__c = productTotal * (discountedSubPercent / 100);
      }

      lcalc.calculate();

      if (dynamicSubContractedDiscount != null) {
        line.SpecialPrice__c = dynamicSubContractedDiscount;
      }
    }
  }

  function calculateTotals(quote) {
    quote.lineItems.forEach(function (line) {
      if (!line.Optional__c) {
        quote.netTotal += line.netTotal;
        quote.customerTotal += line.customerTotal;
        quote.listTotal += line.listTotal;
        quote.partnerTotal += line.partnerTotal;
        quote.regularTotal += line.regularTotal;
      }

      if (line.parentGroup != null) {
        if (!line.Optional__c || line.parentGroup.Optional__c) {
          line.parentGroup.ListTotal__c = line.parentGroup.ListTotal__c + line.listTotal;
          line.parentGroup.CustomerTotal__c = line.parentGroup.CustomerTotal__c + line.customerTotal;
          line.parentGroup.NetTotal__c = line.parentGroup.NetTotal__c + line.netTotal;
        }
      }
    });
    quote.netTotal = NumberUtils.setScale(quote.netTotal, 2);
    quote.customerTotal = NumberUtils.setScale(quote.customerTotal, 2);
    quote.listTotal = NumberUtils.setScale(quote.listTotal, 2);
    quote.regularTotal = NumberUtils.setScale(quote.regularTotal, 2);
    quote.record[SettingsUtils.getPrefix() + "NetAmount__c"] = quote.netTotal;
    quote.record[SettingsUtils.getPrefix() + "ListAmount__c"] = quote.listTotal;
    quote.record[SettingsUtils.getPrefix() + "CustomerAmount__c"] = quote.customerTotal;
    quote.record[SettingsUtils.getPrefix() + "RegularAmount__c"] = quote.regularTotal;
    quote.record[SettingsUtils.getPrefix() + "LineItemCount__c"] = quote.lineItems.length;
    quote.groups.forEach(function (group) {
      group.ListTotal__c = NumberUtils.setScale(group.ListTotal__c, 2);
      group.CustomerTotal__c = NumberUtils.setScale(group.CustomerTotal__c, 2);
      group.NetTotal__c = NumberUtils.setScale(group.NetTotal__c, 2);
    });
  }

  function rollupComponents(quote) {
    quote.lineItems.forEach(function (line) {
      var pkg = line.hasComponents;
      line.ComponentTotal__c = pkg ? 0 : null;
      line.ComponentListTotal__c = pkg ? 0 : null;
      line.ComponentCost__c = pkg ? 0 : null;

      if (pkg) {
        rollupLine(line);
      }
    });
  }

  function rollupLine(parent) {
    var netTotal = 0;
    var listTotal = 0;
    var cost = 0;
    parent.components.forEach(function (line) {
      if (!line.Optional__c || line.parentGroup != null && line.parentGroup.Optional__c) {
        netTotal += line.netTotal;
        listTotal += line.listTotal;
        cost += (line.Quantity__c || 0) * (line.UnitCost__c || 0);
      }

      if (line.hasComponents) {
        rollupLine(line);
        netTotal += line.ComponentTotal__c;
        listTotal += line.ComponentListTotal__c;
        cost += line.ComponentCost__c;
      }
    });
    parent.ComponentTotal__c = netTotal;
    parent.ComponentListTotal__c = listTotal;
    parent.ComponentCost__c = cost;
  }

  function executePluginOnInit(qc, plugin) {
    if (plugin && typeof plugin.onInit == 'function') {
      return plugin.onInit(qc.quote.lineItems);
    } else {
      return Promise.resolve();
    }
  }

  function executePluginOnBeforeCalculate(qc, plugin) {
    if (plugin && typeof plugin.onBeforeCalculate == 'function') {
      return plugin.onBeforeCalculate(qc.quote, qc.quote.lineItems);
    } else {
      return Promise.resolve();
    }
  }

  function executePluginOnBeforePriceRules(qc, plugin) {
    if (plugin && typeof plugin.onBeforePriceRules == 'function') {
      return plugin.onBeforePriceRules(qc.quote, qc.quote.lineItems);
    } else {
      return Promise.resolve();
    }
  }

  function executePluginOnAfterPriceRules(qc, plugin) {
    if (plugin && typeof plugin.onAfterPriceRules == 'function') {
      return plugin.onAfterPriceRules(qc.quote, qc.quote.lineItems);
    } else {
      return Promise.resolve();
    }
  }

  function executePluginOnAfterCalculate(qc, plugin) {
    if (plugin && typeof plugin.onAfterCalculate == 'function') {
      return plugin.onAfterCalculate(qc.quote, qc.quote.lineItems);
    } else {
      return Promise.resolve();
    }
  }

  return {
    setters: [],
    execute: function () {
      ApexUtils = require("./Utils/ApexUtils.js");
      OAuthUtils = require("./Utils/OAuthUtils.js");
      SettingsUtils = require("./Utils/SettingsUtils.js");
      NumberUtils = require("./Utils/NumberUtils.js");
      IdUtils = require("./Utils/IdUtils.js");
      TargetCalculator2 = require("./TargetCalculator2.js");
      LineCalculator = require("./LineCalculator.js");
      QuoteLinePriceRuleEvaluator = require("./QuoteLinePriceRuleEvaluator.js");
      MetaDataUtils = require("./Utils/MetaDataUtils.js");
      FormulaFieldEngine = require("./FormulaFieldCalculator.js");
      QuoteSummarizer = require("./QuoteSummarizer.js");
      JSForce = require("jsforce");
      PluginLoader = require("./PluginLoader.js");
      DiscountScheduleModel = require("./DiscountScheduleModel.js");
      AccountModel = require("./AccountModel.js");
      module.exports = QuoteCalculator;

      QuoteCalculator.prototype.initConnection = function (accessToken, orgPrefix) {
        this.conn = OAuthUtils(accessToken, orgPrefix).getConnection();
      };

      QuoteCalculator.prototype.setConnection = function (conn) {
        this.conn = conn;
      };

      QuoteCalculator.prototype.setApex = function (apex) {
        this.apex = apex;
      };

      QuoteCalculator.prototype.newApex = function (conn) {
        return ApexUtils(conn);
      };

      QuoteCalculator.prototype.loadProductAndOptionRecords = function () {
        var self = this;
        var prefix = SettingsUtils.getPrefix() === "" ? "" : "SBQQ";
        var productToLineMap = {};
        var productIdList = [];
        var optionToLineMap = {};
        var optionIdList = [];
        this.quote.lineItems.forEach(function (line) {
          var pid = line.Product__c;

          if (productToLineMap[pid] == null) {
            productToLineMap[pid] = [];
            productIdList.push(pid);
          }

          productToLineMap[pid].push(line);
          var oid = line.ProductOption__c;

          if (oid != null) {
            if (optionToLineMap[oid] == null) {
              optionToLineMap[oid] = [];
              optionIdList.push(oid);
            }

            optionToLineMap[oid].push(line);
          }
        });
        var productRequiredFields = SettingsUtils.getReferencedFieldMap()['Product2'] || [];
        var optionRequiredFields = SettingsUtils.getReferencedFieldMap()[SettingsUtils.getPrefix() + 'ProductOption__c'] || [];
        var productContext = {
          'requiredIds': productIdList,
          'productFields': productRequiredFields
        };
        var optionContext = {
          'requiredIds': optionIdList,
          'requiredFields': optionRequiredFields
        };
        return this.loadDataFromProvider(prefix, 'ProductServiceProvider.ProductLoader', 'Product__r', 'AllProducts', productContext, productToLineMap).then(function () {
          return self.loadDataFromProvider(prefix, 'ProductOptionServiceProvider.ProductOptionLoader', 'ProductOption__r', 'AllOptions', optionContext, optionToLineMap);
        });
      };

      QuoteCalculator.prototype.loadDataFromProvider = function (prefix, provider, attribute, uid, context, lineMap) {
        var self = this;
        var allRecords;
        return this.apex.load(prefix, provider, uid, context).then(function (allResults) {
          allRecords = allResults;
          var missingKeys = [];
          context['requiredIds'].forEach(function (key) {
            if (allResults[key] != null) {
              lineMap[key].forEach(function (line) {
                line[attribute] = allResults[key];
              }, this);
            } else {
              missingKeys.push(key);
            }
          }, this);
          context['requiredIds'] = missingKeys;
          return missingKeys.length === 0 ? Promise.resolve({}) : self.apex.load(prefix, provider, null, context);
        }).then(function (missingResults) {
          context['requiredIds'].forEach(function (key) {
            lineMap[key].forEach(function (line) {
              line[attribute] = missingResults[key];
            }, this);

            try {
              allRecords[key] = missingResults[key];
            } catch (e) {}
          }, this);
        });
      };

      QuoteCalculator.prototype.loadAllRelatedRecords = function () {
        var self = this;
        var prefix = SettingsUtils.getPrefix() === "" ? "" : "SBQQ";
        var idUsageMap = {};
        var context = {
          'queryInfo': {}
        };
        addLookupsToIdMapAndUpdateContext(SettingsUtils.getQuoteLookups(), [self.quote]);
        addLookupsToIdMapAndUpdateContext(SettingsUtils.getGroupLookups(), self.quote.groups);
        addLookupsToIdMapAndUpdateContext(SettingsUtils.getLineLookups(true), self.quote.lineItems);
        var hoistedResults;
        return this.apex.load(prefix, 'JSQCLookupFieldServiceProvider.JSQCLookupFieldLoader', 'AllAdditionalLookups', context).then(function (results) {
          return assignIdsToObjectsAndQueryMissingRecords(results);
        });

        function assignIdsToObjectsAndQueryMissingRecords(results) {
          if (hoistedResults) {
            try {
              for (var queriedId in results) {
                hoistedResults[queriedId] = results[queriedId];
              }
            } catch (e) {}
          } else {
            hoistedResults = results;
          }

          var secondContext = {
            'queryInfo': {}
          };
          var missingIds = [];

          for (var id in idUsageMap) {
            if (hoistedResults[id] != null) {
              idUsageMap[id].usageList.forEach(function (usage) {
                var record = usage.record;
                var relationshipName = usage.fieldName.substring(0, usage.fieldName.length - 1) + 'r';

                if (record[relationshipName] != null && IdUtils.compareIds(id, record[relationshipName]['Id'])) {
                  for (var existingKey in record[relationshipName]) {
                    hoistedResults[id][existingKey] = record[relationshipName][existingKey];
                  }
                }

                record[relationshipName] = hoistedResults[id];
              }, self);
            } else {
              missingIds.push(id);
              var typeOfMissing = idUsageMap[id].objectType;

              if (secondContext.queryInfo[typeOfMissing] == null) {
                secondContext.queryInfo[typeOfMissing] = context.queryInfo[typeOfMissing];
                secondContext.queryInfo[typeOfMissing].requiredIds = [];
              }

              secondContext.queryInfo[typeOfMissing].requiredIds.push(id);
            }
          }

          if (missingIds.length === 0) {
            return Promise.resolve();
          } else {
            return self.apex.load(prefix, 'JSQCLookupFieldServiceProvider.JSQCLookupFieldLoader', null, secondContext).then(function (results) {
              return assignIdsToObjectsAndQueryMissingRecords(results);
            });
          }
        }

        function addLookupsToIdMapAndUpdateContext(lookupFields, models) {
          if (lookupFields != null && models != null && models.length != 0) {
            for (var key in lookupFields) {
              if (lookupFields.hasOwnProperty(key)) {
                var targetType = lookupFields[key];
                models.forEach(function (model) {
                  var id = model.record[key];

                  if (id) {
                    var convertedId = IdUtils.convertTo18(id);

                    if (idUsageMap[convertedId] == null) {
                      idUsageMap[convertedId] = {
                        'objectType': targetType,
                        'usageList': []
                      };
                    }

                    var usageList = idUsageMap[convertedId].usageList;
                    usageList.push({
                      'fieldName': key,
                      'record': model.record
                    });

                    if (!context.queryInfo[targetType]) {
                      context.queryInfo[targetType] = {
                        'referencedFields': SettingsUtils.getReferencedFieldMap()[targetType],
                        'referencedIds': [id]
                      };
                    } else {
                      context.queryInfo[targetType]['referencedIds'].push(id);
                    }
                  }
                });
              }
            }
          }
        }
      };

      QuoteCalculator.prototype.calculate = function () {
        var self = this;
        this.conn = this.conn || new JSForce.Connection({
          accessToken: sfSessionId
        });
        var plugin;
        this.apex = this.apex || ApexUtils(this.conn);
        return this.loadProductAndOptionRecords().then(function () {
          return self.loadAllRelatedRecords();
        }).then(function () {
          return retrieveMetadata(self);
        }).then(function () {
          return evaluatePriceRules(self.quote, 'On Initialization', self.conn, self.apex, self.formulaFieldEngine);
        }).then(function () {
          return initializePlugin(self);
        }).then(function (pluginModule) {
          plugin = pluginModule;
          return executePluginOnInit(self, plugin);
        }).then(function () {
          return self.loadAllRelatedRecords();
        }).then(function () {
          self.formulaFieldEngine.calculateFormulaFieldsOnObjects(self.quote.lineItems);
          return evaluatePriceRules(self.quote, 'Before Calculate', self.conn, self.apex, self.formulaFieldEngine);
        }).then(function () {
          return executePluginOnBeforeCalculate(self, plugin);
        }).then(function () {
          return self.loadAllRelatedRecords();
        }).then(function () {
          calculateQuantities(self.quote);
        }).then(function () {
          return executePluginOnBeforePriceRules(self, plugin);
        }).then(function () {
          return evaluatePriceRules(self.quote, 'On Calculate', self.conn, self.apex, self.formulaFieldEngine);
        }).then(function () {
          return executePluginOnAfterPriceRules(self, plugin);
        }).then(function () {
          return self.loadAllRelatedRecords();
        }).then(function () {
          return loadDiscountsAndAccountSummaries(self);
        }).then(function () {
          indexQuantitiesForDiscountSchedules(self.quote, self);
          targetCalculatorResetsDiscounts(self);
          resetTotals(self.quote);
          calculateFixedItems(self, self.quote);
          calculateDynamicItems(self, self.quote);
          calculateTotals(self.quote);
          targetCalculatorAppliesDiscounts(self);
          rollupComponents(self.quote);
          return evaluatePriceRules(self.quote, 'After Calculate', self.conn, self.apex, self.formulaFieldEngine);
        }).then(function () {
          return executePluginOnAfterCalculate(self, plugin);
        }).then(function () {
          return self.loadAllRelatedRecords();
        }).then(function () {
          self.formulaFieldEngine.calculateFormulaFieldsOnObjects(self.quote.lineItems);
          self.formulaFieldEngine.calculateFormulaFieldsOnObjects([self.quote]);

          if (self.quote.isGrouped) {
            self.formulaFieldEngine.calculateFormulaFieldsOnObjects(self.quote.groups);
          }

          resetTotals(self.quote);
          calculateTotals(self.quote);
          QuoteSummarizer.summarize([self.quote]);

          if (plugin) {
            unloadPlugin(self);
          }

          return self.loadAllRelatedRecords();
        });
      };

      QuoteCalculator.prototype.getDiscountScheduleById = function (sid) {
        return this.discountScheduleMap[IdUtils.convertTo18(sid)];
      };

      QuoteCalculator.prototype.getAccountById = function (id) {
        return this.accountMap[id];
      };

      QuoteCalculator.prototype.resetTotalsTest = function () {
        resetTotals(this.quote);
      };

      QuoteCalculator.prototype.calculateQuantitiesTest = function () {
        calculateQuantities(this.quote, this);
      };

      QuoteCalculator.prototype.calculateTotalsTest = function () {
        calculateTotals(this.quote);
      };

      QuoteCalculator.prototype.rollupComponentsTest = function () {
        rollupComponents(this.quote);
      };
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlF1b3RlQ2FsY3VsYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUMiLCJmaWxlIjoiUXVvdGVDYWxjdWxhdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBBcGV4VXRpbHMgPSByZXF1aXJlKFwiLi9VdGlscy9BcGV4VXRpbHMuanNcIik7XG52YXIgT0F1dGhVdGlscyA9IHJlcXVpcmUoXCIuL1V0aWxzL09BdXRoVXRpbHMuanNcIik7XG52YXIgU2V0dGluZ3NVdGlscyA9IHJlcXVpcmUoXCIuL1V0aWxzL1NldHRpbmdzVXRpbHMuanNcIik7XG52YXIgTnVtYmVyVXRpbHMgPSByZXF1aXJlKFwiLi9VdGlscy9OdW1iZXJVdGlscy5qc1wiKTtcbnZhciBJZFV0aWxzID0gcmVxdWlyZShcIi4vVXRpbHMvSWRVdGlscy5qc1wiKTtcbnZhciBUYXJnZXRDYWxjdWxhdG9yMiA9IHJlcXVpcmUoXCIuL1RhcmdldENhbGN1bGF0b3IyLmpzXCIpO1xudmFyIExpbmVDYWxjdWxhdG9yID0gcmVxdWlyZShcIi4vTGluZUNhbGN1bGF0b3IuanNcIik7XG52YXIgUXVvdGVMaW5lUHJpY2VSdWxlRXZhbHVhdG9yID0gcmVxdWlyZShcIi4vUXVvdGVMaW5lUHJpY2VSdWxlRXZhbHVhdG9yLmpzXCIpO1xudmFyIE1ldGFEYXRhVXRpbHMgPSByZXF1aXJlKFwiLi9VdGlscy9NZXRhRGF0YVV0aWxzLmpzXCIpO1xudmFyIEZvcm11bGFGaWVsZEVuZ2luZSA9IHJlcXVpcmUoXCIuL0Zvcm11bGFGaWVsZENhbGN1bGF0b3IuanNcIik7XG52YXIgUXVvdGVTdW1tYXJpemVyID0gcmVxdWlyZShcIi4vUXVvdGVTdW1tYXJpemVyLmpzXCIpO1xudmFyIEpTRm9yY2UgPSByZXF1aXJlKFwianNmb3JjZVwiKTtcbnZhciBQbHVnaW5Mb2FkZXIgPSByZXF1aXJlKFwiLi9QbHVnaW5Mb2FkZXIuanNcIik7XG52YXIgRGlzY291bnRTY2hlZHVsZU1vZGVsID0gcmVxdWlyZShcIi4vRGlzY291bnRTY2hlZHVsZU1vZGVsLmpzXCIpO1xudmFyIEFjY291bnRNb2RlbCA9IHJlcXVpcmUoXCIuL0FjY291bnRNb2RlbC5qc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBRdW90ZUNhbGN1bGF0b3I7XG5cbi8qKlxuICogQ3JlYXRlcyBhIHF1b3RlLWxldmVsIGNhbGN1bGF0b3Igb2JqZWN0XG4gKiBAcGFyYW0ge1F1b3RlTW9kZWwyfSBxdW90ZSBBIHF1b3RlIG9iamVjdFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFF1b3RlQ2FsY3VsYXRvcihxdW90ZSkge1xuICAgIHRoaXMucXVvdGUgPSBxdW90ZTtcbiAgICB0aGlzLnByZWZpeCA9IFNldHRpbmdzVXRpbHMuZ2V0UHJlZml4KCk7XG4gICAgdGhpcy5xdWFudGl0eVN1bUluZGV4ID0ge307XG4gICAgdGhpcy5xdWFudGl0eVN1bUluZGV4Rm9yQ29zdFNjaGVkdWxlcyA9IHt9O1xuICAgIHRoaXMuZGlzY291bnRTY2hlZHVsZU1hcCA9IHt9O1xuICAgIHRoaXMuYWNjb3VudE1hcCA9IHt9O1xuICAgIHRoaXMucXVhbnRpdHlTdW1JbmRleEluY2x1ZGluZ0J1bmRsZWQgPSB7fTtcblx0dGhpcy5mb3JtdWxhRmllbGRFbmdpbmUgPSBuZXcgRm9ybXVsYUZpZWxkRW5naW5lKCk7XG4gICAgdGhpcy5wcmlvclF1YW50aXR5U3VtSW5kZXggPSB7fTtcbiAgICB0aGlzLmFjdHVhbFF1YW50aXR5U3VtSW5kZXggPSB7fTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBKU0ZvcmNlIGNvbm5lY3Rpb24gb2JqZWN0IHRoYXQgd2lsbCBiZSB1c2VkIGZvciByZW1vdGUgYWN0aW9uc1xuICogQHBhcmFtIHtTdHJpbmd9IGFjY2Vzc1Rva2VuIHRoZSBPQXV0aCBhY2Nlc3MgdG9rZW4gb2YgdGhpcyBTRkRDIG9yZ1xuICogQHBhcmFtIHtTdHJpbmd9IG9yZ1ByZWZpeCB0aGUgcHJlZml4IG9mIHRoaXMgU0ZEQyBvcmdcbiAqL1xuUXVvdGVDYWxjdWxhdG9yLnByb3RvdHlwZS5pbml0Q29ubmVjdGlvbiA9IGZ1bmN0aW9uKGFjY2Vzc1Rva2VuLCBvcmdQcmVmaXgpIHtcbiAgICB0aGlzLmNvbm4gPSBPQXV0aFV0aWxzKGFjY2Vzc1Rva2VuLCBvcmdQcmVmaXgpLmdldENvbm5lY3Rpb24oKTtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgSlNGb3JjZSBjb25uZWN0aW9uIG9iamVjdCB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgcmVtb3RlIGFjdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25uIEEgSlNGb3JjZSBjb25uZWN0aW9uIG9iamVjdFxuICovXG5RdW90ZUNhbGN1bGF0b3IucHJvdG90eXBlLnNldENvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25uKSB7XG4gICAgdGhpcy5jb25uID0gY29ubjtcbn07XG5cbi8qKlxuICogU2V0cyB0aGUgYXBleCBvYmplY3QgdXNlZCB0byBtYWtlIEFQRVggUkVTVCBjYWxsb3V0c1xuICogQHBhcmFtIHtPYmplY3R9IGFwZXggU3VwcG9ydHMgR0VUL1BPU1QgY2FsbG91dHMgdG8gQVBFWCBhcyBhIFJFU1QgQVBJXG4gKi9cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUuc2V0QXBleCA9IGZ1bmN0aW9uKGFwZXgpIHtcbiAgICB0aGlzLmFwZXggPSBhcGV4O1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIG5ldyBhcGV4IG9iamVjdCB1c2VkIHRvIG1ha2UgQVBFWCBSRVNUIGNhbGxvdXRzXG4gKiBAcGFyYW0ge09iamVjdH0gY29ubiBUaGUgY29ubmVjdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IG9yZ1VybCBUaGUgb3JnIHVybFxuICovXG5RdW90ZUNhbGN1bGF0b3IucHJvdG90eXBlLm5ld0FwZXggPSBmdW5jdGlvbihjb25uLCBvcmdVcmwpIHtcbiAgICByZXR1cm4gQXBleFV0aWxzKGNvbm4sIG9yZ1VybCk7XG59O1xuXG5cbi8qKlxuICogTG9hZHMgUHJvZHVjdCBhbmQgT3B0aW9uIFJlY29yZHMgZnJvbSB0aGUgc2VydmVyIGFuZCBhc3NpZ25zIHRoZW0gdG8gdGhlIHF1b3RlIGxpbmVzIHRoYXQgdXNlIHRoZW0uXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqIEBwcml2YXRlXG4gKi9cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUubG9hZFByb2R1Y3RBbmRPcHRpb25SZWNvcmRzID0gZnVuY3Rpb24oKSB7XG5cdC8vIENyZWF0ZSB0aGUgY29udGV4dHMgZm9yIGVhY2ggY2FsbDpcblx0dmFyIHNlbGYgPSB0aGlzO1xuXHR2YXIgcHJlZml4ID0gU2V0dGluZ3NVdGlscy5nZXRQcmVmaXgoKSA9PT0gXCJcIiA/IFwiXCIgOiBcIlNCUVFcIjtcblx0Ly8gTWFwIFByb2R1Y3QgYW5kIE9wdGlvbiBJRHMgdG8gbGlzdHMgb2YgbGluZXMgdGhhdCByZWZlcmVuY2UgdGhlbSwgc28gd2UgY2FuIGVmZmljaWVudGx5IHVwZGF0ZSByZWNvcmRzLlxuXHQvLyBBbHNvIGNyZWF0ZSBhIGxpc3Qgb2YgdW5pcXVlIHByb2R1Y3QgYW5kIG9wdGlvbiBJRHMgc28gd2UgY2FuIGFkZCBpdCB0byB0aGUgY29udGV4dC5cblx0dmFyIHByb2R1Y3RUb0xpbmVNYXAgPSB7fTtcblx0dmFyIHByb2R1Y3RJZExpc3QgPSBbXTtcblx0dmFyIG9wdGlvblRvTGluZU1hcCA9IHt9O1xuXHR2YXIgb3B0aW9uSWRMaXN0ID0gW107XG5cdHRoaXMucXVvdGUubGluZUl0ZW1zLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuXHRcdC8vIEdldCB0aGUgUHJvZHVjdCBJRC5cblx0XHR2YXIgcGlkID0gbGluZS5Qcm9kdWN0X19jO1xuXHRcdGlmIChwcm9kdWN0VG9MaW5lTWFwW3BpZF0gPT0gbnVsbCkge1xuXHRcdFx0cHJvZHVjdFRvTGluZU1hcFtwaWRdID0gW107XG5cdFx0XHRwcm9kdWN0SWRMaXN0LnB1c2gocGlkKTtcblx0XHR9XG5cdFx0cHJvZHVjdFRvTGluZU1hcFtwaWRdLnB1c2gobGluZSk7XG5cblx0XHQvLyBHZXQgdGhlIE9wdGlvbiBJRCBhbmQgbWFwIG5vbi1udWxsIElEcy5cblx0XHR2YXIgb2lkID0gbGluZS5Qcm9kdWN0T3B0aW9uX19jO1xuXHRcdGlmIChvaWQgIT0gbnVsbCkge1xuXHRcdFx0aWYgKG9wdGlvblRvTGluZU1hcFtvaWRdID09IG51bGwpIHtcblx0XHRcdFx0b3B0aW9uVG9MaW5lTWFwW29pZF0gPSBbXTtcblx0XHRcdFx0b3B0aW9uSWRMaXN0LnB1c2gob2lkKTtcblx0XHRcdH1cblx0XHRcdG9wdGlvblRvTGluZU1hcFtvaWRdLnB1c2gobGluZSk7XG5cdFx0fVxuXHR9KTtcblxuXHR2YXIgcHJvZHVjdFJlcXVpcmVkRmllbGRzID0gU2V0dGluZ3NVdGlscy5nZXRSZWZlcmVuY2VkRmllbGRNYXAoKVsnUHJvZHVjdDInXSB8fCBbXTtcblx0dmFyIG9wdGlvblJlcXVpcmVkRmllbGRzID0gU2V0dGluZ3NVdGlscy5nZXRSZWZlcmVuY2VkRmllbGRNYXAoKVtTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgJ1Byb2R1Y3RPcHRpb25fX2MnXSB8fCBbXTtcblxuXHR2YXIgcHJvZHVjdENvbnRleHQgPSB7XG5cdFx0J3JlcXVpcmVkSWRzJzogcHJvZHVjdElkTGlzdCxcblx0XHQncHJvZHVjdEZpZWxkcyc6IHByb2R1Y3RSZXF1aXJlZEZpZWxkc1xuXHR9O1xuXHR2YXIgb3B0aW9uQ29udGV4dCA9IHtcblx0XHQncmVxdWlyZWRJZHMnOiBvcHRpb25JZExpc3QsXG5cdFx0J3JlcXVpcmVkRmllbGRzJzogb3B0aW9uUmVxdWlyZWRGaWVsZHNcblx0fTtcblx0cmV0dXJuIHRoaXMubG9hZERhdGFGcm9tUHJvdmlkZXIocHJlZml4LCAnUHJvZHVjdFNlcnZpY2VQcm92aWRlci5Qcm9kdWN0TG9hZGVyJywgJ1Byb2R1Y3RfX3InLCAnQWxsUHJvZHVjdHMnLCBwcm9kdWN0Q29udGV4dCwgcHJvZHVjdFRvTGluZU1hcClcblx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzZWxmLmxvYWREYXRhRnJvbVByb3ZpZGVyKHByZWZpeCwgJ1Byb2R1Y3RPcHRpb25TZXJ2aWNlUHJvdmlkZXIuUHJvZHVjdE9wdGlvbkxvYWRlcicsICdQcm9kdWN0T3B0aW9uX19yJywnQWxsT3B0aW9ucycsIG9wdGlvbkNvbnRleHQsIG9wdGlvblRvTGluZU1hcCk7XG5cdFx0fSk7XG59O1xuXG4vKipcbiAqIFVzZXMgdGhlIGdpdmVuIGNvbnRleHQsIHByb3ZpZGVyLCBhbmQgVUlEIHRvIGVuc3VyZSB0aGF0IGFsbCBuZWNlc3NhcnkgcmVjb3JkcyBvZiB0aGUgZ2l2ZW4gdHlwZSBhcmUgbG9hZGVkLlxuICogQHBhcmFtIHtTdHJpbmd9IHByZWZpeCBFaXRoZXIgZW1wdHkgc3RyaW5nIG9yIFwiU0JRUVwiLlxuICogQHBhcmFtIHtTdHJpbmd9IHByb3ZpZGVyIFRoZSBuYW1lIG9mIGEgY29udGVudCBwcm92aWRlci5cbiAqIEBwYXJhbSB7U3RyaW5nfSBhdHRyaWJ1dGUgVGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSBvbiB0aGUgUXVvdGUgTGluZSBiZWluZyBzZXQuXG4gKiBAcGFyYW0ge1N0cmluZ30gdWlkIFRoZSBVSUQgc3RyaW5nIHVuZGVyIHdoaWNoIHRoZSByZWNvcmRzIHdpbGwgYmUgY2FjaGVkLlxuICogQHBhcmFtIHtPYmplY3R9IGNvbnRleHQgQW4gb2JqZWN0IHRoYXQgd2lsbCBiZSBwYXNzZWQgaW50byB0aGUgc2VydmljZSBwcm92aWRlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBsaW5lTWFwIEEgbWFwcGluZyBmcm9tIElEcyB0byBsaXN0cyBvZiByZWNvcmRzIHRoYXQgdXNlIHRoYXQgSUQuXG4gKiBAcmV0dXJucyB7UHJvbWlzZX1cbiAqIEBwcml2YXRlXG4gKi9cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUubG9hZERhdGFGcm9tUHJvdmlkZXIgPSBmdW5jdGlvbihwcmVmaXgsIHByb3ZpZGVyLCBhdHRyaWJ1dGUsIHVpZCwgY29udGV4dCwgbGluZU1hcCkge1xuXHQvLyBDcmVhdGUgYSB2YXJpYWJsZSB0byBhbGxvdyB0aGUgcmVzdWx0cyB0byBiZSByZWZlcmVuY2VkIGJ5IHRoZSBzY29wZSBvZiBib3RoIC50aGVuKCkgY2FsbGJhY2tzXG5cdHZhciBzZWxmID0gdGhpcztcblx0dmFyIGFsbFJlY29yZHM7XG5cdC8vIFdoaWxlIHRoaXMgY29kZSBhcHBlYXJzIHRvIHRyaWdnZXIgdHdvIGNhbGxvdXRzLCBpdCB3aWxsIHRyaWdnZXIgYXQgbW9zdCBvbmUuIFRoZXJlIGFyZSB0aHJlZSBjYXNlczpcblx0Ly8gMS4gVGhlIFVJRCBjdXJyZW50bHkgaGFzIG5vIHZhbHVlIGNhY2hlZCwgaW4gd2hpY2ggY2FzZSB0aGVyZSBpcyBhIHNpbmdsZSBjYWxsb3V0IHRvIGdldCBldmVyeXRoaW5nLlxuXHQvLyAyLiBUaGUgVUlEIGV4aXN0cyBidXQgaXMgbWlzc2luZyByZWNvcmRzLiBUaGUgbG9hZCBmb3IgdGhlIFVJRCByZXR1cm5zIGluc3RhbnRseSBhbmQgYSBjYWxsb3V0IGdldHMgdGhlIHJlc3QuXG5cdC8vIDMuIFRoZSBVSUQgZXhpc3RzIGFuZCBpcyB1cCB0byBkYXRlLCBzbyB0aGVyZSBhcmUgbm8gY2FsbG91dHMgYXQgYWxsLlxuXHQvL3RoaXMuYXBleC5zZXRPcHRpb25zKHtlc2NhcGU6IGZhbHNlfSk7XG5cdFxuXHRyZXR1cm4gdGhpcy5hcGV4LmxvYWQocHJlZml4LCBwcm92aWRlciwgdWlkLCBjb250ZXh0KVxuXHRcdC50aGVuKGZ1bmN0aW9uKGFsbFJlc3VsdHMpIHtcblx0XHRcdC8vIFN0b3JlIHRoZSByZXN1bHRzIGluIHRoZSBob2lzdGVkIHZhcmlhYmxlLlxuXHRcdFx0YWxsUmVjb3JkcyA9IGFsbFJlc3VsdHM7XG5cdFx0XHQvLyBOb3cgd2UgYXNzaWduIGVhY2ggcmVjb3JkIHRvIGl0cyBjb3JyZXNwb25kaW5nIGxpbmVzLCBhbmQgbWFrZSBhIGxpc3Qgb2YgdGhlIG1pc3NpbmcgcmVjb3Jkcy5cblx0XHRcdHZhciBtaXNzaW5nS2V5cyA9IFtdO1xuXHRcdFx0Y29udGV4dFsncmVxdWlyZWRJZHMnXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHQvLyBJZiB0aGUgVUlEIGFscmVhZHkgY29udGFpbnMgYSByZWNvcmQgZm9yIHRoaXMgSUQsIGFzc2lnbiBpdCB0byBhbGwgbGluZXMgdGhhdCB1c2UgdGhhdCBJRC5cblx0XHRcdFx0aWYgKGFsbFJlc3VsdHNba2V5XSAhPSBudWxsKSB7XG5cdFx0XHRcdFx0bGluZU1hcFtrZXldLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuXHRcdFx0XHRcdFx0bGluZVthdHRyaWJ1dGVdID0gYWxsUmVzdWx0c1trZXldO1xuXHRcdFx0XHRcdH0sIHRoaXMpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdC8vIElmIHRoZSBVSUQgZG9lcyBub3QgY29udGFpbiBhIHJlY29yZCwgYWRkIGl0IHRvIHRoZSBsaXN0LlxuXHRcdFx0XHRcdG1pc3NpbmdLZXlzLnB1c2goa2V5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyk7XG5cblx0XHRcdC8vIElmIG1pc3NpbmdLZXlzIGlzIGVtcHR5LCB3ZSBjYW4gcmVzb2x2ZSB0byBhbiBlbXB0eSBvYmplY3QuIElmIGl0J3Mgbm90LCB3ZSBuZWVkIHRvIGxvYWQgdGhlIHJlc3QuXG5cdFx0XHRjb250ZXh0WydyZXF1aXJlZElkcyddID0gbWlzc2luZ0tleXM7XG5cdFx0XHRyZXR1cm4gbWlzc2luZ0tleXMubGVuZ3RoID09PSAwID9cblx0XHRcdFx0UHJvbWlzZS5yZXNvbHZlKHt9KSA6XG5cdFx0XHRcdHNlbGYuYXBleC5sb2FkKHByZWZpeCwgcHJvdmlkZXIsIG51bGwsIGNvbnRleHQpO1xuXHRcdH0pXG5cdFx0LnRoZW4oZnVuY3Rpb24obWlzc2luZ1Jlc3VsdHMpIHtcblx0XHRcdC8vIE5vdyB0aGF0IHdlIGhhdmUgdGhlIG1pc3NpbmcgcmVzdWx0cywgd2UgcmVwZWF0IHdoYXQgd2UgZGlkIGFib3ZlLlxuXHRcdFx0Y29udGV4dFsncmVxdWlyZWRJZHMnXS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHQvLyBBc3NpZ24gdGhpcyByZWNvcmQgdG8gYWxsIGxpbmVzIHRoYXQgdXNlIGl0LlxuXHRcdFx0XHRsaW5lTWFwW2tleV0uZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG5cdFx0XHRcdFx0bGluZVthdHRyaWJ1dGVdID0gbWlzc2luZ1Jlc3VsdHNba2V5XTtcblx0XHRcdFx0fSwgdGhpcyk7XG5cdFx0XHRcdC8vIEFsc28gc3RvcmUgdGhlIHJlY29yZCBpbiB0aGUgQWxsUmVjb3JkcyBvYmplY3QsIHNvIGl0IHdpbGwgYmUgY2FjaGVkIGFuZCB3ZSBhdm9pZCBhIGZ1dHVyZSBjYWxsb3V0LlxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGFsbFJlY29yZHNba2V5XSA9IG1pc3NpbmdSZXN1bHRzW2tleV07XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdC8vIFdlIG9ubHkgcmVhY2ggdGhpcyBlcnJvciBvbiBIZXJva3Ugb3Igb3RoZXIgc2VydmVyLXNpZGUgY2FsbG91dHMuIEJ1dCBpdCdzIG9rYXkgdG8gc2ltcGx5XG5cdFx0XHRcdFx0Ly8gc3dhbGxvdyB0aGF0IGVycm9yIGFzIG5vIGNhY2hpbmcgb2NjdXJzIG9uIHRoZSBzZXJ2ZXIuXG5cdFx0XHRcdH1cblx0XHRcdH0sIHRoaXMpO1xuXHRcdH0pXG59O1xuXG5cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUubG9hZEFsbFJlbGF0ZWRSZWNvcmRzID0gZnVuY3Rpb24oKSB7XG5cdHZhciBzZWxmID0gdGhpcztcblx0dmFyIHByZWZpeCA9IFNldHRpbmdzVXRpbHMuZ2V0UHJlZml4KCkgPT09IFwiXCIgPyBcIlwiIDogXCJTQlFRXCI7XG5cdC8vIENyZWF0ZSBhIG1hcHBpbmcgZnJvbSBJRHMgdG8gSWRVc2FnZUluc3RhbmNlcyBjcmVhdGVkIHVzaW5nIHRoZSBmYWN0b3J5IG1ldGhvZCBiZWxvdy5cblx0dmFyIGlkVXNhZ2VNYXAgPSB7fTtcblx0Ly8gQ3JlYXRlIGEgY29udGV4dCBmb3IgdGhlIGNhbGxvdXRzLlxuXHR2YXIgY29udGV4dCA9IHtcblx0XHQncXVlcnlJbmZvJzoge31cblx0fTtcblxuXHQvLyBBZGQgdGhlIFF1b3RlLWxldmVsIGxvb2t1cHMgdG8gdGhlIG1hcC5cblx0YWRkTG9va3Vwc1RvSWRNYXBBbmRVcGRhdGVDb250ZXh0KFNldHRpbmdzVXRpbHMuZ2V0UXVvdGVMb29rdXBzKCksIFtzZWxmLnF1b3RlXSk7XG5cdC8vIEFkZCB0aGUgR3JvdXAtbGV2ZWwgbG9va3VwcyB0byB0aGUgbWFwLlxuXHRhZGRMb29rdXBzVG9JZE1hcEFuZFVwZGF0ZUNvbnRleHQoU2V0dGluZ3NVdGlscy5nZXRHcm91cExvb2t1cHMoKSwgc2VsZi5xdW90ZS5ncm91cHMpO1xuXHQvLyBBZGQgdGhlIExpbmUtbGV2ZWwgbG9va3VwcyB0byB0aGUgbWFwLlxuXHRhZGRMb29rdXBzVG9JZE1hcEFuZFVwZGF0ZUNvbnRleHQoU2V0dGluZ3NVdGlscy5nZXRMaW5lTG9va3Vwcyh0cnVlKSwgc2VsZi5xdW90ZS5saW5lSXRlbXMpO1xuXG5cdC8vIENyZWF0ZSBhIGhvaXN0ZWQgdmFyaWFibGUgdGhhdCBjYW4gYmUgcmVmZXJlbmNlZCBieSBib3RoIGNhbGxiYWNrcy5cblx0dmFyIGhvaXN0ZWRSZXN1bHRzO1xuXHQvLyBBcyBzZWVuIGVsc2V3aGVyZSwgd2hpbGUgdGhpcyBjb2RlIGFwcGVhcnMgdG8gdHJpZ2dlciB0d28gY2FsbG91dHMsIGl0IGFjdHVhbGx5IG9ubHkgdHJpZ2dlcnMgYXQgbW9zdCBvbmUuXG5cdC8vIFRocmVlIGNhc2VzIGV4aXN0OlxuXHQvLyAxLiBUaGUgVUlEICdBbGxBZGRpdGlvbmFsTG9va3VwcycgY3VycmVudGx5IGhhcyBubyB2YWx1ZSBjYWNoZWQsIGluIHdoaWNoIGNhc2UgdGhlcmUgaXMgYSBzaW5nbGUgY2FsbG91dCB0byBnZXQgZXZlcnl0aGluZy5cblx0Ly8gMi4gVGhlIFVJRCAnQWxsQWRkaXRpb25hbExvb2t1cHMnIGV4aXN0cyBidXQgaXMgbWlzc2luZyByZWNvcmRzLiBUaGUgbG9hZCBmb3IgdGhlIFVJRCByZXR1cm5zIGluc3RhbnRseSBhbmQgYSBjYWxsb3V0IGdldHMgdGhlIHJlc3QuXG5cdC8vIDMuIFRoZSBVSUQgJ0FsbEFkZGl0aW9uYWxMb29rdXBzJyBleGlzdHMgYW5kIGlzIHVwIHRvIGRhdGUsIHNvIHRoZXJlIGFyZSBubyBjYWxsb3V0cyBhdCBhbGwuXG5cdC8vcmV0dXJuIHRoaXMuYXBleC5sb2FkKHByZWZpeCwgJ0xvb2t1cEZpZWxkU2VydmljZVByb3ZpZGVyLkxvb2t1cEZpZWxkTG9hZGVyJywgJ0FsbEFkZGl0aW9uYWxMb29rdXBzJywgY29udGV4dCk7XG5cdHJldHVybiB0aGlzLmFwZXgubG9hZChwcmVmaXgsICdKU1FDTG9va3VwRmllbGRTZXJ2aWNlUHJvdmlkZXIuSlNRQ0xvb2t1cEZpZWxkTG9hZGVyJywgJ0FsbEFkZGl0aW9uYWxMb29rdXBzJywgY29udGV4dClcblx0XHQudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7cmV0dXJuIGFzc2lnbklkc1RvT2JqZWN0c0FuZFF1ZXJ5TWlzc2luZ1JlY29yZHMocmVzdWx0cyl9KTtcblxuXHRmdW5jdGlvbiBhc3NpZ25JZHNUb09iamVjdHNBbmRRdWVyeU1pc3NpbmdSZWNvcmRzKHJlc3VsdHMpIHtcblx0XHRpZiAoaG9pc3RlZFJlc3VsdHMpIHtcblx0XHRcdC8vIElmIGhvaXN0ZWRSZXN1bHRzIGlzIGFscmVhZHkgc2V0IHRvIHNvbWV0aGluZywgdXNlIG91ciByZXN1bHRzIHRvIGZpbGwgaW4gdGhlIGdhcHMuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmb3IgKHZhciBxdWVyaWVkSWQgaW4gcmVzdWx0cykge1xuXHRcdFx0XHRcdGhvaXN0ZWRSZXN1bHRzW3F1ZXJpZWRJZF0gPSByZXN1bHRzW3F1ZXJpZWRJZF07XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0Ly8gV2Ugb25seSByZWFjaCB0aGlzIGVycm9yIG9uIEhlcm9rdSBhbmQgb3RoZXIgc2VydmVyLXNpZGUgY2FsbG91dHMuIEJ1dCBpdCdzIG9rYXkgdG8ganVzdCBzd2FsbG93XG5cdFx0XHRcdC8vIHRoYXQgZXJyb3IsIGFzIG5vIGNhY2hpbmcgb2NjdXJzIG9uIEhlcm9rdSBhbnl3YXkuXG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIElmIGhvaXN0ZWRSZXN1bHRzIGlzIG51bGwsIHdlIHNldCBpdCB0byBiZSBvdXIgcmVzdWx0cyBzbyB3ZSBjYW4gdXBkYXRlIGl0IGxhdGVyIGlmIG5lZWQgYmUuXG5cdFx0XHRob2lzdGVkUmVzdWx0cyA9IHJlc3VsdHM7XG5cdFx0fVxuXHRcdC8vIEluaXRpYWxpemUgYW5vdGhlciBjb250ZXh0IGluIGNhc2UgYW5vdGhlciBjYWxsb3V0IGlzIHJlcXVpcmVkLlxuXHRcdHZhciBzZWNvbmRDb250ZXh0ID0ge1xuXHRcdFx0J3F1ZXJ5SW5mbyc6IHt9XG5cdFx0fTtcblx0XHQvLyBBc3NpZ24gZWFjaCBxdWVyaWVkIHJlY29yZCB0byB0aGUgcmVjb3JkcyB0aGF0IHVzZSBpdCwgYW5kIG1ha2UgYSBsaXN0IG9mIHRoZSBtaXNzaW5nIG9uZXMuXG5cdFx0dmFyIG1pc3NpbmdJZHMgPSBbXTtcblx0XHRmb3IgKHZhciBpZCBpbiBpZFVzYWdlTWFwKSB7XG5cdFx0XHQvLyBJZiAnQWxsQWRkaXRpb25hbExvb2t1cHMnIGFscmVhZHkgY29udGFpbnMgYSByZWNvcmQgZm9yIHRoaXMgSUQsIGFzc2lnbiBpdCB0byBhbGwgb2JqZWN0cyB0aGF0IHVzZSBpdC5cblx0XHRcdGlmIChob2lzdGVkUmVzdWx0c1tpZF0gIT0gbnVsbCkge1xuXHRcdFx0XHRpZFVzYWdlTWFwW2lkXS51c2FnZUxpc3QuZm9yRWFjaChmdW5jdGlvbih1c2FnZSkge1xuXHRcdFx0XHRcdHZhciByZWNvcmQgPSB1c2FnZS5yZWNvcmQ7XG5cdFx0XHRcdFx0dmFyIHJlbGF0aW9uc2hpcE5hbWUgPSB1c2FnZS5maWVsZE5hbWUuc3Vic3RyaW5nKDAsIHVzYWdlLmZpZWxkTmFtZS5sZW5ndGggLSAxKSArICdyJztcblx0XHRcdFx0XHQvLyBJZiB0aGUgcmVsYXRpb25zaGlwIGZpZWxkIGFscmVhZHkgaGFzIGFub3RoZXIgb2JqZWN0IHdpdGggdGhlIHNhbWUgSWQsIG1lcmdlIGl0cyBmaWVsZHMgaW50byB0aGUgcmVzdWx0c1xuXHRcdFx0XHRcdC8vIHRvIHByZXZlbnQgdGhlIGxvc3Mgb2YgZGF0YS5cblx0XHRcdFx0XHRpZiAocmVjb3JkW3JlbGF0aW9uc2hpcE5hbWVdICE9IG51bGwgJiYgSWRVdGlscy5jb21wYXJlSWRzKGlkLCByZWNvcmRbcmVsYXRpb25zaGlwTmFtZV1bJ0lkJ10pKSB7XG5cdFx0XHRcdFx0XHRmb3IgKHZhciBleGlzdGluZ0tleSBpbiByZWNvcmRbcmVsYXRpb25zaGlwTmFtZV0pIHtcblx0XHRcdFx0XHRcdFx0aG9pc3RlZFJlc3VsdHNbaWRdW2V4aXN0aW5nS2V5XSA9IHJlY29yZFtyZWxhdGlvbnNoaXBOYW1lXVtleGlzdGluZ0tleV07XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJlY29yZFtyZWxhdGlvbnNoaXBOYW1lXSA9IGhvaXN0ZWRSZXN1bHRzW2lkXTtcblx0XHRcdFx0fSwgc2VsZik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBFbHNlIGlmICdBbGxBZGRpdGlvbmFsTG9va3VwcycgaXMgbWlzc2luZyB0aGlzIElELCBhZGQgaXQgdG8gdGhlIGxpc3Qgb2YgbWlzc2luZyBpZHMsIGFuZCBwdXQgaXRcblx0XHRcdFx0Ly8gaW4gdGhlIG5ldyBjb250ZXh0LlxuXHRcdFx0XHRtaXNzaW5nSWRzLnB1c2goaWQpO1xuXHRcdFx0XHR2YXIgdHlwZU9mTWlzc2luZyA9IGlkVXNhZ2VNYXBbaWRdLm9iamVjdFR5cGU7XG5cdFx0XHRcdC8vIElmIG5vIG9iamVjdHMgb2YgdGhpcyB0eXBlIGFyZSBpbiB0aGUgbmV3IGNvbnRleHQsIGNvcHkgdGhlIGVudHJ5IGZyb20gdGhlIG9yaWdpbmFsIGNvbnRleHQsXG5cdFx0XHRcdC8vIGJ1dCBzdGFydCB0aGUgcmVxdWlyZWRJZCBsaXN0IG92ZXIuXG5cdFx0XHRcdGlmIChzZWNvbmRDb250ZXh0LnF1ZXJ5SW5mb1t0eXBlT2ZNaXNzaW5nXSA9PSBudWxsKSB7XG5cdFx0XHRcdFx0c2Vjb25kQ29udGV4dC5xdWVyeUluZm9bdHlwZU9mTWlzc2luZ10gPSBjb250ZXh0LnF1ZXJ5SW5mb1t0eXBlT2ZNaXNzaW5nXTtcblx0XHRcdFx0XHRzZWNvbmRDb250ZXh0LnF1ZXJ5SW5mb1t0eXBlT2ZNaXNzaW5nXS5yZXF1aXJlZElkcyA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNlY29uZENvbnRleHQucXVlcnlJbmZvW3R5cGVPZk1pc3NpbmddLnJlcXVpcmVkSWRzLnB1c2goaWQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIElmIG1pc3NpbmdJZHMgaXMgZW1wdHksIHdlIGNhbiByZXNvbHZlLiBJZiBub3QsIHdlIG5lZWQgdG8gZG8gYSByZWN1cnNpdmUgY2FsbC5cblx0XHRpZiAobWlzc2luZ0lkcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHNlbGYuYXBleC5sb2FkKHByZWZpeCwgJ0pTUUNMb29rdXBGaWVsZFNlcnZpY2VQcm92aWRlci5KU1FDTG9va3VwRmllbGRMb2FkZXInLCBudWxsLCBzZWNvbmRDb250ZXh0KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbihyZXN1bHRzKSB7cmV0dXJuIGFzc2lnbklkc1RvT2JqZWN0c0FuZFF1ZXJ5TWlzc2luZ1JlY29yZHMocmVzdWx0cyl9KTtcblx0XHR9XG5cblx0fVxuXG5cdGZ1bmN0aW9uIGFkZExvb2t1cHNUb0lkTWFwQW5kVXBkYXRlQ29udGV4dChsb29rdXBGaWVsZHMsIG1vZGVscykge1xuXHRcdC8vIElmIHRoZXJlIGFyZSBsb29rdXAgcmVsYXRpb25zaGlwcyB0byB0ZXN0LCBhbmQgcmVjb3JkcyB0byB0ZXN0IHRoZW0gYWdhaW5zdC4uLlxuXHRcdGlmIChsb29rdXBGaWVsZHMgIT0gbnVsbCAmJiBtb2RlbHMgIT0gbnVsbCAmJiBtb2RlbHMubGVuZ3RoICE9IDApIHtcblx0XHRcdGZvciAodmFyIGtleSBpbiBsb29rdXBGaWVsZHMpIHtcblx0XHRcdFx0aWYgKGxvb2t1cEZpZWxkcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0Ly8gR2V0IHRoZSB0eXBlIG9mIHRoaXMgbG9va3VwIGZpZWxkLlxuXHRcdFx0XHRcdHZhciB0YXJnZXRUeXBlID0gbG9va3VwRmllbGRzW2tleV07XG5cdFx0XHRcdFx0Ly8gQ2hlY2sgdGhlIElEIGZpZWxkIG9uIGVhY2ggcmVjb3JkIHRvIHNlZSBpZiBpdCBoYXMgYSB2YWx1ZS5cblx0XHRcdFx0XHRtb2RlbHMuZm9yRWFjaChmdW5jdGlvbihtb2RlbCkge1xuXHRcdFx0XHRcdFx0dmFyIGlkID0gbW9kZWwucmVjb3JkW2tleV07XG5cdFx0XHRcdFx0XHRpZiAoaWQpIHtcblx0XHRcdFx0XHRcdFx0dmFyIGNvbnZlcnRlZElkID0gSWRVdGlscy5jb252ZXJ0VG8xOChpZCk7XG5cdFx0XHRcdFx0XHRcdC8vIElmIHRoZSBJRCBoYXMgYSB2YWx1ZSwgaW5pdGlhbGl6ZSBhIGxpc3QgaW4gdGhlIGlkVXNhZ2VNYXAgdW5sZXNzIG9uZSBhbHJlYWR5IGV4aXN0cy5cblx0XHRcdFx0XHRcdFx0aWYgKGlkVXNhZ2VNYXBbY29udmVydGVkSWRdID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHRpZFVzYWdlTWFwW2NvbnZlcnRlZElkXSA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdCdvYmplY3RUeXBlJzogdGFyZ2V0VHlwZSxcblx0XHRcdFx0XHRcdFx0XHRcdCd1c2FnZUxpc3QnOiBbXVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Ly8gQ3JlYXRlIGEgbmV3IElkIFVzYWdlIEluc3RhbmNlIGFuZCBhZGQgaXQgdG8gdGhlIGxpc3QuXG5cdFx0XHRcdFx0XHRcdHZhciB1c2FnZUxpc3QgPSBpZFVzYWdlTWFwW2NvbnZlcnRlZElkXS51c2FnZUxpc3Q7XG5cdFx0XHRcdFx0XHRcdHVzYWdlTGlzdC5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHQnZmllbGROYW1lJzoga2V5LFxuXHRcdFx0XHRcdFx0XHRcdCdyZWNvcmQnOiBtb2RlbC5yZWNvcmRcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gSWYgdGhlIHR5cGUgdGFyZ2V0ZWQgYnkgdGhpcyBsb29rdXAgZmllbGQgaXMgbm90IGFscmVhZHkgaW4gdGhlIGNvbnRleHQsIGl0IG11c3QgYmUgYWRkZWQuXG5cdFx0XHRcdFx0XHRcdC8vIEFkZGl0aW9uYWxseSwgdGhpcyBJRCBtdXN0IGJlIGFkZGVkIHRvIHRoZSBsaXN0IG9mIElEcyB0aGF0IHRoZSBjYWxsb3V0IG11c3QgcXVlcnkuXG5cdFx0XHRcdFx0XHRcdGlmICghY29udGV4dC5xdWVyeUluZm9bdGFyZ2V0VHlwZV0pIHtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0LnF1ZXJ5SW5mb1t0YXJnZXRUeXBlXSA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdCdyZWZlcmVuY2VkRmllbGRzJzogU2V0dGluZ3NVdGlscy5nZXRSZWZlcmVuY2VkRmllbGRNYXAoKVt0YXJnZXRUeXBlXSxcblx0XHRcdFx0XHRcdFx0XHRcdCdyZWZlcmVuY2VkSWRzJzogW2lkXVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb250ZXh0LnF1ZXJ5SW5mb1t0YXJnZXRUeXBlXVsncmVmZXJlbmNlZElkcyddLnB1c2goaWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cbn07XG5cbi8qKlxuICogUGVyZm9ybSBjYWxjdWxhdGlvbiBvbiB0aGUgcXVvdGUgc3RvcmVkIGJ5IHRoZSBjYWxjdWxhdG9yXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgd2hlbiBjYWxjdWxhdGlvbiBpcyBjb21wbGV0ZVxuICovXG5RdW90ZUNhbGN1bGF0b3IucHJvdG90eXBlLmNhbGN1bGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0aGlzLmNvbm4gPSB0aGlzLmNvbm4gfHwgbmV3IEpTRm9yY2UuQ29ubmVjdGlvbih7XG4gICAgICAgIGFjY2Vzc1Rva2VuOiBzZlNlc3Npb25JZFxuICAgIH0pO1xuICAgIHZhciBwbHVnaW47XG4gICAgdGhpcy5hcGV4ID0gdGhpcy5hcGV4IHx8IEFwZXhVdGlscyh0aGlzLmNvbm4sIHNmSW5zdGFuY2VVcmwpO1xuXHQvLyBTdGVwIDE6IFByb2R1Y3QgYW5kIG9wdGlvbiByZWNvcmRzIGFyZSBsYXp5LWxvYWRlZC5cblx0cmV0dXJuIHRoaXMubG9hZFByb2R1Y3RBbmRPcHRpb25SZWNvcmRzKClcblx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHQvLyBTdGVwIDI6IEFkZGl0aW9uYWwgbG9va3VwIHJlbGF0aW9uc2hpcHMgYXJlIGxvYWRlZC5cblx0XHRcdHJldHVybiBzZWxmLmxvYWRBbGxSZWxhdGVkUmVjb3JkcygpO1xuXHRcdH0pXG5cdFx0Ly8gU3RlcCAzOiBGb3JtdWxhIGZpZWxkIG1ldGFkYXRhIGlzIHJldHJpZXZlZC5cblx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiByZXRyaWV2ZU1ldGFkYXRhKHNlbGYpO1xuXHRcdH0pXG5cdFx0Ly8gU3RlcCA0OiBQcmljZSBSdWxlcyBPbiBJbml0IGV2ZW50IGlzIGV4ZWN1dGVkLlxuXHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGV2YWx1YXRlUHJpY2VSdWxlcyhzZWxmLnF1b3RlLCAnT24gSW5pdGlhbGl6YXRpb24nLCBzZWxmLmNvbm4sIHNlbGYuYXBleCwgc2VsZi5mb3JtdWxhRmllbGRFbmdpbmUpO1xuXHRcdH0pXG5cdFx0Ly8gU3RlcCA1OiBQbHVnaW4gaXMgaW5pdGlhbGl6ZWQgaWYgaXQgZXhpc3RzLlxuXHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGluaXRpYWxpemVQbHVnaW4oc2VsZik7XG5cdFx0fSlcblx0XHQvLyBTdGVwIDY6IFBsdWdpbidzIG9uSW5pdCgpIG1ldGhvZCBpcyBleGVjdXRlZC5cbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocGx1Z2luTW9kdWxlKSB7XG4gICAgICAgICAgICBwbHVnaW4gPSBwbHVnaW5Nb2R1bGU7XG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVBsdWdpbk9uSW5pdChzZWxmLCBwbHVnaW4pO1xuICAgICAgICB9KVxuICAgICAgICAvLyBTdGVwIDc6IFJlbGF0ZWQgcmVjb3JkcyBhcmUgdXBkYXRlZCwgaW4gY2FzZSB0aGUgcGx1Z2luIG9yIHByaWNlIHJ1bGVzIGluamVjdGVkIG5ldyBJZHMuXG5cdFx0LnRoZW4oZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gc2VsZi5sb2FkQWxsUmVsYXRlZFJlY29yZHMoKTtcblx0XHR9KVxuXHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gU3RlcCA4OiBGb3JtdWxhIGZpZWxkcyBhcmUgY2FsY3VsYXRlZCBvbiB0aGUgUXVvdGUgTGluZXMuXG5cdFx0XHRzZWxmLmZvcm11bGFGaWVsZEVuZ2luZS5jYWxjdWxhdGVGb3JtdWxhRmllbGRzT25PYmplY3RzKHNlbGYucXVvdGUubGluZUl0ZW1zKTtcblx0XHRcdC8vIFN0ZXAgOTogUHJpY2UgUnVsZXMgQmVmb3JlIENhbGN1bGF0ZSBldmVudCBpcyBleGVjdXRlZC5cblx0XHRcdHJldHVybiBldmFsdWF0ZVByaWNlUnVsZXMoc2VsZi5xdW90ZSwgJ0JlZm9yZSBDYWxjdWxhdGUnLCBzZWxmLmNvbm4sIHNlbGYuYXBleCwgc2VsZi5mb3JtdWxhRmllbGRFbmdpbmUpO1xuXHRcdH0pXG4gICAgICAgIC8vIFN0ZXAgMTA6IFBsdWdpbidzIGJlZm9yZUNhbGN1bGF0ZSgpIG1ldGhvZCBpcyBleGVjdXRlZC5cbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVBsdWdpbk9uQmVmb3JlQ2FsY3VsYXRlKHNlbGYsIHBsdWdpbik7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIFN0ZXAgMTE6IFVwZGF0ZSByZWxhdGVkIHJlY29yZHMgYWdhaW4sIGZvciB0aGUgc2FtZSByZWFzb25zIGFzIGluIHN0ZXAgNi5cblx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzZWxmLmxvYWRBbGxSZWxhdGVkUmVjb3JkcygpO1xuXHRcdH0pXG4gICAgICAgIC8vIFN0ZXAgMTI6IFF1YW50aXRpZXMgYXJlIGNhbGN1bGF0ZWQuXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FsY3VsYXRlUXVhbnRpdGllcyhzZWxmLnF1b3RlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gU3RlcCAxMzogUGx1Z2luJ3MgYmVmb3JlUHJpY2VSdWxlcygpIG1ldGhvZCBpcyBleGVjdXRlZC5cbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVBsdWdpbk9uQmVmb3JlUHJpY2VSdWxlcyhzZWxmLCBwbHVnaW4pO1xuICAgICAgICB9KVxuICAgICAgICAvLyBTdGVwIDE0OiBQcmljZSBydWxlcyBPbiBDYWxjdWxhdGUgZXZlbnQgYXJlIGV2YWx1YXRlZC5cbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gZXZhbHVhdGVQcmljZVJ1bGVzKHNlbGYucXVvdGUsICdPbiBDYWxjdWxhdGUnLCBzZWxmLmNvbm4sIHNlbGYuYXBleCwgc2VsZi5mb3JtdWxhRmllbGRFbmdpbmUpO1xuICAgICAgICB9KVxuICAgICAgICAvLyBTdGVwIDE1OiBQbHVnaW4ncyBhZnRlclByaWNlUnVsZXMoKSBtZXRob2QgaXMgZXhlY3V0ZWQuXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGV4ZWN1dGVQbHVnaW5PbkFmdGVyUHJpY2VSdWxlcyhzZWxmLCBwbHVnaW4pO1xuICAgICAgICB9KVxuICAgICAgICAvLyBTdGVwIDE2OiBVcGRhdGUgcmVsYXRlZCByZWNvcmRzIHlldCBhZ2Fpbi5cblx0XHQudGhlbihmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBzZWxmLmxvYWRBbGxSZWxhdGVkUmVjb3JkcygpO1xuXHRcdH0pXG4gICAgICAgIC8vIFN0ZXAgMTc6IEFmdGVyIFByaWNlIHJ1bGVzIGhhdmUgcnVuLCBlbnN1cmUgdGhhdCBhbnkgZHluYW1pY2FsbHkgaW5qZWN0ZWQgZGlzY291bnQgc2NoZWR1bGVzIGFyZSBsb2FkZWQgcHJvcGVybHkuXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGxvYWREaXNjb3VudHNBbmRBY2NvdW50U3VtbWFyaWVzKHNlbGYpO1xuICAgICAgICB9KVxuICAgICAgICAvLyBUaGUgbmV4dCBzdGVwIHRoYXQgcmVxdWlyZXMgYSBjYWxsb3V0IGlzIFN0ZXAgMjYsIHNvIGx1bXAgYWxsIHN0ZXBzIGJlZm9yZSBpdCBpbnRvIHRoZSBzYW1lIC50aGVuKClcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBTdGVwIDE4OiBRdWFudGl0aWVzIGFyZSBpbmRleGVkIGFjY29yZGluZyB0byBzY2hlZHVsZSwgYW5kIGdyb3VwIGtleXMuXG4gICAgICAgICAgICBpbmRleFF1YW50aXRpZXNGb3JEaXNjb3VudFNjaGVkdWxlcyhzZWxmLnF1b3RlLCBzZWxmKTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMTk6IFRhcmdldCBDYWxjdWxhdG9yIHJlc2V0cyBkaXNjb3VudHMgaWYgYSB0YXJnZXQgYW1vdW50IGV4aXN0cy5cbiAgICAgICAgICAgIHRhcmdldENhbGN1bGF0b3JSZXNldHNEaXNjb3VudHMoc2VsZik7XG4gICAgICAgICAgICAvLyBTdGVwIDIwOiBRdW90ZSBhbmQgR3JvdXAgdG90YWxzIGFyZSByZXNldC5cbiAgICAgICAgICAgIHJlc2V0VG90YWxzKHNlbGYucXVvdGUpO1xuICAgICAgICAgICAgLy8gU3RlcCAyMTogQ2FsY3VsYXRlIGZpeGVkIGl0ZW1zLlxuICAgICAgICAgICAgY2FsY3VsYXRlRml4ZWRJdGVtcyhzZWxmLCBzZWxmLnF1b3RlKTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMjI6IENhbGN1bGF0ZSBkeW5hbWljIGl0ZW1zLlxuICAgICAgICAgICAgY2FsY3VsYXRlRHluYW1pY0l0ZW1zKHNlbGYsIHNlbGYucXVvdGUpO1xuICAgICAgICAgICAgLy8gU3RlcCAyMzogQ2FsY3VsYXRlIHRvdGFscy5cbiAgICAgICAgICAgIGNhbGN1bGF0ZVRvdGFscyhzZWxmLnF1b3RlKTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMjQ6IElmIHRhcmdldCBhbW91bnQgaXMgc3BlY2lmaWVkLCBUYXJnZXQgQ2FsY3VsYXRvciBhcHBsaWVzIGRpc2NvdW50cyBzdWNoIHRoYXQgaXQgaXMgcmVhY2hlZC5cbiAgICAgICAgICAgIHRhcmdldENhbGN1bGF0b3JBcHBsaWVzRGlzY291bnRzKHNlbGYpO1xuICAgICAgICAgICAgLy8gU3RlcCAyNTogQ29tcG9uZW50cyBhcmUgcm9sbGVkIHVwLlxuICAgICAgICAgICAgcm9sbHVwQ29tcG9uZW50cyhzZWxmLnF1b3RlKTtcblx0ICAgICAgICAvLyBTdGVwIDI2OiBQcmljZSBSdWxlIEFmdGVyIENhbGN1bGF0ZSBldmVudCBpcyBleGVjdXRlZC5cblx0ICAgICAgICByZXR1cm4gZXZhbHVhdGVQcmljZVJ1bGVzKHNlbGYucXVvdGUsICdBZnRlciBDYWxjdWxhdGUnLCBzZWxmLmNvbm4sIHNlbGYuYXBleCwgc2VsZi5mb3JtdWxhRmllbGRFbmdpbmUpO1xuICAgICAgICB9KVxuICAgICAgICAvLyBTdGVwIDI3OiBQbHVnaW4ncyBvbkFmdGVyQ2FsY3VsYXRlKCkgbWV0aG9kIGlzIGV4ZWN1dGVkLlxuXHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIGV4ZWN1dGVQbHVnaW5PbkFmdGVyQ2FsY3VsYXRlKHNlbGYsIHBsdWdpbik7XG5cdFx0fSlcblx0XHQvLyBTdGVwIDI4OiBVcGRhdGUgcmVsYXRlZCByZWNvcmRzIGFnYWluLlxuXHRcdC50aGVuKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHNlbGYubG9hZEFsbFJlbGF0ZWRSZWNvcmRzKCk7XG5cdFx0fSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBTdGVwIDI5OiBRdW90ZSBMaW5lIGZvcm11bGEgZmllbGRzIGFyZSByZS1ldmFsdWF0ZWQuXG4gICAgICAgICAgICBzZWxmLmZvcm11bGFGaWVsZEVuZ2luZS5jYWxjdWxhdGVGb3JtdWxhRmllbGRzT25PYmplY3RzKHNlbGYucXVvdGUubGluZUl0ZW1zKTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMzA6IFF1b3RlIGZvcm11bGEgZmllbGRzIGFyZSBldmFsdWF0ZWRcbiAgICAgICAgICAgIHNlbGYuZm9ybXVsYUZpZWxkRW5naW5lLmNhbGN1bGF0ZUZvcm11bGFGaWVsZHNPbk9iamVjdHMoW3NlbGYucXVvdGVdKTtcbiAgICAgICAgICAgIC8vIFN0ZXAgMzE6IFF1b3RlIExpbmUgR3JvdXAgZm9ybXVsYSBmaWVsZHMgYXJlIGV2YWx1YXRlZC5cbiAgICAgICAgICAgIGlmIChzZWxmLnF1b3RlLmlzR3JvdXBlZCkge1xuICAgICAgICAgICAgICAgIHNlbGYuZm9ybXVsYUZpZWxkRW5naW5lLmNhbGN1bGF0ZUZvcm11bGFGaWVsZHNPbk9iamVjdHMoc2VsZi5xdW90ZS5ncm91cHMpO1xuICAgICAgICAgICAgfVxuXHQgICAgICAgIC8vIFN0ZXAgMzI6IEdyb3VwLSBhbmQgUXVvdGUtbGV2ZWwgdG90YWxzIGFyZSByZXNldCBhbmQgcmVjYWxjdWxhdGVkLCBzaW5jZSB0aGUgbGluZS1sZXZlbCB0b3RhbHMgbWF5IGhhdmUgY2hhbmdlZC5cblx0ICAgICAgICByZXNldFRvdGFscyhzZWxmLnF1b3RlKTtcblx0ICAgICAgICBjYWxjdWxhdGVUb3RhbHMoc2VsZi5xdW90ZSk7XG5cdCAgICAgICAgLy8gU3RlcCAzMzogUXVvdGUgU3VtbWFyaXplciBpcyBpbnZva2VkIHRvIHN1bW1hcml6ZSBNRFEgU2VnbWVudHMgYW5kIFN1bW1hcml6ZWQgRmllbGRzLlxuXHQgICAgICAgIFF1b3RlU3VtbWFyaXplci5zdW1tYXJpemUoW3NlbGYucXVvdGVdKTtcblx0ICAgICAgICAvLyBTdGVwIDM0OiBEZWxldGUgdGhlIHBsdWdpbiBtb2R1bGUsIGlmIG9uZSBleGlzdHMuXG5cdCAgICAgICAgaWYgKHBsdWdpbikge1xuXHRcdCAgICAgICAgdW5sb2FkUGx1Z2luKHNlbGYpO1xuXHQgICAgICAgIH1cblx0ICAgICAgICAvLyBTdGVwIDM1OiBVcGRhdGUgdGhlIHJlbGF0ZWQgcmVjb3JkcyBvbmUgbGFzdCB0aW1lLlxuXHQgICAgICAgIHJldHVybiBzZWxmLmxvYWRBbGxSZWxhdGVkUmVjb3JkcygpO1xuICAgICAgICB9KTtcbn07XG5cbi8qKlxuICogSWYgYSBxdW90ZSBjYWxjdWxhdG9yIHBsdWdpbiBleGlzdHMsIHRoaXMgbWV0aG9kIGNhbGxzIGl0cyBvbkluaXQoKSBtZXRob2QuIE90aGVyd2lzZSwgaXQgcmV0dXJucyBhIHByb21pc2UgdGhhdFxuICogaW1tZWRpYXRlbHkgcmVzb2x2ZXMuXG4gKiBAcGFyYW0ge1F1b3RlQ2FsY3VsYXRvcn0gcWMgVGhlIGNhbGN1bGF0b3IgaW4gcHJvZ3Jlc3NcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXNvbHZlcyB3aGVuIHRoZSBwbHVnaW4gaXMgaW5pdGlhbGl6ZWQsIG9yIGltbWVkaWF0ZWx5IGlmIG5vIHBsdWdpbiB3YXMgbG9hZGVkXG4gKi9cbmZ1bmN0aW9uIGluaXRpYWxpemVQbHVnaW4ocWMpIHtcblx0dmFyIHBsdWdpbiA9IHFjLnF1b3RlLnBsdWdpbjtcblx0aWYgKHBsdWdpbikge1xuXHRcdHJldHVybiBQbHVnaW5Mb2FkZXIubG9hZFBsdWdpbihwbHVnaW4sIHFjKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBEZWxldGVzIHRoZSBwbHVnaW4gdXNlZCBpbiB0aGlzIGNhbGN1bGF0aW9uLlxuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBjYWxjdWxhdG9yIGluIHByb2dyZXNzXG4gKi9cbmZ1bmN0aW9uIHVubG9hZFBsdWdpbihxYykge1xuXHRpZiAocWMucXVvdGUucGx1Z2luKSB7XG5cdFx0UGx1Z2luTG9hZGVyLmRlbGV0ZVBsdWdpbihxYy5xdW90ZS5wbHVnaW4ucGlkKTtcblx0fVxufVxuXG4vKipcbiAqIFNpbmNlIHRoZSB1c2VyIGNhbiBkeW5hbWljYWxseSBpbmplY3QgZGlzY291bnQgc2NoZWR1bGVzIHdpdGggcHJpY2UgcnVsZXMsIHBsdWdpbnMsIG9yIGJ5IG1hbnVhbGx5IGVudGVyaW5nIHRoZW0gb25cbiAqIHRoZSBsaW5lIGVkaXRvciwgdGhlIEpTUUMgbXVzdCBiZSBhYmxlIHRvIGR5bmFtaWNhbGx5IGVuc3VyZSB0aGF0IGFsbCByZWZlcmVuY2VkIGRpc2NvdW50IHNjaGVkdWxlcyBhcmUgYXZhaWxhYmxlLFxuICogYW5kIHRoYXQgYWxsIGFzc2V0cyBhbmQgc3Vic2NyaXB0aW9ucyBhcmUgbG9hZGVkLlxuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGN1cnJlbnRseSBydW5uaW5nXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgb25jZSBkaXNjb3VudCBzY2hlZHVsZXMgYXJlIGFsbCBsb2FkZWRcbiAqL1xuZnVuY3Rpb24gbG9hZERpc2NvdW50c0FuZEFjY291bnRTdW1tYXJpZXMocWMpIHtcbiAgICB2YXIgc2NoZWR1bGVNYXAgPSBxYy5xdW90ZS5zY2hlZHVsZU1hcDtcblxuICAgIGlmIChPYmplY3Qua2V5cyhzY2hlZHVsZU1hcCkubGVuZ3RoICE9IDApIHtcbiAgICAgICAgdmFyIG92ZXJyaWRkZW5NYXAgPSBxYy5xdW90ZS5vdmVycmlkZGVuU2NoZWR1bGVNYXA7XG4gICAgICAgIHZhciBjb250ZXh0ID0ge1xuICAgICAgICAgICAgJ3NjaGVkdWxlcyc6IHNjaGVkdWxlTWFwLFxuICAgICAgICAgICAgJ292ZXJyaWRlcyc6IG92ZXJyaWRkZW5NYXAsXG5cdCAgICAgICAgJ2FjY291bnQnOiBxYy5xdW90ZS5BY2NvdW50X19jXG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydFRpbWUgPSBuZXcgRGF0ZSgpO1xuXHQgICAgLy8gVGhpcyBtZXRob2QgYWN0dWFsbHkgdHJpZ2dlcnMgYXQgbW9zdCBvbmUgY2FsbG91dCwgdGhvdWdoIGl0IGxvb2tzIGxpa2UgaXQgcHJvdm9rZXMgMi5cblx0ICAgIC8vIElmICdBbGxEaXNjb3VudHNBbmRBY2NvdW50cycgZG9lc24ndCBleGlzdCwgaXQgZ2V0cyBxdWVyaWVkLlxuXHQgICAgLy8gSWYgaXQgZXhpc3RzIGJ1dCBpcyBvdXQgb2YgZGF0ZSwgaXQgZ2V0cyByZXF1ZXJpZWQuXG5cdCAgICAvLyBJZiBpdCBleGlzdHMgYW5kIGlzIHVwIHRvIGRhdGUsIG5vIHF1ZXJ5IG9jY3Vycy5cblx0ICAgIHZhciByZXN1bHRTdG9yYWdlO1xuXHQgICAgcmV0dXJuIGdldERpc2NvdW50c0FuZEFjY291bnRTdW1tYXJpZXNGcm9tU2VydmVyKHFjLmFwZXgsICdBbGxEaXNjb3VudHNBbmRBY2NvdW50cycsIGNvbnRleHQpXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKHJlc3VsdHMpIHtcblx0XHRcdCAgICByZXN1bHRTdG9yYWdlID0gcmVzdWx0cztcblx0XHRcdCAgICAvLyBDb21wYXJlIGJvdGggdGhlIHNjaGVkdWxlIG1hcCBhbmQgb3ZlcnJpZGUgbWFwIHRvIG1ha2Ugc3VyZSB0aGUgc3RhdGUgaXMgdGhlIHNhbWUuXG5cdFx0XHQgICAgdmFyIHJlc3VsdE9iaiA9IHR5cGVvZiByZXN1bHRzID09PSAnc3RyaW5nJyA/IEpTT04ucGFyc2UocmVzdWx0cykgOiByZXN1bHRzO1xuXHRcdFx0ICAgIGlmICghbWFwc0FyZUlkZW50aWNhbChjb250ZXh0LnNjaGVkdWxlcywgcmVzdWx0T2JqLnNjaGVkdWxlcykgfHwgIW1hcHNBcmVJZGVudGljYWwoY29udGV4dC5vdmVycmlkZXMsIHJlc3VsdE9iai5vdmVycmlkZXMpKSB7XG5cdFx0XHRcdCAgICAvLyBJZiB0aGUgbWFwcyBhcmVuJ3QgaWRlbnRpY2FsLCBkbyBhbm90aGVyIGNhbGxvdXQgYW5kIHJlcGxhY2UgdGhlIHJlc3VsdHMgd2l0aCB0aGUgbmV3IG9uZXNcblx0XHRcdFx0ICAgIHJldHVybiBnZXREaXNjb3VudHNBbmRBY2NvdW50U3VtbWFyaWVzRnJvbVNlcnZlcihxYy5hcGV4LCBudWxsLCBjb250ZXh0KTtcblx0XHRcdCAgICB9IGVsc2Uge1xuXHRcdFx0XHQgICAgLy8gSWYgdGhlIG1hcHMgYXJlIGlkZW50aWNhbCwgcmVzb2x2ZSB0byBvdXIgb3JpZ2luYWwgcmVzdWx0c1xuXHRcdFx0XHQgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHRzKTtcblx0XHRcdCAgICB9XG5cdFx0ICAgIH0pXG5cdFx0ICAgIC50aGVuKGZ1bmN0aW9uKG5ld1Jlc3VsdHMpIHtcblx0XHRcdCAgICByZXN1bHRTdG9yYWdlID0gbmV3UmVzdWx0cztcblx0XHRcdCAgICB2YXIgcmVzdWx0T2JqID0gdHlwZW9mIG5ld1Jlc3VsdHMgPT09ICdzdHJpbmcnID8gSlNPTi5wYXJzZShuZXdSZXN1bHRzKSA6IG5ld1Jlc3VsdHM7XG5cdFx0XHQgICAgc2V0RGlzY291bnRBbmRTdW1tYXJ5T2JqZWN0cyhxYywgcmVzdWx0T2JqKTtcblx0XHQgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuXHRmdW5jdGlvbiBtYXBzQXJlSWRlbnRpY2FsKG1hcDEsIG1hcDIpIHtcblx0XHRmb3IgKHZhciBrZXkgaW4gbWFwMSkge1xuXHRcdFx0Ly8gSWYgdGhlIHNlY29uZCBtYXAgY29udGFpbnMgYSB2YWx1ZSBmb3IgdGhhdCBrZXlcblx0XHRcdGlmIChtYXAyW2tleV0gIT0gbnVsbCkge1xuXHRcdFx0XHQvLyBSZXR1cm4gdHJ1ZSBpZiBldmVyeSB2YWx1ZSBpbiBtYXAyJ3MgbGlzdCBleGlzdHMgaW4gbWFwMSdzIGxpc3Rcblx0XHRcdFx0dmFyIHNhbWVFbnRyeUZvclRoaXNLZXkgPSBtYXAyW2tleV0uZXZlcnkoZnVuY3Rpb24odmFsdWVGcm9tTWFwMikge1xuXHRcdFx0XHRcdHJldHVybiBtYXAxW2tleV0uc29tZShmdW5jdGlvbih2YWx1ZUZyb21NYXAxKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWVGcm9tTWFwMSA9PT0gdmFsdWVGcm9tTWFwMjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGlmICghc2FtZUVudHJ5Rm9yVGhpc0tleSkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxufVxuXG4vKipcbiAqIFVzZXMgSlNGb3JjZSB0byBtYWtlIGEgUkVTVCBjYWxsb3V0IHRvIHRoZSBzZXJ2ZXIuIFRoZSBpbnZva2VkIFJFU1QgcmVzb3VyY2Ugd2lsbCBxdWVyeSBhbGwgb2YgdGhlIGRpc2NvdW50XG4gKiBzY2hlZHVsZXMgYW5kIGFjY291bnQgc3VtbWFyaWVzLCBhbmQgcmV0dXJuIHRoZW0gaW4gYSBTdHJpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcGV4IFN1cHBvcnRzIEdFVC9QT1NUIGNhbGxvdXRzIHRvIEFQRVggYXMgYSBSRVNUIEFQSVxuICogQHBhcmFtIHtPYmplY3R9IHJlcXVlc3RCb2R5IEFuIG9iamVjdCB3aXRoIHByb3BlcnRpZXMgY29udGFpbmluZyByZWZlcmVuY2VkIHNjaGVkdWxlIElkcywgb3ZlcnJpZGRlbiBzY2hlZHVsZSBJZHMsXG4gKiBhbmQgdGhlIElkIG9mIHRoZSBBY2NvdW50XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgb25jZSB0aGUgUkVTVCBjYWxsb3V0IGNvbXBsZXRlc1xuICovXG5mdW5jdGlvbiBnZXREaXNjb3VudHNBbmRBY2NvdW50U3VtbWFyaWVzRnJvbVNlcnZlcihhcGV4LCB1aWQsIGNvbnRleHQpIHtcbiAgICB2YXIgcHJlZml4ID0gU2V0dGluZ3NVdGlscy5nZXRQcmVmaXgoKSA9PSBcIlwiID8gXCJcIiA6IFwiU0JRUVwiO1xuICAgIHJldHVybiBhcGV4LmxvYWQocHJlZml4LCAnRGlzY291bnRBbmRBY2NvdW50Q2FsbG91dCcsIHVpZCwgY29udGV4dCk7XG59XG5cbi8qKlxuICogVHVybiB0aGUgcmVzdWx0IG9mIGEgdGhlIEFwZXggUkVTVCBjYWxsb3V0IGludG8gRGlzY291bnRTY2hlZHVsZU1vZGVscyBhbmQgQWNjb3VudE1vZGVscywgYW5kIHN0b3JlIHRoZW0gb24gdGhlXG4gKiBxdW90ZSBjYWxjdWxhdG9yXG4gKiBAcGFyYW0ge1F1b3RlQ2FsY3VsYXRvcn0gcWMgVGhlIGNhbGN1bGF0b3Igb24gd2hpY2ggdGhlIG1vZGVscyB3aWxsIGJlIHN0b3JlZFxuICogQHBhcmFtIHtPYmplY3R9IHJlc3VsdHMgQSBKU09OIHJldHVybmVkIGZyb20gdGhlIEFwZXggUkVTVCBjYWxsb3V0IC9EaXNjb3VudENhbGxvdXQvXG4gKiBAcmV0dXJucyB7Vm9pZH1cbiAqL1xuZnVuY3Rpb24gc2V0RGlzY291bnRBbmRTdW1tYXJ5T2JqZWN0cyhxYywgcmVzdWx0cykge1xuICAgIHFjLmRpc2NvdW50U2NoZWR1bGVNYXAgPSB7fTtcbiAgICB2YXIgZHNNYXAgPSByZXN1bHRzLnNjaGVkdWxlUmVjb3JkcztcbiAgICBmb3IgKHZhciBpZCBpbiBkc01hcCkge1xuICAgICAgICB2YXIgZHNSZWNvcmQgPSBkc01hcFtpZF07XG4gICAgICAgIHZhciBwcm9kdWN0SWRzO1xuICAgICAgICBpZihyZXN1bHRzLnByb2R1Y3RzQnlEaXNjb3VudFNjaGVkdWxlKVxuICAgICAgICAgICAgcHJvZHVjdElkcyA9IHJlc3VsdHMucHJvZHVjdHNCeURpc2NvdW50U2NoZWR1bGVbaWRdO1xuICAgICAgICBxYy5kaXNjb3VudFNjaGVkdWxlTWFwW0lkVXRpbHMuY29udmVydFRvMTgoaWQpXSA9IG5ldyBEaXNjb3VudFNjaGVkdWxlTW9kZWwoZHNSZWNvcmQsIHByb2R1Y3RJZHMpO1xuICAgIH1cblxuICAgIHFjLmFjY291bnRNYXAgPSB7fTtcbiAgICBmb3IgKHZhciBhY0lkIGluIHJlc3VsdHMuYWNjb3VudHMpIHtcbiAgICAgICAgdmFyIGFjY291bnRWTyA9IHJlc3VsdHMuYWNjb3VudHNbYWNJZF07XG4gICAgICAgIHFjLmFjY291bnRNYXBbSWRVdGlscy5jb252ZXJ0VG8xOChhY0lkKV0gPSBuZXcgQWNjb3VudE1vZGVsKGFjY291bnRWTyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHJpZXZlcyB0aGUgbWV0YWRhdGEgb2YgYW55IHJlZmVyZW5jZWQgZmllbGRzLiBJZiB0aGVyZSBhcmUgbm8gc3VjaCBmaWVsZHMsXG4gKiBhIFByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCByZXNvbHZlcyBpbW1lZGlhdGVseS4gRmllbGRzIHRoYXQgcmVxdWlyZSBhIGNhbGxvdXQgd2lsbCBpbmNsdWRlIHRob3NlIHVzZWQgYXMgY3VzdG9tXG4gKiBibG9jayBwcmljZS9kaXNjb3VudCBzY2hlZHVsZSBxdWFudGl0aWVzIG9yIGNvbnN0cmFpbnRzLCB0aG9zZSByZWZlcmVuY2VkIGJ5IHByaWNlIHJ1bGVzLCBwbHVnaW5zLCBvciBzdW1tYXJ5IHZhcmFpYmxlcyxcbiAqIGFuZCBhbnkgZmllbGRzIHJlZmVyZW5jZWQgYnkgdGhlIGZvcm11bGFzIG9uIHRoZXNlIGZpZWxkcy5cbiAqIEBwYXJhbSB7UXVvdGVDYWxjdWxhdG9yfSBxYyBUaGUgcXVvdGUgY2FsY3VsYXRvciBjdXJyZW50bHkgcnVubmluZy5cbiAqIEByZXR1cm5zIHtQcm9taXNlfVxuICovXG5mdW5jdGlvbiByZXRyaWV2ZU1ldGFkYXRhKHFjKSB7XG5cdHZhciBjb25uID0gcWMuY29ubjtcblx0dmFyIGZ1bGxOYW1lcyA9IGRldGVybWluZU1ldGFkYXRhRnVsbE5hbWVzKHFjKTtcblx0aWYgKGZ1bGxOYW1lcy5sZW5ndGggPT0gMCkge1xuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcblx0fVxuXG5cdC8vIFNpbmNlIHRoZSBNZXRhRGF0YSBBUEkgY2FuIG9ubHkgaGFuZGxlIDEwIGZpZWxkcyBhdCBhIHRpbWUsIHdlIGJyZWFrIHRoZSByZXF1ZXN0IGludG8gbXVsdGlwbGUgcmVxdWVzdHMgZm9yIG5vXG5cdC8vIG1vcmUgdGhhbiAxMCBmaWVsZHMgZWFjaC5cblx0dmFyIHByb21pc2VBcnJheSA9IFtdO1xuXHR2YXIgcHJvbWlzZXNOZWVkZWQgPSBNYXRoLmNlaWwoZnVsbE5hbWVzLmxlbmd0aCAvIDEwKTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBwcm9taXNlc05lZWRlZDsgaSsrKSB7XG5cdFx0cHJvbWlzZUFycmF5LnB1c2goY29ubi5tZXRhZGF0YS5yZWFkKCdDdXN0b21GaWVsZCcsIGZ1bGxOYW1lcy5zbGljZShpICogMTAsIChpICsgMSkgKiAxMCkpKTtcblx0fVxuXHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZUFycmF5KS50aGVuKGZ1bmN0aW9uKGRhdGFBcnJheSkge1xuXHRcdHZhciBjb21iaW5lZERhdGFBcnJheSA9IFtdO1xuXHRcdGRhdGFBcnJheS5mb3JFYWNoKGZ1bmN0aW9uKGFycikge1xuXHRcdFx0aWYgKGFyciAhPSBudWxsKSB7XG5cdFx0XHRcdGlmIChhcnIubGVuZ3RoID09IG51bGwpIHtcblx0XHRcdFx0XHRhcnIgPSBbYXJyXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Y29tYmluZWREYXRhQXJyYXkgPSBjb21iaW5lZERhdGFBcnJheS5jb25jYXQoYXJyKTtcblx0XHR9KTtcblxuXHRcdHFjLmZvcm11bGFGaWVsZEVuZ2luZS5zZXRNZXRhZGF0YShjb21iaW5lZERhdGFBcnJheSk7XG5cdH0pO1xufVxuXG4vKipcbiAqIElmIHRoZSBxdW90ZSBoYXMgYSB0YXJnZXQgYW1vdW50LCBhbGwgZGlzY291bnRzIGFyZSByZXNldFxuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGN1cnJlbnRseSBydW5uaW5nXG4gKi9cbmZ1bmN0aW9uIHRhcmdldENhbGN1bGF0b3JSZXNldHNEaXNjb3VudHMocWMpIHtcbiAgICB2YXIgdGMgPSBuZXcgVGFyZ2V0Q2FsY3VsYXRvcjIoKTtcbiAgICAvLyBJZiB0aGUgcXVvdGUgaGFzIGEgdGFyZ2V0IGFtb3VudCwgdXNlIHRoZSB0YXJnZXQgY2FsY3VsYXRvciB0byByZXNldCB0aGUgZGlzY291bnRzIG9uIHRoZSBxdW90ZS5cbiAgICBpZiAocWMucXVvdGUuVGFyZ2V0Q3VzdG9tZXJBbW91bnRfX2MgIT0gbnVsbCkge1xuICAgICAgICB0Yy5yZXNldERpc2NvdW50cyhxYy5xdW90ZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIElmIHRoZSBxdW90ZSBoYXMgYSB0YXJnZXQgYW1vdW50LCBkaXNjb3VudHMgYXJlIGFwcGxpZWQgdW50aWwgdGhhdCBhbW91bnQgaXMgcmVhY2hlZFxuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGN1cnJlbnRseSBydW5uaW5nXG4gKi9cbmZ1bmN0aW9uIHRhcmdldENhbGN1bGF0b3JBcHBsaWVzRGlzY291bnRzKHFjKSB7XG4gICAgdmFyIHRjID0gbmV3IFRhcmdldENhbGN1bGF0b3IyKCk7XG4gICAgcWMucXVvdGUuZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cC5UYXJnZXRDdXN0b21lckFtb3VudF9fYyAhPSBudWxsKSB7XG4gICAgICAgICAgICB0Yy5yZXNldERpc2NvdW50cyhxYy5xdW90ZSwgZ3JvdXApO1xuICAgICAgICAgICAgdGMuY2FsY3VsYXRlKHFjLnF1b3RlLCBncm91cCk7XG4gICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBhZnRlciB0YXJnZXRlZCBkaXNjb3VudHMgaGF2ZSBiZWVuIGNhbGN1bGF0ZWRcbiAgICAgICAgICAgIHJlc2V0VG90YWxzKHFjLnF1b3RlKTtcbiAgICAgICAgICAgIGNhbGN1bGF0ZUZpeGVkSXRlbXMocWMsIHFjLnF1b3RlKTtcbiAgICAgICAgICAgIGNhbGN1bGF0ZUR5bmFtaWNJdGVtcyhxYywgcWMucXVvdGUpO1xuICAgICAgICAgICAgY2FsY3VsYXRlVG90YWxzKHFjLnF1b3RlKTtcbiAgICAgICAgICAgIGlmIChncm91cC5oYXNEeW5hbWljTGluZUl0ZW1zICYmIChncm91cC5UYXJnZXRDdXN0b21lckFtb3VudF9fYyAhPSBncm91cC5yZWNvcmRbcWMucHJlZml4ICsgXCJDdXN0b21lclRvdGFsX19jXCJdKSkge1xuICAgICAgICAgICAgICAgIHRjLmFkanVzdER5bmFtaWNJdGVtcyhxYy5xdW90ZSwgZ3JvdXApO1xuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZUR5bmFtaWNJdGVtcyhxYywgcWMucXVvdGUpO1xuICAgICAgICAgICAgICAgIHJlc2V0VG90YWxzKHFjLnF1b3RlKTtcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGVUb3RhbHMocWMucXVvdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgcWMpO1xuXG4gICAgaWYgKHFjLnF1b3RlLlRhcmdldEN1c3RvbWVyQW1vdW50X19jICE9IG51bGwpIHtcbiAgICAgICAgdGMuY2FsY3VsYXRlKHFjLnF1b3RlKTtcbiAgICAgICAgLy8gUmVzZXQgYWZ0ZXIgdGFyZ2V0ZWQgZGlzY291bnRzIGhhdmUgYmVlbiBjYWxjdWxhdGVkXG4gICAgICAgIHJlc2V0VG90YWxzKHFjLnF1b3RlKTtcbiAgICAgICAgY2FsY3VsYXRlRml4ZWRJdGVtcyhxYywgcWMucXVvdGUpO1xuICAgICAgICBjYWxjdWxhdGVEeW5hbWljSXRlbXMocWMsIHFjLnF1b3RlKTtcbiAgICAgICAgY2FsY3VsYXRlVG90YWxzKHFjLnF1b3RlKTtcbiAgICAgICAgaWYgKHFjLnF1b3RlLmhhc0R5bmFtaWNMaW5lSXRlbXMgJiYgKHFjLnF1b3RlLlRhcmdldEN1c3RvbWVyQW1vdW50X19jICE9IHFjLnF1b3RlLmN1c3RvbWVyVG90YWwpKSB7XG4gICAgICAgICAgICB0Yy5hZGp1c3REeW5hbWljSXRlbXMocWMucXVvdGUpO1xuICAgICAgICAgICAgY2FsY3VsYXRlRHluYW1pY0l0ZW1zKHFjLCBxYy5xdW90ZSk7XG4gICAgICAgICAgICByZXNldFRvdGFscyhxYy5xdW90ZSk7XG4gICAgICAgICAgICBjYWxjdWxhdGVUb3RhbHMocWMucXVvdGUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5cbi8qKlxuICogQ3JlYXRlcyBhIGxpc3Qgb2YgdGhlIGZ1bGwgQVBJIG5hbWVzIG9mIGFsbCBmb3JtdWxhIGZpZWxkcyBhbmQgZm9ybXVsYS1yZWZlcmVuY2VkIGZpZWxkcywgZm9yIHVzZSBieSBKU0ZvcmNlJ3NcbiAqIG1ldGFkYXRhIGFwaVxuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IGNhbGN1bGF0b3IgVGhlIGNhbGN1bGF0b3IgY3VycmVudGx5IHJ1bm5pbmdcbiAqIEByZXR1cm5zIHtTdHJpbmdbXX1cbiAqL1xuZnVuY3Rpb24gZGV0ZXJtaW5lTWV0YWRhdGFGdWxsTmFtZXMoY2FsY3VsYXRvcikge1xuXHR2YXIgcmVmZXJlbmNlZEZpZWxkTWFwID0gU2V0dGluZ3NVdGlscy5nZXRSZWZlcmVuY2VkRmllbGRNYXAoKTtcblx0aWYgKHJlZmVyZW5jZWRGaWVsZE1hcCA9PSBudWxsKSB7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0dmFyIGZ1bGxOYW1lcyA9IFtdO1xuXHR2YXIgbGluZVR5cGUgPSBjYWxjdWxhdG9yLnByZWZpeCArIFwiUXVvdGVMaW5lX19jXCI7XG5cdHZhciBxdW90ZVR5cGUgPSBjYWxjdWxhdG9yLnByZWZpeCArIFwiUXVvdGVfX2NcIjtcblx0dmFyIGdyb3VwVHlwZSA9IGNhbGN1bGF0b3IucHJlZml4ICsgXCJRdW90ZUxpbmVHcm91cF9fY1wiO1xuXHQvLyBGb3IgYWxsIGZpZWxkIHNldHMsIGNyZWF0ZSB0aGUgZmllbGQncyBmdWxsIG5hbWUgdXNpbmcgdGhlIG1hcHBpbmcga2V5IGFuZCB0aGUgYXBpIG5hbWUuXG5cdGZvciAodmFyIGtleSBpbiByZWZlcmVuY2VkRmllbGRNYXApIHtcblx0XHR2YXIgdHlwZU5hbWUgPVxuXHRcdFx0KGtleSA9PT0gJ1F1b3RlIExpbmUnKSA/IGxpbmVUeXBlIDogKGtleSA9PT0gJ0dyb3VwJykgPyBncm91cFR5cGUgOiAoa2V5ID09PSAnUXVvdGUnKSA/IHF1b3RlVHlwZSA6IGtleTtcblx0XHRpZiAocmVmZXJlbmNlZEZpZWxkTWFwLmhhc093blByb3BlcnR5KGtleSkpIHtcblx0XHRcdHJlZmVyZW5jZWRGaWVsZE1hcFtrZXldLmZvckVhY2goZnVuY3Rpb24oYXBpTmFtZSkge1xuXHRcdFx0XHRmdWxsTmFtZXMucHVzaCh0eXBlTmFtZSArICcuJyArIGFwaU5hbWUpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiBmdWxsTmFtZXM7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgRGlzY291bnRTY2hlZHVsZU1vZGVsIHdpdGggdGhlIHByb3ZpZGVkIElEXG4gKiBAcGFyYW0ge1N0cmluZ30gc2lkIEFuIEFwZXggSURcbiAqIEByZXR1cm5zIHtEaXNjb3VudFNjaGVkdWxlTW9kZWx9fVxuICovXG5RdW90ZUNhbGN1bGF0b3IucHJvdG90eXBlLmdldERpc2NvdW50U2NoZWR1bGVCeUlkID0gZnVuY3Rpb24oc2lkKSB7XG4gICAgcmV0dXJuIHRoaXMuZGlzY291bnRTY2hlZHVsZU1hcFtJZFV0aWxzLmNvbnZlcnRUbzE4KHNpZCldO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBBY2NvdW50TW9kZWwgd2l0aCB0aGUgcHJvdmlkZWQgSURcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZCBBbiBBcGV4IElEXG4gKiBAcmV0dXJucyB7QWNjb3VudE1vZGVsfX1cbiAqL1xuUXVvdGVDYWxjdWxhdG9yLnByb3RvdHlwZS5nZXRBY2NvdW50QnlJZCA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuYWNjb3VudE1hcFtpZF07XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHF1YW50aXRpZXMgZm9yIGVhY2ggcXVvdGUgbGluZSBpbiB0aGUgZ2l2ZW4gcXVvdGUuXG4gKiBAcGFyYW0ge1F1b3RlTW9kZWwyfSBxdW90ZSBUaGUgcXVvdGUgd2hvc2UgbGluZXMgc2hvdWxkIGJlIGNhbGN1bGF0ZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZVF1YW50aXRpZXMocXVvdGUpIHtcbiAgICBxdW90ZS5saW5lSXRlbXMuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGxpbmUuUXVhbnRpdHlfX2MgPSBjYWxjdWxhdGVRdWFudGl0eShsaW5lKTtcbiAgICAgICAgaWYgKGxpbmUuUXVhbnRpdHlfX2MgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHF1YW50aXR5U2NhbGUgPSBsaW5lLnByb2R1Y3RRdWFudGl0eVNjYWxlO1xuICAgICAgICAgICAgaWYgKHF1YW50aXR5U2NhbGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHF1YW50aXR5U2NhbGUgPSBTZXR0aW5nc1V0aWxzLmdldFF1YW50aXR5U2NhbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmUuUXVhbnRpdHlfX2MgPSBOdW1iZXJVdGlscy5zZXRTY2FsZShsaW5lLlF1YW50aXR5X19jLCBxdWFudGl0eVNjYWxlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBpbmRleFF1YW50aXRpZXNGb3JEaXNjb3VudFNjaGVkdWxlcyhxdW90ZSwgY2FsY3VsYXRvcikge1xuICAgIHF1b3RlLmxpbmVJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgLy8gSWYgbGluZSBpcyB2b2x1bWUgZGlzY291bnRlZCwgYW5kIHRoZSBxdW90ZSBpcyBub3QgYSByZW5ld2FsLCBwb3B1bGF0ZSB0aGUgcXVhbnRpdGllc1xuICAgICAgICAvLyBvZiBwcm9kdWN0cyB0aGF0IHNoYXJlIHRoZSBzYW1lIHNjaGVkdWxlLCBwcm9kY3V0LCBvciBncm91cFxuICAgICAgICBpZiAobGluZS5pc1ZvbHVtZURpc2NvdW50ZWQgJiYgKCFxdW90ZS5pc1JlbmV3YWwgfHwgbGluZS5SZW5ld2VkQXNzZXRfX2MgPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZURpc2NvdW50ZWRRdWFudGl0aWVzKGxpbmUsIGNhbGN1bGF0b3IsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGluZS5oYXNDb3N0U2NoZWR1bGUgJiYgKCFxdW90ZS5pc1JlbmV3YWwgfHwgbGluZS5SZW5ld2VkQXNzZXRfX2MgPT0gbnVsbCkpIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZURpc2NvdW50ZWRRdWFudGl0aWVzKGxpbmUsIGNhbGN1bGF0b3IsIHRydWUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogSW5kZXggdGhlIHN1bXMgb2YgcXVhbnRpdGllcyBvZiBkaXNjb3VudGVkIGxpbmVzIGZvciB1c2UgYnkgY3Jvc3MtcHJvZHVjdCBkaXNjb3VudHMgb3IgZGlzY291bnRzIHdpdGggYWdncmVnYXRpb24gc2NvcGVzXG4gKiBAcGFyYW0ge1F1b3RlTGluZU1vZGVsfSBsaW5lIFRoZSBsaW5lIGJlaW5nIGRpc2NvdW50ZWRcbiAqIEBwYXJhbSB7UXVvdGVDYWxjdWxhdG9yfSBjYWxjdWxhdG9yIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGNhbGxpbmcgdGhpcyBtZXRob2RcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNDb3N0U2NoZWR1bGUgVHJ1ZSBpZiB0aGlzIGxpbmUgaXMgZGlzY291bnRlZCBhY2NvcmRpbmcgdG8gYSBDb3N0LUJhc2VkIGRpc2NvdW50IHNjaGVkdWxlXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZURpc2NvdW50ZWRRdWFudGl0aWVzKGxpbmUsIGNhbGN1bGF0b3IsIGlzQ29zdFNjaGVkdWxlKSB7XG4gICAgdmFyIHNjaGVkdWxlSWQ7XG4gICAgdmFyIHFzaTtcbiAgICB2YXIgcXNpSW5jbHVkZUJ1bmRsZWQgPSBjYWxjdWxhdG9yLnF1YW50aXR5U3VtSW5kZXhJbmNsdWRpbmdCdW5kbGVkO1xuICAgIHZhciBxc2lQcmlvclF0eSA9IGNhbGN1bGF0b3IucHJpb3JRdWFudGl0eVN1bUluZGV4O1xuICAgIHZhciBxc2lBY3R1YWxRdHkgPSBjYWxjdWxhdG9yLmFjdHVhbFF1YW50aXR5U3VtSW5kZXg7XG4gICAgLy8gR2V0IHRoZSBJRCBmb3IgdGhlIHVzZWQgZGlzY291bnQgc2NoZWR1bGVcbiAgICBpZiAoIWlzQ29zdFNjaGVkdWxlKSB7XG4gICAgICAgIHNjaGVkdWxlSWQgPSBsaW5lLkRpc2NvdW50U2NoZWR1bGVfX2M7XG4gICAgICAgIHFzaSA9IGNhbGN1bGF0b3IucXVhbnRpdHlTdW1JbmRleDtcbiAgICB9IGVsc2UgaWYgKGlzQ29zdFNjaGVkdWxlKSB7XG4gICAgICAgIHNjaGVkdWxlSWQgPSBsaW5lLmNvc3RTY2hlZHVsZUlkO1xuICAgICAgICBxc2kgPSBjYWxjdWxhdG9yLnF1YW50aXR5U3VtSW5kZXhGb3JDb3N0U2NoZWR1bGVzO1xuICAgIH1cbiAgICB2YXIgcWlkID0gSWRVdGlscy5jb252ZXJ0VG8xOChsaW5lLnF1b3RlSWQpO1xuICAgIHZhciBzaWQgPSBJZFV0aWxzLmNvbnZlcnRUbzE4KHNjaGVkdWxlSWQpO1xuICAgIHZhciBwaWQgPSBsaW5lLlByb2R1Y3RfX2M7XG4gICAgdmFyIHNjaGVkdWxlSWRLZXkgPSBxaWQgKyBcIl9cIiArIHNpZDtcbiAgICB2YXIgc2NoZWR1bGVQcm9kdWN0S2V5ID0gc2NoZWR1bGVJZEtleSArIFwiX1wiICsgcGlkO1xuICAgIHZhciBncm91cFNjaGVkSWRLZXkgPSAobGluZS5wYXJlbnRHcm91cCAhPSBudWxsKSA/IHFpZCArIFwiX1wiICsgbGluZS5wYXJlbnRHcm91cC5rZXkgKyBcIl9cIiArIHNpZCA6IG51bGw7XG4gICAgdmFyIGdyb3VwU2NoZWRQcm9kS2V5ID0gKGxpbmUucGFyZW50R3JvdXAgIT0gbnVsbCkgPyBncm91cFNjaGVkSWRLZXkgKyBcIl9cIiArIHBpZCA6IG51bGw7XG5cbiAgICB2YXIgc3VtID0gMDtcbiAgICB2YXIgbGluZVF1YW50aXR5O1xuICAgIHZhciBsaW5lUHJpb3JRdWFudGl0eSA9IGxpbmUuUHJpb3JRdWFudGl0eV9fYyB8fCAwO1xuICAgIHZhciBsaW5lQWN0dWFsUXVhbnRpdHkgPSBsaW5lLkFjdHVhbFF1YW50aXR5X19jIHx8IDA7XG4gICAgLy8gSWYgYSBjdXN0b20gZmllbGQgaXMgdXNlZCBmb3IgRGlzY291bnQgU2NoZWR1bGVzLCB1c2UgdGhhdCB2YWx1ZSBpbnN0ZWFkXG4gICAgaWYgKHNjaGVkdWxlSWQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgZHMgPSBjYWxjdWxhdG9yLmdldERpc2NvdW50U2NoZWR1bGVCeUlkKElkVXRpbHMuY29udmVydFRvMTgoc2NoZWR1bGVJZCkpO1xuICAgICAgICB2YXIgcXVvdGVMaW5lUXVhbnRpdHlGaWVsZE5hbWU9IGRzLnJlY29yZFtTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgXCJRdW90ZUxpbmVRdWFudGl0eUZpZWxkX19jXCJdO1xuICAgICAgICBpZiAocXVvdGVMaW5lUXVhbnRpdHlGaWVsZE5hbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHF1b3RlTGluZVF1YW50aXR5RmllbGQgPSBNZXRhRGF0YVV0aWxzLmdldEZpZWxkKE1ldGFEYXRhVXRpbHMuZ2V0T2JqZWN0VHlwZShsaW5lKSwgcXVvdGVMaW5lUXVhbnRpdHlGaWVsZE5hbWUpO1xuICAgICAgICAgICAgbGluZVF1YW50aXR5ID0gbGluZS5yZWNvcmRbcXVvdGVMaW5lUXVhbnRpdHlGaWVsZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxpbmVRdWFudGl0eSA9PSBudWxsKSB7XG4gICAgICAgIGxpbmVRdWFudGl0eSA9IGxpbmUuUXVhbnRpdHlfX2M7XG4gICAgfVxuXG4gICAgLy8gUG9wdWxhdGUgUVNJIHdpdGhvdXQgaW5jbHVkaW5nIEJ1bmRsZWQgUHJvZHVjdHNcbiAgICBpZiAoIWxpbmUuT3B0aW9uYWxfX2MgJiYgIWxpbmUuQnVuZGxlZF9fYykge1xuICAgICAgICBzdW0gPSBxc2lbc2NoZWR1bGVJZEtleV0gfHwgMDtcbiAgICAgICAgcXNpW3NjaGVkdWxlSWRLZXldID0gc3VtICsgbGluZVF1YW50aXR5O1xuICAgICAgICBzdW0gPSBxc2lbc2NoZWR1bGVQcm9kdWN0S2V5XSB8fCAwO1xuICAgICAgICBxc2lbc2NoZWR1bGVQcm9kdWN0S2V5XSA9IHN1bSArIGxpbmVRdWFudGl0eTtcbiAgICAgICAgc3VtID0gcXNpUHJpb3JRdHlbc2NoZWR1bGVJZEtleV0gfHwgMDtcbiAgICAgICAgcXNpUHJpb3JRdHlbc2NoZWR1bGVJZEtleV0gPSBzdW0gKyBsaW5lUHJpb3JRdWFudGl0eTtcbiAgICAgICAgc3VtID0gcXNpUHJpb3JRdHlbc2NoZWR1bGVQcm9kdWN0S2V5XSB8fCAwO1xuICAgICAgICBxc2lQcmlvclF0eVtzY2hlZHVsZVByb2R1Y3RLZXldID0gc3VtICsgbGluZVByaW9yUXVhbnRpdHk7XG4gICAgICAgIHN1bSA9IHFzaUFjdHVhbFF0eVtzY2hlZHVsZUlkS2V5XSB8fCAwO1xuICAgICAgICBxc2lBY3R1YWxRdHlbc2NoZWR1bGVJZEtleV0gPSBzdW0gKyBsaW5lQWN0dWFsUXVhbnRpdHk7XG4gICAgICAgIHN1bSA9IHFzaUFjdHVhbFF0eVtzY2hlZHVsZVByb2R1Y3RLZXldIHx8IDA7XG4gICAgICAgIHFzaUFjdHVhbFF0eVtzY2hlZHVsZVByb2R1Y3RLZXldID0gc3VtICsgbGluZUFjdHVhbFF1YW50aXR5O1xuICAgIH1cbiAgICBpZiAoKGxpbmUucGFyZW50R3JvdXAgIT0gbnVsbCkgJiYgKCFsaW5lLk9wdGlvbmFsX19jIHx8IGxpbmUucGFyZW50R3JvdXAuT3B0aW9uYWxfX2MpICYmICFsaW5lLkJ1bmRsZWRfX2MpIHtcbiAgICAgICAgc3VtID0gcXNpW2dyb3VwU2NoZWRJZEtleV0gfHwgMDtcbiAgICAgICAgcXNpW2dyb3VwU2NoZWRJZEtleV0gPSBzdW0gKyBsaW5lUXVhbnRpdHk7XG4gICAgICAgIHN1bSA9IHFzaVtncm91cFNjaGVkUHJvZEtleV0gfHwgMDtcbiAgICAgICAgcXNpW2dyb3VwU2NoZWRQcm9kS2V5XSA9IHN1bSArIGxpbmVRdWFudGl0eTtcbiAgICAgICAgc3VtID0gcXNpUHJpb3JRdHlbZ3JvdXBTY2hlZElkS2V5XSB8fCAwO1xuICAgICAgICBxc2lQcmlvclF0eVtncm91cFNjaGVkSWRLZXldID0gc3VtICsgbGluZVByaW9yUXVhbnRpdHk7XG4gICAgICAgIHN1bSA9IHFzaVByaW9yUXR5W2dyb3VwU2NoZWRQcm9kS2V5XSB8fCAwO1xuICAgICAgICBxc2lQcmlvclF0eVtncm91cFNjaGVkUHJvZEtleV0gPSBzdW0gKyBsaW5lUHJpb3JRdWFudGl0eTtcbiAgICAgICAgc3VtID0gcXNpQWN0dWFsUXR5W2dyb3VwU2NoZWRJZEtleV0gfHwgMDtcbiAgICAgICAgcXNpQWN0dWFsUXR5W2dyb3VwU2NoZWRJZEtleV0gPSBzdW0gKyBsaW5lQWN0dWFsUXVhbnRpdHk7XG4gICAgICAgIHN1bSA9IHFzaUFjdHVhbFF0eVtncm91cFNjaGVkUHJvZEtleV0gfHwgMDtcbiAgICAgICAgcXNpQWN0dWFsUXR5W2dyb3VwU2NoZWRQcm9kS2V5XSA9IHN1bSArIGxpbmVBY3R1YWxRdWFudGl0eTtcbiAgICB9XG4gICAgLy8gUG9wdWxhdGUgUVNJIGluY2x1ZGluZyBCdW5kbGVkIFByb2R1Y3RzXG4gICAgaWYgKCFsaW5lLk9wdGlvbmFsX19jKSB7XG4gICAgICAgIHN1bSA9IHFzaUluY2x1ZGVCdW5kbGVkW3NjaGVkdWxlSWRLZXldIHx8IDA7XG4gICAgICAgIHFzaUluY2x1ZGVCdW5kbGVkW3NjaGVkdWxlSWRLZXldID0gc3VtICsgbGluZVF1YW50aXR5O1xuICAgICAgICBzdW0gPSBxc2lJbmNsdWRlQnVuZGxlZFtzY2hlZHVsZVByb2R1Y3RLZXldIHx8IDA7XG4gICAgICAgIHFzaUluY2x1ZGVCdW5kbGVkW3NjaGVkdWxlUHJvZHVjdEtleV0gPSBzdW0gKyBsaW5lUXVhbnRpdHk7XG4gICAgfVxuICAgIGlmICgobGluZS5wYXJlbnRHcm91cCAhPSBudWxsKSAmJiAoIWxpbmUuT3B0aW9uYWxfX2MgfHwgbGluZS5wYXJlbnRHcm91cC5PcHRpb25hbF9fYykpIHtcbiAgICAgICAgc3VtID0gcXNpSW5jbHVkZUJ1bmRsZWRbZ3JvdXBTY2hlZElkS2V5XSB8fCAwO1xuICAgICAgICBxc2lJbmNsdWRlQnVuZGxlZFtncm91cFNjaGVkSWRLZXldID0gc3VtICsgbGluZVF1YW50aXR5O1xuICAgICAgICBzdW0gPSBxc2lJbmNsdWRlQnVuZGxlZFtncm91cFNjaGVkUHJvZEtleV0gfHwgMDtcbiAgICAgICAgcXNpSW5jbHVkZUJ1bmRsZWRbZ3JvdXBTY2hlZFByb2RLZXldID0gc3VtICsgbGluZVF1YW50aXR5O1xuICAgIH1cbn1cblxuXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIHF1YW50aXR5IGZvciBhIHNpbmdsZSBpdGVtLlxuICogQHBhcmFtIHtRdW90ZUxpbmVNb2RlbH0gbGluZSBBIFF1b3RlTGluZU1vZGVsIHRoYXQgcmVwcmVzZW50cyBhIGdpdmVuIHF1b3RlIGxpbmVcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFRoZSBxdWFudGl0eSBvZiB0aGF0IGl0ZW0sIHJlcHJlc2VudGVkIGFzIGEgRGVjaW1hbFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlUXVhbnRpdHkobGluZSkge1xuICAgIC8vIE9uIGFtZW5kbWVudHMsIGlmIHBhcmVudCBidW5kbGUgcXVhbnRpdHkgaXMgemVyb2VkIChkZS1zZWxlY3RlZCksIGFsbCBjaGlsZHJlbiBzaG91bGQgYWxzbyBiZSB6ZXJvZWRcbiAgICBpZiAobGluZS5wYXJlbnRRdW90ZS5pc0FtZW5kbWVudCAmJiBsaW5lLnBhcmVudEl0ZW0gIT0gbnVsbCAmJiBjYWxjdWxhdGVRdWFudGl0eShsaW5lLnBhcmVudEl0ZW0pID09PSAwKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICAvLyBHZXQgdGhlIGJ1bmRsZWQgcXVhbnRpdHksIGlmIGl0IGV4aXN0c1xuICAgIHZhciBvcmlnaW5hbFF0eSA9IGxpbmUuQnVuZGxlZFF1YW50aXR5X19jO1xuICAgIGlmIChvcmlnaW5hbFF0eSAhPSBudWxsKSB7XG4gICAgICAgIC8vIFF1YW50aXR5IG9mIHBlcmNlbnQtb2YtdG90YWwgc3Vic2NyaXB0aW9uIGFuZCBhY2Nlc3Nvcnkgb3B0aW9ucyBzdGF5cyBhcyBlbnRlcmVkXG4gICAgICAgIHZhciBwYXJlbnRRdHkgPSAoKGxpbmUucGFyZW50SXRlbSA9PSBudWxsKSB8fCAobGluZS5pc0R5bmFtaWNTdWJzY3JpcHRpb24pIHx8IGxpbmUuaXNPcHRpb25UeXBlQWNjZXNzb3J5KVxuICAgICAgICAgICAgPyAxXG4gICAgICAgICAgICA6IGNhbGN1bGF0ZVF1YW50aXR5KGxpbmUucGFyZW50SXRlbSk7XG4gICAgICAgIHZhciBiYXRjaFF0eSA9IGxpbmUuQmF0Y2hRdWFudGl0eV9fYztcbiAgICAgICAgdmFyIHF0eSA9IG9yaWdpbmFsUXR5O1xuICAgICAgICBpZiAoKGJhdGNoUXR5ICE9IG51bGwpICYmIChiYXRjaFF0eSAhPSAwKSkge1xuICAgICAgICAgICAgcXR5ID0gTWF0aC5jZWlsKG9yaWdpbmFsUXR5IC8gcGFyc2VGbG9hdChiYXRjaFF0eSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBxdHkgKiBwYXJlbnRRdHk7XG4gICAgfVxuICAgIHJldHVybiBsaW5lLlF1YW50aXR5X19jO1xufVxuXG4vKipcbiAqIEV2YWx1YXRlcyB0aGUgcHJpY2UgcnVsZXMgdGhhdCBhY3Qgb24gYSBnaXZlbiBxdW90ZS5cbiAqIEBwYXJhbSB7UXVvdGVNb2RlbDJ9IHEgQSBRdW90ZU1vZGVsMiB0aGF0IHJlcHJlc2VudHMgdGhlIHF1b3RlXG4gKiBAcGFyYW0ge0Nvbm5lY3Rpb259IGNvbm5lY3Rpb24gQSBKU0ZvcmNlIENvbm5lY3Rpb24gb2JqZWN0IHRvIGNhbGxiYWNrIHRvIFNGREMgc2VydmVyXG4gKiBAcGFyYW0ge0Zvcm11bGFGaWVsZEVuZ2luZX0gZm9ybXVsYUVuZ2luZSBUaGUgZW5naW5lIGJ5IHdoaWNoIHRoZSBwcmljZSBydWxlIGV2YWx1YXRvciBjYW4gcHJvY2VzcyBmb3JtdWxhc1xuICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIHdoZW4gcHJpY2UgcnVsZXMgZmluaXNoIGV2YWx1YXRpbmcsIG9yIGltbWVkaWF0ZWx5IGlmIHRoZXJlIGFyZSBubyBwcmljZSBydWxlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXZhbHVhdGVQcmljZVJ1bGVzKHEsIGV2ZW50UGVyaW9kLCBjb25uZWN0aW9uLCBhcGV4LCBmb3JtdWxhRW5naW5lKSB7XG4gICAgaWYgKChxLklkICE9IG51bGwpICYmIC8qIChkaXNhYmxlRXh0cmFQcm9jZXNzaW5nICE9IHRydWUpICYmICovIFNldHRpbmdzVXRpbHMuaGFzUXVvdGVQcmljZVJ1bGVzKCkpIHtcbiAgICAgICAgLy8gUXVvdGUgSUQgaXMgcmVxdWlyZWQgYnkgdGhlIHByaWNlIHJ1bGUgZXZhbHVhdG9yLCBhbmQgc2hvdWxkIG5ldmVyIGJlIG51bGwgZHVyaW5nIG5vcm1hbCB1c2VcblxuICAgICAgICB2YXIgcWxwckV2YWx1YXRvciA9IG5ldyBRdW90ZUxpbmVQcmljZVJ1bGVFdmFsdWF0b3IocSwgZm9ybXVsYUVuZ2luZSk7XG4gICAgICAgIGlmIChjb25uZWN0aW9uKVxuICAgICAgICAgICAgcWxwckV2YWx1YXRvci5zZXRDb25uZWN0aW9uKGNvbm5lY3Rpb24pO1xuICAgICAgICBpZihhcGV4KVxuICAgICAgICAgICAgcWxwckV2YWx1YXRvci5zZXRBcGV4KGFwZXgpO1xuICAgICAgICByZXR1cm4gcWxwckV2YWx1YXRvci5ldmFsdWF0ZShxLCBldmVudFBlcmlvZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtyZXNvbHZlKCl9KTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVzZXRzIGFsbCBvZiB0aGUgdG90YWwgYXR0cmlidXRlcyBvbiB0aGUgUXVvdGVNb2RlbDIgYW5kIGFsbCBvZiB0aGUgUXVvdGVMaW5lR3JvdXBNb2RlbHNcbiAqIEBwYXJhbSB7UXVvdGVNb2RlbDJ9IHF1b3RlIFRoZSBxdW90ZSB0byByZXNldC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc2V0VG90YWxzKHF1b3RlKSB7XG4gICAgdmFyIHByZWZpeCA9IFNldHRpbmdzVXRpbHMuZ2V0UHJlZml4KCk7XG4gICAgLy8gUmVzZXQgdG90YWxzIGZvciB0aGUgcXVvdGVcbiAgICBxdW90ZS5saXN0UHJvZHVjdFRvdGFsID0gMDtcbiAgICBxdW90ZS5jdXN0b21lclByb2R1Y3RUb3RhbCA9IDA7XG4gICAgcXVvdGUubmV0UHJvZHVjdFRvdGFsID0gMDtcbiAgICBxdW90ZS5yZWd1bGFyUHJvZHVjdFRvdGFsID0gMDtcbiAgICBxdW90ZS5uZXRUb3RhbCA9IDA7XG4gICAgcXVvdGUuY3VzdG9tZXJUb3RhbCA9IDA7XG4gICAgcXVvdGUucmVndWxhclRvdGFsID0gMDtcbiAgICBxdW90ZS5saXN0VG90YWwgPSAwO1xuICAgIC8vIFJlc2V0IHRoZSB0b3RhbHMgb24gZWFjaCBncm91cFxuICAgIHZhciBncm91cENvdW50ID0gcXVvdGUuZ3JvdXBzLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGdyb3VwQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgZ3JvdXAgPSBxdW90ZS5ncm91cHNbaV07XG4gICAgICAgIGdyb3VwLmxpc3RQcm9kdWN0VG90YWwgPSAwO1xuICAgICAgICBncm91cC5jdXN0b21lclByb2R1Y3RUb3RhbCA9IDA7XG4gICAgICAgIGdyb3VwLm5ldFByb2R1Y3RUb3RhbCA9IDA7XG4gICAgICAgIGdyb3VwLnJlZ3VsYXJQcm9kdWN0VG90YWwgPSAwO1xuICAgICAgICBncm91cC5yZWNvcmRbcHJlZml4ICsgXCJMaXN0VG90YWxfX2NcIl0gPSAwO1xuICAgICAgICBncm91cC5yZWNvcmRbcHJlZml4ICsgXCJDdXN0b21lclRvdGFsX19jXCJdID0gMDtcbiAgICAgICAgZ3JvdXAucmVjb3JkW3ByZWZpeCArIFwiTmV0VG90YWxfX2NcIl0gPSAwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHByaWNlIG9mIGxpbmVzIHRoYXQgYXJlIG5vdCBkeW5hbWljIHN1YnNjcmlwdGlvbnNcbiAqIEBwYXJhbSB7UXVvdGVDYWxjdWxhdG9yfSBxYyBUaGUgcXVvdGUgY2FsY3VsYXRvciwgcGFzc2VkIGluIGJlY2F1c2UgdGhlcmUgaXMgbm8gJ3RoaXMnIGluIGFub255bW91cyBmdW5jdGlvbnMuXG4gKiBAcGFyYW0ge1F1b3RlTW9kZWwyfSBxdW90ZSBUaGUgcXVvdGUgdG8gY2hlY2sgZm9yIGZpeGVkIGl0ZW1zXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVGaXhlZEl0ZW1zKHFjLCBxdW90ZSkge1xuICAgIHZhciBsaW5lQ291bnQgPSBxdW90ZS5saW5lSXRlbXMubGVuZ3RoO1xuICAgIC8vIEZvciBldmVyeSBsaW5lIGluIHRoZSBxdW90ZSxcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVDb3VudDsgaSsrKSB7XG4gICAgICAgIHZhciBsaW5lID0gcXVvdGUubGluZUl0ZW1zW2ldO1xuICAgICAgICAvLyBJZiB0aGUgbGluZSBpcyBub3QgYSBkeW5hbWljIHN1YnNjcmlwdGlvbiwgY3JlYXRlIGEgbGluZSBjYWxjdWxhdG9yIGFuZCBhcHBseSBpdCB0byB0aGUgbGluZS5cbiAgICAgICAgaWYgKCFsaW5lLmlzRHluYW1pYykge1xuICAgICAgICAgICAgdmFyIGxDYWxjID0gbmV3IExpbmVDYWxjdWxhdG9yKHFjLCBsaW5lLCBudWxsLCBudWxsKTtcbiAgICAgICAgICAgIGxDYWxjLmNhbGN1bGF0ZSgpO1xuICAgICAgICAgICAgLy8gTm9uLW9wdGlvbmFsLCBub24tZXhjbHVkZWQgbGluZXMgYXJlIGFkZGVkIHRvIHRoZSBxdW90ZSdzIHRvdGFsXG4gICAgICAgICAgICBpZiAoIWxpbmUuT3B0aW9uYWxfX2MpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpbmUuaXNFeGNsdWRlZEZyb21NYWludGVuYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgdGhlIHF1b3RlJ3MgdG90YWxzXG4gICAgICAgICAgICAgICAgICAgIHF1b3RlLmxpc3RQcm9kdWN0VG90YWwgKz0gbGluZS5saXN0UHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgICAgICBxdW90ZS5jdXN0b21lclByb2R1Y3RUb3RhbCArPSBsaW5lLmN1c3RvbWVyUHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgICAgICBxdW90ZS5uZXRQcm9kdWN0VG90YWwgKz0gbGluZS5uZXRQcm9kdWN0VG90YWw7XG4gICAgICAgICAgICAgICAgICAgIHF1b3RlLnJlZ3VsYXJQcm9kdWN0VG90YWwgKz0gbGluZS5yZWd1bGFyUHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBsaW5lIGlzIG5vdCBvcHRpb25hbCwgb3IgaXRzIHBhcmVudCBncm91cCBJUyBvcHRpb25hbCwgYWRkIGl0cyB0b3RhbCB0byB0aGUgcGFyZW50IGdyb3VwJ3MuXG4gICAgICAgICAgICBpZiAobGluZS5wYXJlbnRHcm91cCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsaW5lLk9wdGlvbmFsX19jIHx8IChsaW5lLnBhcmVudEdyb3VwLnJlY29yZFtTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgXCJPcHRpb25hbF9fY1wiXSA9PT0gdHJ1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lLmlzRXhjbHVkZWRGcm9tTWFpbnRlbmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluY3JlbWVudCB0aGUgcGFyZW50IGdyb3VwJ3MgdG90YWxzXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLnBhcmVudEdyb3VwLmxpc3RQcm9kdWN0VG90YWwgKz0gbGluZS5saXN0UHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5wYXJlbnRHcm91cC5jdXN0b21lclByb2R1Y3RUb3RhbCArPSBsaW5lLmN1c3RvbWVyUHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZS5wYXJlbnRHcm91cC5uZXRQcm9kdWN0VG90YWwgKz0gbGluZS5uZXRQcm9kdWN0VG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lLnBhcmVudEdyb3VwLnJlZ3VsYXJQcm9kdWN0VG90YWwgKz0gbGluZS5yZWd1bGFyUHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG5cblxuXG4vKipcbiAqIENhbGN1bGF0ZSB0aGUgcHJpY2Ugb2YgbGluZXMgdGhhdCBhcmUgZHluYW1pYyBzdWJzY3JpcHRpb25zXG4gKiBAcGFyYW0ge1F1b3RlQ2FsY3VsYXRvcn0gcWMgVGhlIHF1b3RlIGNhbGN1bGF0b3IsIHBhc3NlZCBpbiBiZWNhdXNlIHRoZXJlIGlzIG5vICd0aGlzJyBpbiBhbm9ueW1vdXMgZnVuY3Rpb25zLlxuICogQHBhcmFtIHtRdW90ZU1vZGVsMn0gcXVvdGUgVGhlIHF1b3RlIHRvIGNoZWNrIGZvciBkeW5hbWljIGl0ZW1zXG4gKiBAcmV0dXJuIHtWb2lkfVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRHluYW1pY0l0ZW1zKHFjLCBxdW90ZSkge1xuICAgIHZhciBsaW5lcyA9IHF1b3RlLmxpbmVJdGVtcztcbiAgICB2YXIgbGluZUNvdW50ID0gbGluZXMubGVuZ3RoO1xuICAgIHZhciBxdHk7XG4gICAgLy8gRm9yIGVhY2ggbGluZSBpbiB0aGUgcXVvdGUsXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lQ291bnQ7IGkrKykge1xuICAgICAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICBpZiAoIWxpbmUuaXNEeW5hbWljKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgbGluZSBpcyBhIGR5bmFtaWMgc3Vic2NyaXB0aW9uLCBjcmVhdGUgYW5kIGFwcGx5IGEgbGluZSBjYWxjdWxhdG9yLlxuICAgICAgICB2YXIgbGNhbGMgPSBuZXcgTGluZUNhbGN1bGF0b3IocWMsIGxpbmUsIG51bGwsIG51bGwpO1xuICAgICAgICAvLyBHZXQgdGhlIFBlcmNlbnQgVmFsdWUgb2YgdGhlIHN1YnNjcmlwdGlvbiwgb3IgMCBpZiBub25lIGV4aXN0cy5cbiAgICAgICAgdmFyIHN1YlBlcmNlbnQgPSBsaW5lLlN1YnNjcmlwdGlvblBlcmNlbnRfX2MgfHwgMDtcbiAgICAgICAgdmFyIHByb2R1Y3RUb3RhbCA9IDA7XG4gICAgICAgIC8vIEZvciBldmVyeSBsaW5lIGNvdmVyZWQgYnkgdGhlIHN1YnNjcmlwdGlvbjpcbiAgICAgICAgcXVvdGUuZ2V0TGluZXNDb3ZlcmVkQnlTdWJzY3JpcHRpb24obGluZSkuZm9yRWFjaChmdW5jdGlvbiAoc3ViTGluZSkge1xuICAgICAgICAgICAgLy8gT24gYW4gQW1lbmRtZW50LCBpZiB5b3UgYXJlIGFkZGluZyBuZXQgTmV3IFBvVCBzdWJzY3JpcHRpb24gcHJpY2VzLCBjYWxjdWxhdGUgdG90YWwgdXNpbmcgZnVsbCBxdWFudGl0aWVzXG4gICAgICAgICAgICBpZiAoc3ViTGluZS5pc0NvdW50ZWRCeUR5bmFtaWNTdWJzY3JpcHRpb24obGluZSkgJiYgbGluZS5wYXJlbnRRdW90ZS5pc0FtZW5kbWVudCAmJiAhbGluZS5FeGlzdGluZ19fYykge1xuICAgICAgICAgICAgICAgIHF0eSA9IChzdWJMaW5lLmlzUHJpY2luZ01ldGhvZEJsb2NrIHx8IHN1YkxpbmUuRGlzY291bnRTY2hlZHVsZVR5cGVfX2MgPT09IFwiU2xhYlwiKSA/IDEgOiBzdWJMaW5lLlF1YW50aXR5X19jO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lLmlzU3Vic2NyaXB0aW9uQmFzZU5ldCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VG90YWwgKz0gc3ViTGluZS5OZXRQcmljZV9fYyAqIHF0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaXNTdWJzY3JpcHRpb25CYXNlQ3VzdG9tZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRvdGFsICs9IHN1YkxpbmUuQ3VzdG9tZXJQcmljZV9fYyAqIHF0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmUuaXNTdWJzY3JpcHRpb25CYXNlUmVndWxhcikge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VG90YWwgKz0gc3ViTGluZS5SZWd1bGFyUHJpY2VfX2MgKiBxdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJMaW5lLkxpc3RQcmljZV9fYyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUb3RhbCArPSBzdWJMaW5lLkxpc3RQcmljZV9fYyAqIHN1YkxpbmUuUXVhbnRpdHlfX2M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE9uIGFuIGFtZW5kbWVudCB0aGF0IGFkZHMgaXRlbSBxdWFudGl0eSwgdXNlIHRoZSByZWxldmFudCBwcm9kdWN0IHRvdGFsXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN1YkxpbmUuaXNDb3VudGVkQnlEeW5hbWljU3Vic2NyaXB0aW9uKGxpbmUpICYmIChsaW5lLmFjdHVhbFF1YW50aXR5ID49IDAgfHwgIWxpbmUucGFyZW50UXVvdGUuaXNBbWVuZG1lbnQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpbmUuaXNTdWJzY3JpcHRpb25CYXNlTmV0ICYmIHN1YkxpbmUubmV0UHJvZHVjdFRvdGFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRvdGFsICs9IHN1YkxpbmUubmV0UHJvZHVjdFRvdGFsO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGluZS5pc1N1YnNjcmlwdGlvbkJhc2VDdXN0b21lciAmJiBzdWJMaW5lLmN1c3RvbWVyUHJvZHVjdFRvdGFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRvdGFsICs9IHN1YkxpbmUuY3VzdG9tZXJQcm9kdWN0VG90YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmlzU3Vic2NyaXB0aW9uQmFzZVJlZ3VsYXIgJiYgc3ViTGluZS5yZWd1bGFyUHJvZHVjdFRvdGFsICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRvdGFsICs9IHN1YkxpbmUucmVndWxhclByb2R1Y3RUb3RhbDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN1YkxpbmUubGlzdFByb2R1Y3RUb3RhbCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUb3RhbCArPSBzdWJMaW5lLmxpc3RQcm9kdWN0VG90YWw7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJNaXNzaW5nIFF1b3RlTGluZT0+bGlzdFByb2R1Y3RUb3RhbC4gTGVhdmluZyBQcm9kdWN0IFRvdGFsIGF0IDAgZm9yIG9wdGlvbiBcIiArIHN1YkxpbmUuUHJvZHVjdE5hbWVfX2MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPbiBhbiBhbWVuZG1lbnQgdGhhdCBkZWNyZWFzZXMgdGhlIHF1YW50aXR5IG9mIGFuIGl0ZW0sIHVzZSB0aGUgcHJpb3IgcXVhbnRpdHkgYW5kIHRoZSByZWxldmFudCBwcmljZVxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdWJMaW5lLmlzQ291bnRlZEJ5RHluYW1pY1N1YnNjcmlwdGlvbihsaW5lKSAmJiBxdW90ZS5pc0FtZW5kbWVudCAmJiBsaW5lLmFjdHVhbFF1YW50aXR5IDwgMCAmJiBzdWJMaW5lLkV4aXN0aW5nX19jKSB7XG4gICAgICAgICAgICAgICAgcXR5ID0gKHN1YkxpbmUuaXNQcmljaW5nTWV0aG9kQmxvY2sgfHwgc3ViTGluZS5EaXNjb3VudFNjaGVkdWxlVHlwZV9fYyA9PT0gXCJTbGFiXCIpXG4gICAgICAgICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICAgICAgICA6IHN1YkxpbmUuUHJpb3JRdWFudGl0eV9fYztcbiAgICAgICAgICAgICAgICBpZiAobGluZS5pc1N1YnNjcmlwdGlvbkJhc2VOZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRvdGFsICs9IHN1YkxpbmUuTmV0UHJpY2VfX2MgKiBxdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmlzU3Vic2NyaXB0aW9uQmFzZUN1c3RvbWVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RUb3RhbCArPSBzdWJMaW5lLkN1c3RvbWVyUHJpY2VfX2MgKiBxdHk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lLmlzU3Vic2NyaXB0aW9uQmFzZVJlZ3VsYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdFRvdGFsICs9IHN1YkxpbmUuUmVndWxhclByaWNlX19jICogcXR5O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3ViTGluZS5MaXN0UHJpY2VfX2MgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0VG90YWwgKz0gc3ViTGluZS5MaXN0UHJpY2VfX2MgKiBzdWJMaW5lLlByaW9yUXVhbnRpdHlfX2M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGluZS5MaXN0UHJpY2VfX2MgPSBwcm9kdWN0VG90YWwgKiAoc3ViUGVyY2VudCAvIDEwMCk7XG4gICAgICAgIHZhciBkeW5hbWljU3ViQ29udHJhY3RlZERpc2NvdW50ID0gbnVsbDtcbiAgICAgICAgaWYgKGxjYWxjLmNvbnRyYWN0ZWRQcmljZUlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIEZvciBkeW5hbWljIHN1YnMgd2l0aCBjb250cmFjdGVkIGRpc2NvdW50LCB0aGUgZGlzY291bnQgaXMgc3RvcmVkIGluIFNwZWNpYWwgUHJpY2VcbiAgICAgICAgICAgIGR5bmFtaWNTdWJDb250cmFjdGVkRGlzY291bnQgPSBsaW5lLlNwZWNpYWxQcmljZV9fYztcbiAgICAgICAgICAgIHZhciBkaXNjb3VudGVkU3ViUGVyY2VudCA9IHN1YlBlcmNlbnQgKiAoMTAwIC0gZHluYW1pY1N1YkNvbnRyYWN0ZWREaXNjb3VudCkgLyAxMDA7XG4gICAgICAgICAgICBsaW5lLlNwZWNpYWxQcmljZV9fYyA9IHByb2R1Y3RUb3RhbCAqIChkaXNjb3VudGVkU3ViUGVyY2VudCAvIDEwMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGNhbGMuY2FsY3VsYXRlKCk7XG4gICAgICAgIGlmIChkeW5hbWljU3ViQ29udHJhY3RlZERpc2NvdW50ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxpbmUuU3BlY2lhbFByaWNlX19jID0gZHluYW1pY1N1YkNvbnRyYWN0ZWREaXNjb3VudDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBDYWxjdWxhdGUgdGhlIHRvdGFscyBmb3IgdGhpcyBxdW90ZSwgYW5kIGFsbCBvZiBpdHMgZ3JvdXBzLlxuICogQHBhcmFtIHtRdW90ZU1vZGVsMn0gcXVvdGUgVGhlIHF1b3RlIHRvIGJlIGNhbGN1bGF0ZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBjYWxjdWxhdGVUb3RhbHMocXVvdGUpIHtcbiAgICAvLyBGb3IgZWFjaCBsaW5lIGluIHRoZSBxdW90ZSwgaW5jcmVtZW50IHRoZSBRdW90ZSB0b3RhbHNcbiAgICBxdW90ZS5saW5lSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSkge1xuICAgICAgICBpZiAoIWxpbmUuT3B0aW9uYWxfX2MpIHtcbiAgICAgICAgICAgIHF1b3RlLm5ldFRvdGFsICs9IGxpbmUubmV0VG90YWw7XG4gICAgICAgICAgICBxdW90ZS5jdXN0b21lclRvdGFsICs9IGxpbmUuY3VzdG9tZXJUb3RhbDtcbiAgICAgICAgICAgIHF1b3RlLmxpc3RUb3RhbCArPSBsaW5lLmxpc3RUb3RhbDtcbiAgICAgICAgICAgIHF1b3RlLnBhcnRuZXJUb3RhbCArPSBsaW5lLnBhcnRuZXJUb3RhbDtcbiAgICAgICAgICAgIHF1b3RlLnJlZ3VsYXJUb3RhbCArPSBsaW5lLnJlZ3VsYXJUb3RhbDtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgbGluZSBoYXMgYSBwYXJlbnQgZ3JvdXAsIGluY3JlbWVudCB0aGUgZ3JvdXAgdG90YWxzXG4gICAgICAgIGlmIChsaW5lLnBhcmVudEdyb3VwICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghbGluZS5PcHRpb25hbF9fYyB8fCBsaW5lLnBhcmVudEdyb3VwLk9wdGlvbmFsX19jKSB7XG4gICAgICAgICAgICAgICAgbGluZS5wYXJlbnRHcm91cC5MaXN0VG90YWxfX2MgPSBsaW5lLnBhcmVudEdyb3VwLkxpc3RUb3RhbF9fYyArIGxpbmUubGlzdFRvdGFsO1xuICAgICAgICAgICAgICAgIGxpbmUucGFyZW50R3JvdXAuQ3VzdG9tZXJUb3RhbF9fYyA9IGxpbmUucGFyZW50R3JvdXAuQ3VzdG9tZXJUb3RhbF9fYyArIGxpbmUuY3VzdG9tZXJUb3RhbDtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudEdyb3VwLk5ldFRvdGFsX19jID0gbGluZS5wYXJlbnRHcm91cC5OZXRUb3RhbF9fYyArIGxpbmUubmV0VG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBMYXN0bHksIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgdGhlIHF1b3RlIHRvdGFscywgYW5kIGFsbCBncm91cCB0b3RhbHMsIGFyZSB0cnVuY2F0ZWQgdG8gdGhlIHByb3BlclxuICAgIC8vIG51bWJlciBvZiBkZWNpbWFsc1xuICAgIHF1b3RlLm5ldFRvdGFsID0gTnVtYmVyVXRpbHMuc2V0U2NhbGUocXVvdGUubmV0VG90YWwsIDIpO1xuICAgIHF1b3RlLmN1c3RvbWVyVG90YWwgPSBOdW1iZXJVdGlscy5zZXRTY2FsZShxdW90ZS5jdXN0b21lclRvdGFsLCAyKTtcbiAgICBxdW90ZS5saXN0VG90YWwgPSBOdW1iZXJVdGlscy5zZXRTY2FsZShxdW90ZS5saXN0VG90YWwsIDIpO1xuICAgIHF1b3RlLnJlZ3VsYXJUb3RhbCA9IE51bWJlclV0aWxzLnNldFNjYWxlKHF1b3RlLnJlZ3VsYXJUb3RhbCwgMik7XG4gICAgcXVvdGUucmVjb3JkW1NldHRpbmdzVXRpbHMuZ2V0UHJlZml4KCkgKyBcIk5ldEFtb3VudF9fY1wiXSA9IHF1b3RlLm5ldFRvdGFsO1xuICAgIHF1b3RlLnJlY29yZFtTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgXCJMaXN0QW1vdW50X19jXCJdID0gcXVvdGUubGlzdFRvdGFsO1xuICAgIHF1b3RlLnJlY29yZFtTZXR0aW5nc1V0aWxzLmdldFByZWZpeCgpICsgXCJDdXN0b21lckFtb3VudF9fY1wiXSA9IHF1b3RlLmN1c3RvbWVyVG90YWw7XG4gICAgcXVvdGUucmVjb3JkW1NldHRpbmdzVXRpbHMuZ2V0UHJlZml4KCkgKyBcIlJlZ3VsYXJBbW91bnRfX2NcIl0gPSBxdW90ZS5yZWd1bGFyVG90YWw7XG4gICAgcXVvdGUucmVjb3JkW1NldHRpbmdzVXRpbHMuZ2V0UHJlZml4KCkgKyBcIkxpbmVJdGVtQ291bnRfX2NcIl0gPSBxdW90ZS5saW5lSXRlbXMubGVuZ3RoO1xuXG4gICAgcXVvdGUuZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24oZ3JvdXApIHtcbiAgICAgICAgZ3JvdXAuTGlzdFRvdGFsX19jID0gTnVtYmVyVXRpbHMuc2V0U2NhbGUoZ3JvdXAuTGlzdFRvdGFsX19jLCAyKTtcbiAgICAgICAgZ3JvdXAuQ3VzdG9tZXJUb3RhbF9fYyA9IE51bWJlclV0aWxzLnNldFNjYWxlKGdyb3VwLkN1c3RvbWVyVG90YWxfX2MsIDIpO1xuICAgICAgICBncm91cC5OZXRUb3RhbF9fYyA9IE51bWJlclV0aWxzLnNldFNjYWxlKGdyb3VwLk5ldFRvdGFsX19jLCAyKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBGb3IgYWxsIGxpbmVzIHdpdGggY29tcG9uZW50cywgcm9sbHMgdXAgdGhlIHRvdGFscyBzdWNoIHRoYXQgcGFyZW50cyBpbmNsdWRlIHRoZSBjb3N0IG9mIHRoZWlyIGNoaWxkcmVuLlxuICogQHBhcmFtIHtRdW90ZU1vZGVsMn0gcXVvdGUgVGhlIHF1b3RlIHdob3NlIGxpbmUgaXRlbXMgc2hvdWxkIGJlIHByb2Nlc3NlZC5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJvbGx1cENvbXBvbmVudHMocXVvdGUpIHtcbiAgICBxdW90ZS5saW5lSXRlbXMuZm9yRWFjaChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIC8vIElmIHRoZSBsaW5lIGhhcyBjb21wb25lbnRzLCBzZXQgaXRzIGNvbXBvbmVudCB0b3RhbHMgdG8gMCwgYW5kIGNhbGwgcm9sbHVwTGluZVxuICAgICAgICB2YXIgcGtnID0gbGluZS5oYXNDb21wb25lbnRzO1xuICAgICAgICBsaW5lLkNvbXBvbmVudFRvdGFsX19jID0gcGtnID8gMCA6IG51bGw7XG4gICAgICAgIGxpbmUuQ29tcG9uZW50TGlzdFRvdGFsX19jID0gcGtnID8gMCA6IG51bGw7XG4gICAgICAgIGxpbmUuQ29tcG9uZW50Q29zdF9fYyA9IHBrZyA/IDAgOiBudWxsO1xuICAgICAgICBpZiAocGtnKSB7XG4gICAgICAgICAgICByb2xsdXBMaW5lKGxpbmUpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogRm9yIGEgc2luZ2xlIGxpbmUgd2l0aCBjb21wb25lbnRzLCBjYWxjdWxhdGVzIHRoZSBjb21wb25lbnQgdG90YWxzLCB3aXRoIGEgcmVjdXJzaXZlIGNhbGwgaWYgbmVlZGVkXG4gKiBAcGFyYW0ge1F1b3RlTGluZU1vZGVsfSBwYXJlbnQgVGhlIGxpbmUgd2hvc2UgY29tcG9uZW50cyBzaG91bGQgYmUgcHJvY2Vzc2VkLlxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcm9sbHVwTGluZShwYXJlbnQpIHtcbiAgICB2YXIgbmV0VG90YWwgPSAwO1xuICAgIHZhciBsaXN0VG90YWwgPSAwO1xuICAgIHZhciBjb3N0ID0gMDtcbiAgICBwYXJlbnQuY29tcG9uZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgaWYgKCFsaW5lLk9wdGlvbmFsX19jIHx8IGxpbmUucGFyZW50R3JvdXAgIT0gbnVsbCAmJiBsaW5lLnBhcmVudEdyb3VwLk9wdGlvbmFsX19jKSB7XG4gICAgICAgICAgICBuZXRUb3RhbCArPSBsaW5lLm5ldFRvdGFsO1xuICAgICAgICAgICAgbGlzdFRvdGFsICs9IGxpbmUubGlzdFRvdGFsO1xuICAgICAgICAgICAgY29zdCArPSAobGluZS5RdWFudGl0eV9fYyB8fCAwKSAqIChsaW5lLlVuaXRDb3N0X19jIHx8IDApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsaW5lLmhhc0NvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIHJvbGx1cExpbmUobGluZSk7XG4gICAgICAgICAgICBuZXRUb3RhbCArPSBsaW5lLkNvbXBvbmVudFRvdGFsX19jO1xuICAgICAgICAgICAgbGlzdFRvdGFsICs9IGxpbmUuQ29tcG9uZW50TGlzdFRvdGFsX19jO1xuICAgICAgICAgICAgY29zdCArPSBsaW5lLkNvbXBvbmVudENvc3RfX2M7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIHBhcmVudC5Db21wb25lbnRUb3RhbF9fYyA9IG5ldFRvdGFsO1xuICAgIHBhcmVudC5Db21wb25lbnRMaXN0VG90YWxfX2MgPSBsaXN0VG90YWw7XG4gICAgcGFyZW50LkNvbXBvbmVudENvc3RfX2MgPSBjb3N0O1xufVxuXG4vKipcbiAqIENoZWNrIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgcGx1Z2luIG9uSW5pdCBtZXRob2QgYW5kIGV4ZWN1dGUgaXQgaWYgaXQgZXhpc3RzXG4gKiBAcGFyYW0ge1F1b3RlQ2FsY3VsYXRvcn0gcWMgVGhlIHF1b3RlIGNhbGN1bGF0b3IgY2FsbGluZyB0aGlzIG1ldGhvZFxuICogQHBhcmFtIHtPYmplY3R9IHBsdWdpbiBUaGUgcGx1Z2luIGJlaW5nIGV4ZWN1dGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgb25jZSB0aGUgcGx1Z2luJ3MgbWV0aG9kIGhhcyBmaW5pc2hlZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZVBsdWdpbk9uSW5pdChxYywgcGx1Z2luKSB7XG4gICAgaWYgKHBsdWdpbiAmJiAodHlwZW9mIHBsdWdpbi5vbkluaXQgPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIHBsdWdpbi5vbkluaXQocWMucXVvdGUubGluZUl0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENoZWNrIGZvciB0aGUgZXhpc3RlbmNlIG9mIGEgSlNRQ1Agb25CZWZvcmVDYWxjdWxhdGUgbWV0aG9kIGFuZCBleGVjdXRlIGl0IGlmIGl0IGV4aXN0c1xuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGNhbGxpbmcgdGhpcyBtZXRob2RcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gVGhlIHBsdWdpbiBiZWluZyBleGVjdXRlZFxuICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIG9uY2UgdGhlIHBsdWdpbidzIG1ldGhvZCBoYXMgZmluaXNoZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVQbHVnaW5PbkJlZm9yZUNhbGN1bGF0ZShxYywgcGx1Z2luKSB7XG4gICAgaWYgKHBsdWdpbiAmJiAodHlwZW9mIHBsdWdpbi5vbkJlZm9yZUNhbGN1bGF0ZSA9PSAnZnVuY3Rpb24nKSkge1xuICAgICAgICByZXR1cm4gcGx1Z2luLm9uQmVmb3JlQ2FsY3VsYXRlKHFjLnF1b3RlLCBxYy5xdW90ZS5saW5lSXRlbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ2hlY2sgZm9yIHRoZSBleGlzdGVuY2Ugb2YgYSBKU1FDUCBvbkJlZm9yZVByaWNlUnVsZXMgbWV0aG9kIGFuZCBleGVjdXRlIGl0IGlmIGl0IGV4aXN0c1xuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGNhbGxpbmcgdGhpcyBtZXRob2RcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gVGhlIHBsdWdpbiBiZWluZyBleGVjdXRlZFxuICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIG9uY2UgdGhlIHBsdWdpbidzIG1ldGhvZCBoYXMgZmluaXNoZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVQbHVnaW5PbkJlZm9yZVByaWNlUnVsZXMocWMsIHBsdWdpbikge1xuICAgIGlmIChwbHVnaW4gJiYgKHR5cGVvZiBwbHVnaW4ub25CZWZvcmVQcmljZVJ1bGVzID09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW4ub25CZWZvcmVQcmljZVJ1bGVzKHFjLnF1b3RlLCBxYy5xdW90ZS5saW5lSXRlbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ2hlY2sgZm9yIHRoZSBleGlzdGVuY2Ugb2YgYSBKU1FDUCBvbkFmdGVyUHJpY2VSdWxlcyBtZXRob2QgYW5kIGV4ZWN1dGUgaXQgaWYgaXQgZXhpc3RzXG4gKiBAcGFyYW0ge1F1b3RlQ2FsY3VsYXRvcn0gcWMgVGhlIHF1b3RlIGNhbGN1bGF0b3IgY2FsbGluZyB0aGlzIG1ldGhvZFxuICogQHBhcmFtIHtPYmplY3R9IHBsdWdpbiBUaGUgcGx1Z2luIGJlaW5nIGV4ZWN1dGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gUmVzb2x2ZXMgb25jZSB0aGUgcGx1Z2luJ3MgbWV0aG9kIGhhcyBmaW5pc2hlZFxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZXhlY3V0ZVBsdWdpbk9uQWZ0ZXJQcmljZVJ1bGVzKHFjLCBwbHVnaW4pIHtcbiAgICBpZiAocGx1Z2luICYmICh0eXBlb2YgcGx1Z2luLm9uQWZ0ZXJQcmljZVJ1bGVzID09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHJldHVybiBwbHVnaW4ub25BZnRlclByaWNlUnVsZXMocWMucXVvdGUsIHFjLnF1b3RlLmxpbmVJdGVtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDaGVjayBmb3IgdGhlIGV4aXN0ZW5jZSBvZiBhIEpTUUNQIG9uQWZ0ZXJDYWxjdWxhdGUgbWV0aG9kIGFuZCBleGVjdXRlIGl0IGlmIGl0IGV4aXN0c1xuICogQHBhcmFtIHtRdW90ZUNhbGN1bGF0b3J9IHFjIFRoZSBxdW90ZSBjYWxjdWxhdG9yIGNhbGxpbmcgdGhpcyBtZXRob2RcbiAqIEBwYXJhbSB7T2JqZWN0fSBwbHVnaW4gVGhlIHBsdWdpbiBiZWluZyBleGVjdXRlZFxuICogQHJldHVybnMge1Byb21pc2V9IFJlc29sdmVzIG9uY2UgdGhlIHBsdWdpbidzIG1ldGhvZCBoYXMgZmluaXNoZWRcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV4ZWN1dGVQbHVnaW5PbkFmdGVyQ2FsY3VsYXRlKHFjLCBwbHVnaW4pIHtcbiAgICBpZiAocGx1Z2luICYmICh0eXBlb2YgcGx1Z2luLm9uQWZ0ZXJDYWxjdWxhdGUgPT0gJ2Z1bmN0aW9uJykpIHtcbiAgICAgICAgcmV0dXJuIHBsdWdpbi5vbkFmdGVyQ2FsY3VsYXRlKHFjLnF1b3RlLCBxYy5xdW90ZS5saW5lSXRlbXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5cblxuLy8gPT09PT0gVEVTVElORyBNRVRIT0RTIFBBU1QgVEhJUyBQT0lOVCA9PT09XG5cbi8qKlxuICogTWV0aG9kIGZvciB0ZXN0aW5nIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHJlc2V0VG90YWxzKClcbiAqIEBwcml2YXRlXG4gKi9cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUucmVzZXRUb3RhbHNUZXN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcmVzZXRUb3RhbHModGhpcy5xdW90ZSk7XG59O1xuXG4vKipcbiAqIE1ldGhvZCBmb3IgdGVzdGluZyB0aGUgZnVuY3Rpb25hbGl0eSBvZiBjYWxjdWxhdGVRdWFudGl0aWVzKClcbiAqIEBwcml2YXRlXG4gKi9cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUuY2FsY3VsYXRlUXVhbnRpdGllc1Rlc3QgPSBmdW5jdGlvbigpIHtcbiAgICBjYWxjdWxhdGVRdWFudGl0aWVzKHRoaXMucXVvdGUsIHRoaXMpO1xufTtcblxuLyoqXG4gKiBNZXRob2QgZm9yIHRlc3RpbmcgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgY2FsY3VsYXRlVG90YWxzKClcbiAqIEBwcml2YXRlXG4gKi9cblF1b3RlQ2FsY3VsYXRvci5wcm90b3R5cGUuY2FsY3VsYXRlVG90YWxzVGVzdCA9IGZ1bmN0aW9uKCkge1xuICAgIGNhbGN1bGF0ZVRvdGFscyh0aGlzLnF1b3RlKTtcbn07XG5cbi8qKlxuICogTWV0aG9kIGZvciB0ZXN0aW5nIHRoZSBmdW5jdGlvbmFsaXR5IG9mIHJvbGx1cENvbXBvbmVudHMoKVxuICogQHByaXZhdGVcbiAqL1xuUXVvdGVDYWxjdWxhdG9yLnByb3RvdHlwZS5yb2xsdXBDb21wb25lbnRzVGVzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJvbGx1cENvbXBvbmVudHModGhpcy5xdW90ZSk7XG59O1xuIl19
'use strict';

System.register('common/Util.js', [], function (_export, _context) {
	var _createClass, Util;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('Util', Util = function () {
				function Util() {
					_classCallCheck(this, Util);
				}

				_createClass(Util, null, [{
					key: 'pad',
					value: function pad(n, width, z) {
						z = z || '0';
						n = n + '';
						return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
					}
				}, {
					key: 'toIsoDate',
					value: function toIsoDate(d) {
						d = typeof d === 'number' ? new Date(d) : d;
						return d.getUTCFullYear() + '-' + Util.pad(d.getUTCMonth() + 1, 2) + '-' + Util.pad(d.getUTCDate(), 2) + 'T' + Util.pad(d.getUTCHours(), 2) + ':' + Util.pad(d.getUTCMinutes(), 2) + ':' + Util.pad(d.getUTCSeconds(), 2) + 'Z';
					}
				}]);

				return Util;
			}());

			_export('Util', Util);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJVdGlsLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/common.js', ['common/core/sb-i18n/I18n.js', 'common/core/sb-loading-spinner/LoadingSpinner.js', 'common/core/sb-page-container/PageContainer.js', 'common/core/sb-page-header/PageHeader.js', 'common/entities/sb-entity-field/EntityField.js', 'common/data/sb-service/Service.js', 'common/forms/sb-typeahead/Typeahead.js', 'common/forms/sb-datepicker/Datepicker.js', 'common/services/sb-line-editor-read/LineEditorReader.js'], function (_export, _context) {
  return {
    setters: [function (_commonCoreSbI18nI18nJs) {}, function (_commonCoreSbLoadingSpinnerLoadingSpinnerJs) {}, function (_commonCoreSbPageContainerPageContainerJs) {}, function (_commonCoreSbPageHeaderPageHeaderJs) {}, function (_commonEntitiesSbEntityFieldEntityFieldJs) {}, function (_commonDataSbServiceServiceJs) {}, function (_commonFormsSbTypeaheadTypeaheadJs) {}, function (_commonFormsSbDatepickerDatepickerJs) {}, function (_commonServicesSbLineEditorReadLineEditorReaderJs) {}],
    execute: function () {}
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb21tb24uanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('common/common.routes.js', [], function (_export, _context) {
	var PREFIX, ROUTES;
	return {
		setters: [],
		execute: function () {
			_export('PREFIX', PREFIX = '/entities');

			_export('PREFIX', PREFIX);

			_export('ROUTES', ROUTES = {
				'/:type': {
					comp: 'sb-entity-list',
					mod: 'common/entities/sb-entity-list/EntityList.js'
				},
				'/:type/new': {
					comp: 'sb-entity-detail',
					mod: 'common/entities/sb-entity-detail/EntityDetail.js'
				},
				'/:type/detail': {
					comp: 'sb-entity-detail',
					mod: 'common/entities/sb-entity-detail/EntityDetail.js'
				}
			});

			_export('ROUTES', ROUTES);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb21tb24ucm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('docgen/docgen.routes.js', [], function (_export, _context) {
	var PREFIX, ROUTES;
	return {
		setters: [],
		execute: function () {
			_export('PREFIX', PREFIX = '/docgen');

			_export('PREFIX', PREFIX);

			_export('ROUTES', ROUTES = {
				'/preview': {
					comp: 'sb-docgen-preview',
					mod: 'docgen/sb-docgen-preview/DocgenPreview.js'
				}
			});

			_export('ROUTES', ROUTES);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkb2NnZW4ucm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
"use strict";

System.register("products/ConfigViewModel.js", [], function (_export, _context) {
    var _createClass, ConfigViewModel;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export("ConfigViewModel", ConfigViewModel = function () {
                function ConfigViewModel(quote, product, prefix) {
                    _classCallCheck(this, ConfigViewModel);

                    this.quote = quote;
                    this.product = product;
                    this.prefix = prefix === undefined ? "" : prefix + "__";
                }

                _createClass(ConfigViewModel, [{
                    key: "getFeature",
                    value: function getFeature(featureId) {
                        return this.product.features.find(function (feature) {
                            return feature.record.Id === featureId;
                        });
                    }
                }, {
                    key: "getOption",
                    value: function getOption(optionId) {
                        return this.product.options.find(function (option) {
                            return option.record.Id === optionId;
                        });
                    }
                }, {
                    key: "getConfigFieldSet",
                    value: function getConfigFieldSet() {
                        return this.product.productFieldSets.ConfiguratorLookup;
                    }
                }, {
                    key: "getOptionsByFeatureId",
                    value: function getOptionsByFeatureId(featureId, initializeAttributes) {
                        var _this = this;

                        var fieldLabel = this.prefix + 'Feature__c';
                        return this.product.options.filter(function (option) {
                            if (initializeAttributes) {
                                _this.initializeAttributes(option);
                            }

                            ;
                            return option.record[fieldLabel] === featureId;
                        });
                    }
                }, {
                    key: "selectionMethodIs",
                    value: function selectionMethodIs(method, feature) {
                        var featureMethod = feature.record.SBQQ__OptionSelectionMethod__c;

                        if (featureMethod) {
                            return featureMethod === method;
                        } else {
                            return this.product.record.SBQQ__OptionSelectionMethod__c === method;
                        }
                    }
                }, {
                    key: "initializeAttributes",
                    value: function initializeAttributes(option) {
                        option.record.attributes.fieldValues = [];
                        this.product.optionFieldSets.OptionLookup.forEach(function (fieldLabel) {
                            option.record.attributes.fieldValues.push(option.record[fieldLabel]);
                        });
                        return option;
                    }
                }]);

                return ConfigViewModel;
            }());

            _export("ConfigViewModel", ConfigViewModel);

            ;
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJDb25maWdWaWV3TW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6W119
"use strict";

System.register("products/mockConfig.js", [], function (_export, _context) {
	return {
		setters: [],
		execute: function () {
			[{
				"virtualFeatureTitle": "Other Options",
				"upgradedAssetId": null,
				"upgradeableAssets": [],
				"relatedContent": null,
				"record": {
					"attributes": {
						"type": "Product2",
						"url": "/services/data/v35.0/sobjects/Product2/01tA0000004fSeUIAU"
					},
					"Id": "01tA0000004fSeUIAU",
					"Name": "Configurator Mockup Parent",
					"ProductCode": "CMP",
					"SBQQ__PriceEditable__c": false,
					"SBQQ__DefaultQuantity__c": 1,
					"SBQQ__QuantityEditable__c": true,
					"SBQQ__CostEditable__c": false,
					"SBQQ__NonDiscountable__c": false,
					"SBQQ__NonPartnerDiscountable__c": false,
					"SBQQ__SubscriptionBase__c": "List",
					"SBQQ__PricingMethod__c": "List",
					"SBQQ__PricingMethodEditable__c": false,
					"SBQQ__OptionSelectionMethod__c": "Click",
					"SBQQ__ConfigurationType__c": "Required",
					"SBQQ__Optional__c": false,
					"SBQQ__Taxable__c": false,
					"SBQQ__CustomConfigurationRequired__c": false,
					"SBQQ__Hidden__c": false,
					"SBQQ__ReconfigurationDisabled__c": false,
					"SBQQ__ExcludeFromOpportunity__c": false,
					"SBQQ__DescriptionLocked__c": false,
					"SBQQ__ConfigurationEvent__c": "Always",
					"SBQQ__ExcludeFromMaintenance__c": false,
					"SBQQ__IncludeInMaintenance__c": false,
					"SBQQ__NewQuoteGroup__c": false,
					"SBQQ__SubscriptionType__c": "Renewable",
					"SBQQ__AssetConversion__c": "One per quote line",
					"SBQQ__BlockPricingField__c": "Quantity",
					"SBQQ__HasConfigurationAttributes__c": false,
					"SBQQ__LargeBundle__c": false,
					"SBQQ__Features__r": {
						"totalSize": 2,
						"done": true,
						"records": [{
							"attributes": {
								"type": "SBQQ__ProductFeature__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductFeature__c/a0OA000000JJqu2MAD"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0OA000000JJqu2MAD",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "First Feature",
							"CreatedDate": "2016-01-22T22:10:26.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:19:47.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:19:47.000+0000",
							"SBQQ__MaxOptionCount__c": 1,
							"SBQQ__MinOptionCount__c": 1,
							"SBQQ__Number__c": 10,
							"SBQQ__ConfigurationFieldSet__c": "FirstFeatureFieldset",
							"SBQQ__OptionSelectionMethod__c": "Click"
						}, {
							"attributes": {
								"type": "SBQQ__ProductFeature__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductFeature__c/a0OA000000JJqu7MAD"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0OA000000JJqu7MAD",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "Second Feature",
							"CreatedDate": "2016-01-22T22:10:57.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:10:57.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:10:57.000+0000",
							"SBQQ__MinOptionCount__c": 0,
							"SBQQ__Number__c": 20,
							"SBQQ__OptionSelectionMethod__c": "Click"
						}]
					},
					"SBQQ__Options__r": {
						"totalSize": 6,
						"done": true,
						"records": [{
							"attributes": {
								"type": "SBQQ__ProductOption__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnsMAB"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0PA000000EgnnsMAB",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "PO-000927",
							"CreatedDate": "2016-01-22T22:13:28.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:13:28.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:13:28.000+0000",
							"SBQQ__AppliedImmediately__c": false,
							"SBQQ__Bundled__c": false,
							"SBQQ__DiscountedByPackage__c": false,
							"SBQQ__Number__c": 50,
							"SBQQ__OptionalSKU__c": "01tA0000004fSetIAE",
							"SBQQ__PriceEditable__c": "No",
							"SBQQ__ProductCode__c": "CMC-5",
							"SBQQ__ProductName__c": "Configurator Mockup Child 5",
							"SBQQ__QuantityEditable__c": false,
							"SBQQ__Required__c": false,
							"SBQQ__Selected__c": false,
							"SBQQ__System__c": false,
							"SBQQ__Type__c": "Component",
							"SBQQ__UpliftedByPackage__c": false,
							"SBQQ__UnitPrice__c": 188
						}, {
							"attributes": {
								"type": "SBQQ__ProductOption__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnxMAB"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0PA000000EgnnxMAB",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "PO-000928",
							"CreatedDate": "2016-01-22T22:13:41.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:13:41.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:13:41.000+0000",
							"SBQQ__AppliedImmediately__c": false,
							"SBQQ__Bundled__c": false,
							"SBQQ__DiscountedByPackage__c": false,
							"SBQQ__Number__c": 60,
							"SBQQ__OptionalSKU__c": "01tA0000004fSeyIAE",
							"SBQQ__PriceEditable__c": "No",
							"SBQQ__ProductCode__c": "CMC-6",
							"SBQQ__ProductName__c": "Configurator Mockup Child 6",
							"SBQQ__QuantityEditable__c": false,
							"SBQQ__Required__c": false,
							"SBQQ__Selected__c": true,
							"SBQQ__System__c": false,
							"SBQQ__Type__c": "Component",
							"SBQQ__UpliftedByPackage__c": false,
							"SBQQ__UnitPrice__c": 200
						}, {
							"attributes": {
								"type": "SBQQ__ProductOption__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnOMAR"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0PA000000EgnnOMAR",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "PO-000923",
							"CreatedDate": "2016-01-22T22:12:09.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:12:09.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:12:10.000+0000",
							"SBQQ__AppliedImmediately__c": false,
							"SBQQ__Bundled__c": false,
							"SBQQ__DiscountedByPackage__c": false,
							"SBQQ__Feature__c": "a0OA000000JJqu2MAD",
							"SBQQ__Number__c": 10,
							"SBQQ__OptionalSKU__c": "01tA0000004fSeZIAU",
							"SBQQ__PriceEditable__c": "No",
							"SBQQ__ProductCode__c": "CMC-1",
							"SBQQ__ProductName__c": "Configurator Mockup Child 1",
							"SBQQ__QuantityEditable__c": true,
							"SBQQ__Quantity__c": 5,
							"SBQQ__Required__c": false,
							"SBQQ__Selected__c": true,
							"SBQQ__System__c": false,
							"SBQQ__Type__c": "Component",
							"SBQQ__UnitPrice__c": 220,
							"SBQQ__UpliftedByPackage__c": false
						}, {
							"attributes": {
								"type": "SBQQ__ProductOption__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnYMAR"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0PA000000EgnnYMAR",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "PO-000924",
							"CreatedDate": "2016-01-22T22:12:36.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:12:36.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:12:36.000+0000",
							"SBQQ__AppliedImmediately__c": false,
							"SBQQ__Bundled__c": false,
							"SBQQ__DiscountedByPackage__c": false,
							"SBQQ__Feature__c": "a0OA000000JJqu2MAD",
							"SBQQ__Number__c": 20,
							"SBQQ__OptionalSKU__c": "01tA0000004fSeeIAE",
							"SBQQ__PriceEditable__c": "No",
							"SBQQ__ProductCode__c": "CMC-2",
							"SBQQ__ProductName__c": "Configurator Mockup Child 2",
							"SBQQ__QuantityEditable__c": false,
							"SBQQ__Required__c": false,
							"SBQQ__Selected__c": false,
							"SBQQ__System__c": false,
							"SBQQ__Type__c": "Component",
							"SBQQ__UpliftedByPackage__c": false,
							"SBQQ__UnitPrice__c": 400
						}, {
							"attributes": {
								"type": "SBQQ__ProductOption__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnndMAB"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0PA000000EgnndMAB",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "PO-000925",
							"CreatedDate": "2016-01-22T22:13:00.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:13:00.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:13:00.000+0000",
							"SBQQ__AppliedImmediately__c": false,
							"SBQQ__Bundled__c": false,
							"SBQQ__DiscountedByPackage__c": false,
							"SBQQ__Feature__c": "a0OA000000JJqu7MAD",
							"SBQQ__Number__c": 30,
							"SBQQ__OptionalSKU__c": "01tA0000004fSejIAE",
							"SBQQ__PriceEditable__c": "No",
							"SBQQ__ProductCode__c": "CMC-3",
							"SBQQ__ProductName__c": "Configurator Mockup Child 3",
							"SBQQ__QuantityEditable__c": false,
							"SBQQ__Quantity__c": 15,
							"SBQQ__Required__c": false,
							"SBQQ__Selected__c": false,
							"SBQQ__System__c": false,
							"SBQQ__Type__c": "Component",
							"SBQQ__UpliftedByPackage__c": false,
							"SBQQ__UnitPrice__c": 150
						}, {
							"attributes": {
								"type": "SBQQ__ProductOption__c",
								"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnnMAB"
							},
							"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
							"Id": "a0PA000000EgnnnMAB",
							"OwnerId": "005A0000006CzweIAC",
							"IsDeleted": false,
							"Name": "PO-000926",
							"CreatedDate": "2016-01-22T22:13:19.000+0000",
							"CreatedById": "005A0000006CzweIAC",
							"LastModifiedDate": "2016-01-22T22:13:19.000+0000",
							"LastModifiedById": "005A0000006CzweIAC",
							"SystemModstamp": "2016-01-22T22:13:19.000+0000",
							"SBQQ__AppliedImmediately__c": false,
							"SBQQ__Bundled__c": false,
							"SBQQ__DiscountedByPackage__c": false,
							"SBQQ__Feature__c": "a0OA000000JJqu7MAD",
							"SBQQ__Number__c": 40,
							"SBQQ__OptionalSKU__c": "01tA0000004fSeoIAE",
							"SBQQ__PriceEditable__c": "No",
							"SBQQ__ProductCode__c": "CMC-4",
							"SBQQ__ProductName__c": "Configurator Mockup Child 4",
							"SBQQ__QuantityEditable__c": false,
							"SBQQ__Required__c": false,
							"SBQQ__Selected__c": false,
							"SBQQ__System__c": false,
							"SBQQ__Type__c": "Component",
							"SBQQ__UpliftedByPackage__c": false,
							"SBQQ__UnitPrice__c": 600
						}]
					},
					"PricebookEntries": {
						"totalSize": 1,
						"done": true,
						"records": [{
							"attributes": {
								"type": "PricebookEntry",
								"url": "/services/data/v35.0/sobjects/PricebookEntry/01uA0000009BCFAIA4"
							},
							"Product2Id": "01tA0000004fSeUIAU",
							"Id": "01uA0000009BCFAIA4",
							"Pricebook2Id": "01sA0000000gz8MIAQ",
							"UnitPrice": 300,
							"IsActive": true
						}]
					}
				},
				"productFieldSets": {
					"ConfiguratorFilter": ["ProductCode", "Name", "Family"],
					"ConfiguratorLookup": ["ProductCode", "Name", "Description"]
				},
				"optionSearchFilterFieldNames": null,
				"options": [{
					"record": {
						"attributes": {
							"type": "SBQQ__ProductOption__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnsMAB"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0PA000000EgnnsMAB",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "PO-000927",
						"CreatedDate": "2016-01-22T22:13:28.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:13:28.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:13:28.000+0000",
						"SBQQ__AppliedImmediately__c": false,
						"SBQQ__Bundled__c": false,
						"SBQQ__DiscountedByPackage__c": false,
						"SBQQ__Number__c": 50,
						"SBQQ__OptionalSKU__c": "01tA0000004fSetIAE",
						"SBQQ__PriceEditable__c": "No",
						"SBQQ__ProductCode__c": "CMC-5",
						"SBQQ__ProductName__c": "Configurator Mockup Child 5",
						"SBQQ__QuantityEditable__c": false,
						"SBQQ__Required__c": false,
						"SBQQ__Selected__c": false,
						"SBQQ__System__c": false,
						"SBQQ__Type__c": "Component",
						"SBQQ__UpliftedByPackage__c": false,
						"SBQQ__UnitPrice__c": 188
					},
					"quantityEditable": true,
					"productQuantityScale": null,
					"priorOptionExists": null,
					"priceEditable": false,
					"localizationByFieldName": {},
					"externalConfigurationData": null,
					"exclusionGroups": {},
					"dependentIds": [],
					"controllingGroups": {},
					"configurationRequired": false,
					"configurable": false
				}, {
					"record": {
						"attributes": {
							"type": "SBQQ__ProductOption__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnxMAB"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0PA000000EgnnxMAB",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "PO-000928",
						"CreatedDate": "2016-01-22T22:13:41.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:13:41.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:13:41.000+0000",
						"SBQQ__AppliedImmediately__c": false,
						"SBQQ__Bundled__c": false,
						"SBQQ__DiscountedByPackage__c": false,
						"SBQQ__Number__c": 60,
						"SBQQ__OptionalSKU__c": "01tA0000004fSeyIAE",
						"SBQQ__PriceEditable__c": "No",
						"SBQQ__ProductCode__c": "CMC-6",
						"SBQQ__ProductName__c": "Configurator Mockup Child 6",
						"SBQQ__QuantityEditable__c": false,
						"SBQQ__Required__c": false,
						"SBQQ__Selected__c": true,
						"SBQQ__System__c": false,
						"SBQQ__Type__c": "Component",
						"SBQQ__UpliftedByPackage__c": false,
						"SBQQ__UnitPrice__c": 200
					},
					"quantityEditable": true,
					"productQuantityScale": null,
					"priorOptionExists": null,
					"priceEditable": false,
					"localizationByFieldName": {},
					"externalConfigurationData": null,
					"exclusionGroups": {},
					"dependentIds": [],
					"controllingGroups": {},
					"configurationRequired": false,
					"configurable": false
				}, {
					"record": {
						"attributes": {
							"type": "SBQQ__ProductOption__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnOMAR"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0PA000000EgnnOMAR",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "PO-000923",
						"CreatedDate": "2016-01-22T22:12:09.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:12:09.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:12:10.000+0000",
						"SBQQ__AppliedImmediately__c": false,
						"SBQQ__Bundled__c": false,
						"SBQQ__DiscountedByPackage__c": false,
						"SBQQ__Feature__c": "a0OA000000JJqu2MAD",
						"SBQQ__Number__c": 10,
						"SBQQ__OptionalSKU__c": "01tA0000004fSeZIAU",
						"SBQQ__PriceEditable__c": "No",
						"SBQQ__ProductCode__c": "CMC-1",
						"SBQQ__ProductName__c": "Configurator Mockup Child 1",
						"SBQQ__QuantityEditable__c": true,
						"SBQQ__Quantity__c": 5,
						"SBQQ__Required__c": false,
						"SBQQ__Selected__c": true,
						"SBQQ__System__c": false,
						"SBQQ__Type__c": "Component",
						"SBQQ__UnitPrice__c": 220,
						"SBQQ__UpliftedByPackage__c": false
					},
					"quantityEditable": false,
					"productQuantityScale": null,
					"priorOptionExists": null,
					"priceEditable": false,
					"localizationByFieldName": {},
					"externalConfigurationData": null,
					"exclusionGroups": {},
					"dependentIds": [],
					"controllingGroups": {},
					"configurationRequired": false,
					"configurable": false
				}, {
					"record": {
						"attributes": {
							"type": "SBQQ__ProductOption__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnYMAR"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0PA000000EgnnYMAR",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "PO-000924",
						"CreatedDate": "2016-01-22T22:12:36.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:12:36.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:12:36.000+0000",
						"SBQQ__AppliedImmediately__c": false,
						"SBQQ__Bundled__c": false,
						"SBQQ__DiscountedByPackage__c": false,
						"SBQQ__Feature__c": "a0OA000000JJqu2MAD",
						"SBQQ__Number__c": 20,
						"SBQQ__OptionalSKU__c": "01tA0000004fSeeIAE",
						"SBQQ__PriceEditable__c": "No",
						"SBQQ__ProductCode__c": "CMC-2",
						"SBQQ__ProductName__c": "Configurator Mockup Child 2",
						"SBQQ__QuantityEditable__c": false,
						"SBQQ__Required__c": false,
						"SBQQ__Selected__c": false,
						"SBQQ__System__c": false,
						"SBQQ__Type__c": "Component",
						"SBQQ__UpliftedByPackage__c": false,
						"SBQQ__UnitPrice__c": 400
					},
					"quantityEditable": true,
					"productQuantityScale": null,
					"priorOptionExists": null,
					"priceEditable": false,
					"localizationByFieldName": {},
					"externalConfigurationData": null,
					"exclusionGroups": {},
					"dependentIds": [],
					"controllingGroups": {},
					"configurationRequired": false,
					"configurable": false
				}, {
					"record": {
						"attributes": {
							"type": "SBQQ__ProductOption__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnndMAB"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0PA000000EgnndMAB",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "PO-000925",
						"CreatedDate": "2016-01-22T22:13:00.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:13:00.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:13:00.000+0000",
						"SBQQ__AppliedImmediately__c": false,
						"SBQQ__Bundled__c": false,
						"SBQQ__DiscountedByPackage__c": false,
						"SBQQ__Feature__c": "a0OA000000JJqu7MAD",
						"SBQQ__Number__c": 30,
						"SBQQ__OptionalSKU__c": "01tA0000004fSejIAE",
						"SBQQ__PriceEditable__c": "No",
						"SBQQ__ProductCode__c": "CMC-3",
						"SBQQ__ProductName__c": "Configurator Mockup Child 3",
						"SBQQ__QuantityEditable__c": false,
						"SBQQ__Quantity__c": 15,
						"SBQQ__Required__c": false,
						"SBQQ__Selected__c": false,
						"SBQQ__System__c": false,
						"SBQQ__Type__c": "Component",
						"SBQQ__UpliftedByPackage__c": false,
						"SBQQ__UnitPrice__c": 150
					},
					"quantityEditable": false,
					"productQuantityScale": null,
					"priorOptionExists": null,
					"priceEditable": false,
					"localizationByFieldName": {},
					"externalConfigurationData": null,
					"exclusionGroups": {},
					"dependentIds": [],
					"controllingGroups": {},
					"configurationRequired": false,
					"configurable": false
				}, {
					"record": {
						"attributes": {
							"type": "SBQQ__ProductOption__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductOption__c/a0PA000000EgnnnMAB"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0PA000000EgnnnMAB",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "PO-000926",
						"CreatedDate": "2016-01-22T22:13:19.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:13:19.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:13:19.000+0000",
						"SBQQ__AppliedImmediately__c": false,
						"SBQQ__Bundled__c": false,
						"SBQQ__DiscountedByPackage__c": false,
						"SBQQ__Feature__c": "a0OA000000JJqu7MAD",
						"SBQQ__Number__c": 40,
						"SBQQ__OptionalSKU__c": "01tA0000004fSeoIAE",
						"SBQQ__PriceEditable__c": "No",
						"SBQQ__ProductCode__c": "CMC-4",
						"SBQQ__ProductName__c": "Configurator Mockup Child 4",
						"SBQQ__QuantityEditable__c": false,
						"SBQQ__Required__c": false,
						"SBQQ__Selected__c": false,
						"SBQQ__System__c": false,
						"SBQQ__Type__c": "Component",
						"SBQQ__UpliftedByPackage__c": false,
						"SBQQ__UnitPrice__c": 600
					},
					"quantityEditable": true,
					"productQuantityScale": null,
					"priorOptionExists": null,
					"priceEditable": false,
					"localizationByFieldName": {},
					"externalConfigurationData": null,
					"exclusionGroups": {},
					"dependentIds": [],
					"controllingGroups": {},
					"configurationRequired": false,
					"configurable": false
				}],
				"optionLookupFieldNames": null,
				"optionFieldSets": {
					"SearchFilters": ["SBQQ__Feature__c", "SBQQ__ProductCode__c", "SBQQ__ProductName__c"],
					"OptionLookup": ["SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__ProductDescription__c"],
					"OptionConfigurationPhone": [],
					"OptionConfigurationTablet": [],
					"OptionConfiguration": ["SBQQ__Quantity__c", "SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__ProductDescription__c", "SBQQ__UnitPrice__c"],
					"FirstFeatureFieldset": ["SBQQ__Quantity__c", "SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__ProductDescription__c", "SBQQ__Bundled__c", "SBQQ__Discount__c", "SBQQ__UnitPrice__c"]
				},
				"localizationByFieldName": {},
				"localizationByFieldByProductId": {},
				"localizationByFieldByDimensionId": {},
				"inheritedConfigurationAttributes": null,
				"features": [{
					"searchFilters": null,
					"record": {
						"attributes": {
							"type": "SBQQ__ProductFeature__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductFeature__c/a0OA000000JJqu2MAD"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0OA000000JJqu2MAD",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "First Feature",
						"CreatedDate": "2016-01-22T22:10:26.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:19:47.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:19:47.000+0000",
						"SBQQ__MaxOptionCount__c": 1,
						"SBQQ__MinOptionCount__c": 1,
						"SBQQ__Number__c": 10,
						"SBQQ__ConfigurationFieldSet__c": "FirstFeatureFieldset",
						"SBQQ__OptionSelectionMethod__c": "Click"
					},
					"localizationByFieldName": {},
					"instructionsText": "Choose at least 1 but no more than 1 of the following:",
					"addOptionExcludedFields": "",
					"addOptionDialogTitle": "Add Option",
					"addOptionButtonLabel": "Add Option",
					"additionalInstructions": ""
				}, {
					"searchFilters": null,
					"record": {
						"attributes": {
							"type": "SBQQ__ProductFeature__c",
							"url": "/services/data/v35.0/sobjects/SBQQ__ProductFeature__c/a0OA000000JJqu7MAD"
						},
						"SBQQ__ConfiguredSKU__c": "01tA0000004fSeUIAU",
						"Id": "a0OA000000JJqu7MAD",
						"OwnerId": "005A0000006CzweIAC",
						"IsDeleted": false,
						"Name": "Second Feature",
						"CreatedDate": "2016-01-22T22:10:57.000+0000",
						"CreatedById": "005A0000006CzweIAC",
						"LastModifiedDate": "2016-01-22T22:10:57.000+0000",
						"LastModifiedById": "005A0000006CzweIAC",
						"SystemModstamp": "2016-01-22T22:10:57.000+0000",
						"SBQQ__MinOptionCount__c": 0,
						"SBQQ__Number__c": 20,
						"SBQQ__OptionSelectionMethod__c": "Click"
					},
					"localizationByFieldName": {},
					"instructionsText": null,
					"addOptionExcludedFields": "",
					"addOptionDialogTitle": "Add Option",
					"addOptionButtonLabel": "Add Option",
					"additionalInstructions": ""
				}],
				"featureCategories": [],
				"discountSchedules": [],
				"dimensions": [],
				"currencySymbol": "$",
				"currencyCode": null,
				"costs": [],
				"constraints": [],
				"configuratorLookupFieldNames": null,
				"configuratorFilterFieldNames": null,
				"configurationRules": [],
				"configurationAttributes": [],
				"configuration": {
					"validationMessages": [],
					"searchFilters": null,
					"priceEditable": false,
					"optionId": null,
					"optionData": {
						"attributes": {
							"type": "SBQQ__ProductOption__c"
						}
					},
					"optionConfigurations": [{
						"validationMessages": [],
						"searchFilters": null,
						"priceEditable": false,
						"optionId": "a0PA000000EgnnxMAB",
						"optionData": {
							"attributes": {
								"type": "SBQQ__ProductOption__c"
							},
							"SBQQ__Quantity__c": 1,
							"SBQQ__Discount__c": null,
							"SBQQ__DiscountAmount__c": null
						},
						"optionConfigurations": [],
						"listPrice": null,
						"lineItemKey": null,
						"lineItemId": null,
						"isDynamicOption": false,
						"inheritedConfigurationData": null,
						"hiddenOptionIds": null,
						"externalConfigurationData": {},
						"disabledOptionIds": null,
						"configuredProductId": "01tA0000004fSeyIAE",
						"configured": false,
						"configurationLabels": {
							"or": "or",
							"and": "and",
							"excludes": "Excludes",
							"requires": "Requires"
						},
						"configurationData": {
							"attributes": {
								"type": "SBQQ__ProductOption__c"
							}
						}
					}, {
						"validationMessages": [],
						"searchFilters": null,
						"priceEditable": false,
						"optionId": "a0PA000000EgnnOMAR",
						"optionData": {
							"attributes": {
								"type": "SBQQ__ProductOption__c"
							},
							"SBQQ__Quantity__c": 5,
							"SBQQ__Discount__c": null,
							"SBQQ__DiscountAmount__c": null
						},
						"optionConfigurations": [],
						"listPrice": null,
						"lineItemKey": null,
						"lineItemId": null,
						"isDynamicOption": false,
						"inheritedConfigurationData": null,
						"hiddenOptionIds": null,
						"externalConfigurationData": {},
						"disabledOptionIds": null,
						"configuredProductId": "01tA0000004fSeZIAU",
						"configured": false,
						"configurationLabels": {
							"or": "or",
							"and": "and",
							"excludes": "Excludes",
							"requires": "Requires"
						},
						"configurationData": {
							"attributes": {
								"type": "SBQQ__ProductOption__c"
							}
						}
					}],
					"listPrice": null,
					"lineItemKey": null,
					"lineItemId": null,
					"isDynamicOption": false,
					"inheritedConfigurationData": null,
					"hiddenOptionIds": null,
					"externalConfigurationData": {},
					"disabledOptionIds": null,
					"configuredProductId": "01tA0000004fSeUIAU",
					"configured": false,
					"configurationLabels": {
						"or": "or",
						"and": "and",
						"excludes": "Excludes",
						"requires": "Requires"
					},
					"configurationData": {
						"attributes": {
							"type": "SBQQ__ProductOption__c"
						}
					}
				},
				"blockPrices": []
			}];
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJtb2NrQ29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/products.js', ['products/services/services.js', 'products/sb-product-feature/ProductFeature.js', 'products/sb-product-option-table/ProductOptionTable.js', 'products/sb-product-option/ProductOption.js'], function (_export, _context) {
  return {
    setters: [function (_productsServicesServicesJs) {}, function (_productsSbProductFeatureProductFeatureJs) {}, function (_productsSbProductOptionTableProductOptionTableJs) {}, function (_productsSbProductOptionProductOptionJs) {}],
    execute: function () {}
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('products/products.routes.js', [], function (_export, _context) {
	var PREFIX, ROUTES;
	return {
		setters: [],
		execute: function () {
			_export('PREFIX', PREFIX = '/product');

			_export('PREFIX', PREFIX);

			_export('ROUTES', ROUTES = {
				'/lookup': {
					comp: 'sb-product-lookup',
					mod: 'products/sb-product-lookup/ProductLookup.js'
				},
				'/ol': {
					comp: 'sb-option-lookup',
					mod: 'products/sb-option-lookup/OptionLookup.js'
				},
				'/pc': {
					comp: 'sb-product-config',
					mod: 'products/sb-product-config/ProductConfig.js'
				},
				'/search': {
					comp: 'sb-product-search',
					mod: 'products/sb-product-search/ProductSearch.js'
				}
			});

			_export('ROUTES', ROUTES);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9kdWN0cy5yb3V0ZXMuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('quotes/EditorViewModel.js', ['quotes/QuoteViewModel.js'], function (_export, _context) {
    var QuoteViewModel, EditorViewModel;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [function (_quotesQuoteViewModelJs) {
            QuoteViewModel = _quotesQuoteViewModelJs.QuoteViewModel;
        }],
        execute: function () {
            _export('EditorViewModel', EditorViewModel = function EditorViewModel(data) {
                _classCallCheck(this, EditorViewModel);

                Polymer.Base.extend(this, data);
                data.quote.developerPrefix = this.developerPrefix;
                this.quote = new QuoteViewModel(this, data.quote);
            });

            _export('EditorViewModel', EditorViewModel);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJFZGl0b3JWaWV3TW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6W119
"use strict";

System.register("quotes/GroupViewModel.js", [], function (_export, _context) {
	var _createClass, GroupViewModel;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export("GroupViewModel", GroupViewModel = function () {
				function GroupViewModel(quote, group) {
					_classCallCheck(this, GroupViewModel);

					Polymer.Base.extend(this, group);
					this.lineItems = [];
					this.developerPrefix = quote.developerPrefix;
				}

				_createClass(GroupViewModel, [{
					key: "displayTableNames",
					value: function displayTableNames() {
						return this._hasMultiSegmentProducts() && this._hasStandardProducts();
					}
				}, {
					key: "_hasMultiSegmentProducts",
					value: function _hasMultiSegmentProducts() {
						var length = this.lineItems.length;

						for (var i = 0; i < length; i++) {
							if (this.lineItems[i].multiSegment) {
								return true;
							}
						}

						return false;
					}
				}, {
					key: "_hasStandardProducts",
					value: function _hasStandardProducts() {
						var length = this.lineItems.length;

						for (var i = 0; i < length; i++) {
							if (!this.lineItems[i].multiSegment) {
								return true;
							}
						}

						return false;
					}
				}]);

				return GroupViewModel;
			}());

			_export("GroupViewModel", GroupViewModel);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJHcm91cFZpZXdNb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('quotes/LineViewModel.js', [], function (_export, _context) {
    var LineViewModel;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _export('LineViewModel', LineViewModel = function LineViewModel(item) {
                _classCallCheck(this, LineViewModel);

                var prefix = item.developerPrefix;
                var SEGMENT_KEY_FIELD = prefix + 'SegmentKey__c';
                var OPTION_LEVEL_FIELD = prefix + 'OptionLevel__c';
                Polymer.Base.extend(this, item);
                this.component = this.record[OPTION_LEVEL_FIELD] != null;
                this.multiSegment = this.record[SEGMENT_KEY_FIELD] != null;
                this.segmentKey = this.record[SEGMENT_KEY_FIELD];
            });

            _export('LineViewModel', LineViewModel);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJMaW5lVmlld01vZGVsLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('quotes/PriceDimensionViewModel.js', [], function (_export, _context) {
	var PriceDimensionViewModel;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_export('PriceDimensionViewModel', PriceDimensionViewModel = function PriceDimensionViewModel(group, dimensionType) {
				_classCallCheck(this, PriceDimensionViewModel);

				this.group = group;
				this.type = dimensionType;
				this.lineItems = [];
				this.segmentsExpansionIcon = 'sf-icon-right';
			});

			_export('PriceDimensionViewModel', PriceDimensionViewModel);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcmljZURpbWVuc2lvblZpZXdNb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('quotes/QuoteSummaryViewModel.js', [], function (_export, _context) {
	var _createClass, QuoteSummaryViewModel;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('QuoteSummaryViewModel', QuoteSummaryViewModel = function () {
				function QuoteSummaryViewModel(quote, data) {
					_classCallCheck(this, QuoteSummaryViewModel);

					this.values = new Object();
					Polymer.Base.extend(this, quote);
					this.quote = quote;
				}

				_createClass(QuoteSummaryViewModel, [{
					key: 'getInputId',
					value: function getInputId(field) {
						return field.name + '_' + this.key;
					}
				}, {
					key: 'isEditable',
					value: function isEditable(field) {
						return false;
					}
				}, {
					key: 'isFieldRendered',
					value: function isFieldRendered(field) {
						if (this.record != null) {
							var value = this.record[this.mapPropertyName(field)];
							return value != undefined && value != null;
						}

						return false;
					}
				}, {
					key: 'mapPropertyName',
					value: function mapPropertyName(field) {
						return field.name.toLowerCase();
					}
				}]);

				return QuoteSummaryViewModel;
			}());

			_export('QuoteSummaryViewModel', QuoteSummaryViewModel);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJRdW90ZVN1bW1hcnlWaWV3TW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('quotes/QuoteViewModel.js', ['quotes/GroupViewModel.js', 'quotes/LineViewModel.js', 'quotes/QuoteSummaryViewModel.js', 'quotes/PriceDimensionViewModel.js'], function (_export, _context) {
    var GroupViewModel, LineViewModel, QuoteSummaryViewModel, PriceDimensionViewModel, QuoteViewModel;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    function copyMultiSegmentProperties(group, quoteViewModel) {
        group.hasMultiSegmentLines = quoteViewModel.hasMultiSegmentLines;
        group.localizedMultiSegmentColumns = quoteViewModel.localizedMultiSegmentColumns;
        group.multiSegmentColumns = quoteViewModel.multiSegmentColumns;
        group.multiSegmentColumnTotals = quoteViewModel.multiSegmentColumnTotals;
        group.multiSegmentRowTotals = quoteViewModel.multiSegmentRowTotals;
        group.netMultiSegmentTotal = quoteViewModel.netMultiSegmentTotal;
        group.netNonSegmentTotal = quoteViewModel.netNonSegmentTotal;
    }

    function createMultiSegmentLine(item, quoteViewModel) {
        if (!quoteViewModel.multiSegmentLineItemsBySegmentKey[item.segmentKey]) {
            var multiSegmentLineItem = new LineViewModel(item);
            multiSegmentLineItem.segments = [];
            item.parentSummaryLineKey = multiSegmentLineItem.key;
            multiSegmentLineItem.segments.push(item);
            quoteViewModel.multiSegmentLineItemsBySegmentKey[item.segmentKey] = multiSegmentLineItem;
            quoteViewModel.multiSegmentLineItemsByKey[multiSegmentLineItem.key] = multiSegmentLineItem;
            multiSegmentLineItem.dimensionType = quoteViewModel.multiSegmentKeys[item.segmentKey];
            multiSegmentLineItem.expansionIcon = 'sf-icon-right';
            var itemGroup = quoteViewModel.groupsByKey[item.parentGroupKey];

            if (!itemGroup.multiSegmentLineItemsByType[multiSegmentLineItem.dimensionType]) {
                var lineItemGroups = quoteViewModel.lineItemGroups;

                for (var i = 0; i < lineItemGroups.length; i++) {
                    var dimension = new PriceDimensionViewModel(lineItemGroups[i], multiSegmentLineItem.dimensionType);

                    if (!quoteViewModel.dimensions[dimension.type]) {
                        quoteViewModel.dimensions[dimension.type] = true;
                    }

                    if (!lineItemGroups[i].multiSegmentLineItems) {
                        lineItemGroups[i].multiSegmentLineItems = [];
                    }

                    lineItemGroups[i].multiSegmentLineItems.push(dimension);
                    lineItemGroups[i].multiSegmentLineItemsByType[multiSegmentLineItem.dimensionType] = dimension;
                }
            }

            itemGroup.multiSegmentLineItemsByType[multiSegmentLineItem.dimensionType].lineItems.push(multiSegmentLineItem);
        } else {
            var multiSegmentLineItem = quoteViewModel.multiSegmentLineItemsBySegmentKey[item.segmentKey];
            item.parentSummaryLineKey = multiSegmentLineItem.key;
            multiSegmentLineItem.segments.push(item);
        }
    }

    return {
        setters: [function (_quotesGroupViewModelJs) {
            GroupViewModel = _quotesGroupViewModelJs.GroupViewModel;
        }, function (_quotesLineViewModelJs) {
            LineViewModel = _quotesLineViewModelJs.LineViewModel;
        }, function (_quotesQuoteSummaryViewModelJs) {
            QuoteSummaryViewModel = _quotesQuoteSummaryViewModelJs.QuoteSummaryViewModel;
        }, function (_quotesPriceDimensionViewModelJs) {
            PriceDimensionViewModel = _quotesPriceDimensionViewModelJs.PriceDimensionViewModel;
        }],
        execute: function () {
            _export('QuoteViewModel', QuoteViewModel = function QuoteViewModel(editorViewModel, quote) {
                _classCallCheck(this, QuoteViewModel);

                Polymer.Base.extend(this, quote);
                this.developerPrefix = quote.developerPrefix;
                this.editorViewModel = editorViewModel;
                this.groupsByKey = {};
                this.lineItemGroups = [];

                if (this.record[this.developerPrefix + 'LineItemsGrouped__c']) {
                    var groups = quote.lineItemGroups,
                        _len = groups.length;

                    for (var i = 0; i < _len; i++) {
                        var group = new GroupViewModel(this, groups[i]);
                        group.quote = this;
                        this.groupsByKey[group.key] = group;
                        this.lineItemGroups.push(group);
                        group.summaryLine = new QuoteSummaryViewModel(this, {
                            record: this.summaries
                        });

                        if (this.hasMultiSegmentLines) {
                            group.multiSegmentLineItemsByType = {};
                            copyMultiSegmentProperties(group, this);
                        }
                    }
                } else {
                    var virtualGroup = new GroupViewModel(this, {
                        record: {}
                    });
                    virtualGroup.quote = quote;
                    this.groupsByKey[null] = virtualGroup;
                    this.lineItemGroups = [virtualGroup];
                    virtualGroup.summaryLine = new QuoteSummaryViewModel(this, {
                        record: this.summaries
                    });

                    if (this.hasMultiSegmentLines) {
                        virtualGroup.multiSegmentLineItemsByType = {};
                        copyMultiSegmentProperties(virtualGroup, this);
                    }
                }

                if (this.hasMultiSegmentLines) {
                    this.dimensions = {};
                    this.multiSegmentKeys = this.multiSegmentKeys == null ? {} : this.multiSegmentKeys;
                    this.multiSegmentLineItemsByKey = {};
                    this.multiSegmentLineItemsBySegmentKey = {};
                }

                this.lineItems = [];
                var lineItems = quote.lineItems,
                    len = lineItems.length;

                for (var i = 0; i < len; i++) {
                    var item = lineItems[i],
                        itemGroup = this.groupsByKey[item.parentGroupKey];
                    item.developerPrefix = quote.developerPrefix;
                    var line = new LineViewModel(item);
                    line.group = itemGroup;
                    this.lineItems.push(line);

                    if (itemGroup != null) {
                        itemGroup.lineItems.push(line);
                    }

                    if (line.multiSegment) {
                        createMultiSegmentLine(line, this);
                    }
                }
            });

            _export('QuoteViewModel', QuoteViewModel);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJRdW90ZVZpZXdNb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('quotes/quotes.js', ['quotes/sb-line-items/LineItems.js', 'quotes/sb-segmented-line-items/SegmentedLineItems.js', 'quotes/sb-line-groups/LineGroups.js'], function (_export, _context) {
  return {
    setters: [function (_quotesSbLineItemsLineItemsJs) {}, function (_quotesSbSegmentedLineItemsSegmentedLineItemsJs) {}, function (_quotesSbLineGroupsLineGroupsJs) {}],
    execute: function () {}
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJxdW90ZXMuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('quotes/quotes.routes.js', [], function (_export, _context) {
	var PREFIX, ROUTES;
	return {
		setters: [],
		execute: function () {
			_export('PREFIX', PREFIX = '/quote');

			_export('PREFIX', PREFIX);

			_export('ROUTES', ROUTES = {
				'/le': {
					comp: 'sb-line-editor',
					mod: 'quotes/sb-line-editor/LineEditor.js'
				}
			});

			_export('ROUTES', ROUTES);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJxdW90ZXMucm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('calc/Utils/ApexUtils.js', [], function (_export, _context) {
    var RestClient, RemoteClient, RestProxy, cache;
    return {
        setters: [],
        execute: function () {
            RestClient = require('../data/RestClient.js');
            RemoteClient = require('../data/RemoteClient.js');
            RestProxy = require('../data/RestProxy.js');
            cache = require('../data/Cache.js')();

            module.exports = function (conn, orgUrl, forceRest) {
                var inBrowser = typeof window !== 'undefined';
                var useRest = forceRest || typeof Visualforce === 'undefined';
                if (useRest) client = new RestClient(inBrowser ? new RestProxy(conn, orgUrl) : conn.apex);else client = new RemoteClient();

                function read(prefix, provider, uid) {
                    var obj = inBrowser ? cache.get(provider, uid) : null;
                    return obj ? Promise.resolve(obj) : new Promise(function (resolve, reject) {
                        client.read(prefix, provider, uid).then(function (res) {
                            cache.put(provider, uid, res);
                            resolve(res);
                        }, function (err) {
                            reject(err.message || err);
                        });
                    });
                }

                function load(prefix, provider, uid, context) {
                    var obj = inBrowser ? cache.get(provider, uid) : null;
                    return obj ? Promise.resolve(obj) : new Promise(function (resolve, reject) {
                        client.load(prefix, provider, uid || '', context).then(function (res) {
                            cache.put(provider, uid, res);
                            resolve(res);
                        }, function (err) {
                            reject(err.message || err);
                        });
                    });
                }

                function clear(provider, uid) {
                    cache.put(provider, uid, null);
                }

                function save(prefix, provider, obj) {
                    return client.save(prefix, provider, obj);
                }

                return {
                    read: read,
                    load: load,
                    save: save,
                    clear: clear
                };
            };
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJBcGV4VXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('common/core/Page.js', [], function (_export, _context) {
	var _createClass, sb, SIZE_S, SIZE_M, SIZE_L, SIZE_XL, messages, defaultUser, dateFormatCache, numberFormatCache, Page;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			sb = window ? window.sb || {} : {};
			sb.ui = sb.ui || {};
			sb.common = sb.common || {};
			sb.common.core = sb.common.core || {};
			window.sb = sb;

			_export('SIZE_S', SIZE_S = 'S');

			_export('SIZE_S', SIZE_S);

			_export('SIZE_M', SIZE_M = 'M');

			_export('SIZE_M', SIZE_M);

			_export('SIZE_L', SIZE_L = 'L');

			_export('SIZE_L', SIZE_L);

			_export('SIZE_XL', SIZE_XL = 'XL');

			_export('SIZE_XL', SIZE_XL);

			messages = {
				en: {
					'Delete': 'Delete',
					'New': 'New',
					'Recently Viewed': 'Recently Viewed',
					'Product Selection': 'Product Selection',
					'Yes': 'Yes',
					'Add': 'Add',
					'Cancel': 'Cancel'
				},
				it: {
					'Delete': 'Cancellare',
					'New': 'Nuovo',
					'Recently Viewed': 'Visualizzato Recentemente',
					'Yes': 'Si',
					'Add': 'Aggiungere',
					'Cancel': 'Annula'
				}
			};
			defaultUser = {
				lang: 'en',
				locale: 'en-US',
				id: 'user_123456789',
				fullname: 'Joe User',
				username: 'joe@user.com'
			};
			dateFormatCache = {};
			numberFormatCache = {};

			_export('Page', Page = function () {
				function Page() {
					_classCallCheck(this, Page);
				}

				_createClass(Page, [{
					key: 'nav',
					value: function nav(url, queryParams, pathParams, newWin) {
						var u = url,
						    pLen = pathParams ? pathParams.length : 0,
						    pKeys = queryParams ? Object.keys(queryParams) : [],
						    kLen = pKeys.length;

						if (pathParams) {
							for (var i = 0; i < pLen; i++) {
								if (pathParams[i] != null && pathParams[i] != undefined && pathParams[i] != '') u += '/' + encodeURIComponent(pathParams[i]);
							}
						}

						for (var i = 0; i < kLen; i++) {
							if (i == 0) u += '?';
							u += encodeURIComponent(pKeys[i]) + '=' + encodeURIComponent(queryParams[pKeys[i]]);
							if (i != kLen - 1) u += '&';
						}

						window.location.hash = u;
					}
				}, {
					key: 'l',
					value: function l(key, values) {
						var v = messages[this.user.lang][key];
						return v;
					}
				}, {
					key: '_getFormat',
					value: function _getFormat(locale, key, isDate) {
						var f = null;

						if (locale && key) {
							var loc = isDate ? dateFormatCache[locale] : numberFormatCache[locale];

							if (!loc) {
								loc = {};
								var c = isDate ? dateFormatCache : numberFormatCache;
								c[locale] = loc;
							}

							f = loc[key];

							if (!f) {
								f = isDate ? new Intl.DateTimeFormat(locale, key) : new Intl.NumberFormat(locale, key);
								loc[key] = f;
							}
						}

						return f;
					}
				}, {
					key: 'format',
					value: function format(value, options) {
						var v = '',
						    opts = options || {};

						if (value || value == 0) {
							if (value instanceof Date || opts.date) {
								var fmt = this._getFormat(this.user.locale, opts, true);

								if (value instanceof Date) {
									v = fmt.format(value);
								} else if (typeof value == 'number') {
									v = fmt.format(new Date(value));
								} else if (typeof value === 'string') {
									var nv = parseInt(value);

									if (nv != 'NaN') {
										v = fmt.format(new Date(nv));
									} else {}
								}
							} else {
								var fmt = this._getFormat(this.user.locale, opts, false);

								v = fmt.format(value);
							}
						}

						return v;
					}
				}, {
					key: 'user',
					get: function get() {
						return defaultUser;
					}
				}], [{
					key: 'properties',
					get: function get() {
						return {
							ctx: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							viewport: Object
						};
					}
				}]);

				return Page;
			}());

			_export('Page', Page);

			sb.common.core.Page = Page.prototype;
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQYWdlLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('docgen/sb-docgen-preview/DocgenPreview.js', ['../../common/core/Page.js'], function (_export, _context) {
	var Page, _createClass, templates, DocgenPreview;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	return {
		setters: [function (_commonCorePageJs) {
			Page = _commonCorePageJs.Page;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			templates = [{
				name: 't1',
				title: 'My Favorite Template'
			}, {
				name: 't2',
				title: 'Okay Template'
			}, {
				name: 't3',
				title: 'Super Template'
			}, {
				name: 't4',
				title: 'Nasty Template'
			}, {
				name: 't5',
				title: 'Don\'t Go Here'
			}];

			_export('DocgenPreview', DocgenPreview = function (_Page) {
				_inherits(DocgenPreview, _Page);

				function DocgenPreview() {
					_classCallCheck(this, DocgenPreview);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(DocgenPreview).apply(this, arguments));
				}

				_createClass(DocgenPreview, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-docgen-preview';
						this.properties = Polymer.Base.extend({
							obj: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							templates: {
								type: Array,
								value: function value() {
									return templates;
								}
							}
						}, Page.properties);
					}
				}, {
					key: 'cancel',
					value: function cancel() {
						this.nav('/entities/quote/detail?id=' + this.ctx.params.id);
					}
				}, {
					key: 'preview',
					value: function preview() {
						this.nav('/docgen/preview?id=' + this.ctx.params.id);
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return DocgenPreview;
			}(Page));

			_export('DocgenPreview', DocgenPreview);

			Polymer(DocgenPreview);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJEb2NnZW5QcmV2aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
"use strict";

System.register("products/mock/ConfiguredProduct.js", [], function (_export, _context) {
  var CONFIG_MODEL;
  return {
    setters: [],
    execute: function () {
      _export("CONFIG_MODEL", CONFIG_MODEL = {
        "virtualFeatureTitle": "Other Options",
        "upgradedAssetId": null,
        "upgradeableAssets": [],
        "relatedContent": null,
        "record": {
          "attributes": {
            "type": "Product2",
            "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fNNCIA2"
          },
          "Id": "01tA0000004fNNCIA2",
          "CurrencyIsoCode": "USD",
          "Name": "Product Rule Parent",
          "ProductCode": "PRODRULE-PARENT",
          "SBQQ__PriceEditable__c": false,
          "SBQQ__DefaultQuantity__c": 1,
          "SBQQ__QuantityEditable__c": true,
          "SBQQ__CostEditable__c": false,
          "SBQQ__NonDiscountable__c": false,
          "SBQQ__NonPartnerDiscountable__c": false,
          "SBQQ__SubscriptionBase__c": "List",
          "SBQQ__PricingMethod__c": "List",
          "SBQQ__PricingMethodEditable__c": false,
          "SBQQ__OptionSelectionMethod__c": "Add",
          "SBQQ__OptionLayout__c": "Wizard",
          "SBQQ__ConfigurationType__c": "Required",
          "SBQQ__Optional__c": false,
          "SBQQ__Taxable__c": false,
          "SBQQ__CustomConfigurationRequired__c": false,
          "SBQQ__Hidden__c": false,
          "SBQQ__ReconfigurationDisabled__c": false,
          "SBQQ__ExcludeFromOpportunity__c": false,
          "SBQQ__DescriptionLocked__c": false,
          "SBQQ__ConfigurationEvent__c": "Always",
          "SBQQ__ExcludeFromMaintenance__c": false,
          "SBQQ__IncludeInMaintenance__c": false,
          "SBQQ__NewQuoteGroup__c": false,
          "SBQQ__SubscriptionType__c": "Renewable",
          "SBQQ__AssetConversion__c": "One per quote line",
          "SBQQ__BlockPricingField__c": "Quantity",
          "SBQQ__HasConfigurationAttributes__c": false,
          "SBQQ__Features__r": {
            "totalSize": 2,
            "done": true,
            "records": [{
              "attributes": {
                "type": "SBQQ__ProductFeature__c",
                "url": "/services/data/v36.0/sobjects/SBQQ__ProductFeature__c/a0YA000000CwaocMAB"
              },
              "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
              "Id": "a0YA000000CwaocMAB",
              "OwnerId": "005A00000066GkbIAE",
              "IsDeleted": false,
              "Name": "Feature 1",
              "CurrencyIsoCode": "USD",
              "CreatedDate": "2016-01-14T20:40:29.000+0000",
              "CreatedById": "005A00000066GkbIAE",
              "LastModifiedDate": "2016-03-18T21:54:42.000+0000",
              "LastModifiedById": "005A00000066GkbIAE",
              "SystemModstamp": "2016-03-18T21:54:42.000+0000",
              "SBQQ__Category__c": "Software",
              "SBQQ__MaxOptionCount__c": 1,
              "SBQQ__MinOptionCount__c": 0,
              "SBQQ__Number__c": 10,
              "SBQQ__OptionSelectionMethod__c": "Click"
            }, {
              "attributes": {
                "type": "SBQQ__ProductFeature__c",
                "url": "/services/data/v36.0/sobjects/SBQQ__ProductFeature__c/a0YA000000CwaohMAB"
              },
              "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
              "Id": "a0YA000000CwaohMAB",
              "OwnerId": "005A00000066GkbIAE",
              "IsDeleted": false,
              "Name": "Feature 2",
              "CurrencyIsoCode": "USD",
              "CreatedDate": "2016-01-14T20:40:39.000+0000",
              "CreatedById": "005A00000066GkbIAE",
              "LastModifiedDate": "2016-02-12T21:10:51.000+0000",
              "LastModifiedById": "005A00000066GkbIAE",
              "SystemModstamp": "2016-02-12T21:10:51.000+0000",
              "SBQQ__Category__c": "Hardware",
              "SBQQ__MinOptionCount__c": 0,
              "SBQQ__Number__c": 20
            }]
          },
          "SBQQ__Options__r": {
            "totalSize": 4,
            "done": true,
            "records": [{
              "attributes": {
                "type": "SBQQ__ProductOption__c",
                "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EhArMAK"
              },
              "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
              "Id": "a0ZA0000007EhArMAK",
              "OwnerId": "005A00000066GkbIAE",
              "IsDeleted": false,
              "Name": "PO-000419",
              "CurrencyIsoCode": "USD",
              "CreatedDate": "2016-01-14T00:41:57.000+0000",
              "CreatedById": "005A00000066GkbIAE",
              "LastModifiedDate": "2016-01-14T21:11:21.000+0000",
              "LastModifiedById": "005A00000066GkbIAE",
              "SystemModstamp": "2016-01-14T21:11:21.000+0000",
              "SBQQ__AppliedImmediately__c": false,
              "SBQQ__Bundled__c": false,
              "SBQQ__DiscountedByPackage__c": false,
              "SBQQ__Feature__c": "a0YA000000CwaocMAB",
              "SBQQ__Number__c": 10,
              "SBQQ__OptionalSKU__c": "01tA0000004fNNHIA2",
              "SBQQ__PriceEditable__c": "No",
              "SBQQ__ProductCode__c": "PRODRULE-CHILD-A",
              "SBQQ__ProductDescription__c": "descripcion",
              "SBQQ__ProductName__c": "Product Rule Child A",
              "SBQQ__QuantityEditable__c": true,
              "SBQQ__Required__c": false,
              "SBQQ__Selected__c": false,
              "SBQQ__System__c": false,
              "SBQQ__Type__c": "Component",
              "SBQQ__UnitPrice__c": 119,
              "SBQQ__UpliftedByPackage__c": false
            }, {
              "attributes": {
                "type": "SBQQ__ProductOption__c",
                "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EhAwMAK"
              },
              "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
              "Id": "a0ZA0000007EhAwMAK",
              "OwnerId": "005A00000066GkbIAE",
              "IsDeleted": false,
              "Name": "PO-000420",
              "CurrencyIsoCode": "USD",
              "CreatedDate": "2016-01-14T00:42:08.000+0000",
              "CreatedById": "005A00000066GkbIAE",
              "LastModifiedDate": "2016-01-14T21:12:18.000+0000",
              "LastModifiedById": "005A00000066GkbIAE",
              "SystemModstamp": "2016-01-14T21:12:18.000+0000",
              "SBQQ__AppliedImmediately__c": false,
              "SBQQ__Bundled__c": false,
              "SBQQ__DiscountedByPackage__c": false,
              "SBQQ__Feature__c": "a0YA000000CwaocMAB",
              "SBQQ__Number__c": 20,
              "SBQQ__OptionalSKU__c": "01tA0000004fNNMIA2",
              "SBQQ__PriceEditable__c": "No",
              "SBQQ__ProductCode__c": "PRODRULE-CHILD-B",
              "SBQQ__ProductName__c": "Product Rule Child B",
              "SBQQ__QuantityEditable__c": true,
              "SBQQ__Required__c": false,
              "SBQQ__Selected__c": false,
              "SBQQ__System__c": false,
              "SBQQ__Type__c": "Component",
              "SBQQ__UpliftedByPackage__c": false,
              "SBQQ__UnitPrice__c": 699
            }, {
              "attributes": {
                "type": "SBQQ__ProductOption__c",
                "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EibrMAC"
              },
              "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
              "Id": "a0ZA0000007EibrMAC",
              "OwnerId": "005A00000066GkbIAE",
              "IsDeleted": false,
              "Name": "PO-000422",
              "CurrencyIsoCode": "USD",
              "CreatedDate": "2016-01-14T21:14:30.000+0000",
              "CreatedById": "005A00000066GkbIAE",
              "LastModifiedDate": "2016-01-14T21:14:30.000+0000",
              "LastModifiedById": "005A00000066GkbIAE",
              "SystemModstamp": "2016-01-14T21:14:30.000+0000",
              "SBQQ__AppliedImmediately__c": false,
              "SBQQ__Bundled__c": false,
              "SBQQ__DiscountedByPackage__c": false,
              "SBQQ__Feature__c": "a0YA000000CwaohMAB",
              "SBQQ__Number__c": 30,
              "SBQQ__OptionalSKU__c": "01tA0000004fNmwIAE",
              "SBQQ__PriceEditable__c": "No",
              "SBQQ__ProductCode__c": "PRODRULE-CHILD-C",
              "SBQQ__ProductName__c": "Product Rule Child C",
              "SBQQ__QuantityEditable__c": true,
              "SBQQ__Required__c": false,
              "SBQQ__Selected__c": false,
              "SBQQ__System__c": false,
              "SBQQ__Type__c": "Component",
              "SBQQ__UpliftedByPackage__c": false,
              "SBQQ__UnitPrice__c": 200
            }, {
              "attributes": {
                "type": "SBQQ__ProductOption__c",
                "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007Eic1MAC"
              },
              "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
              "Id": "a0ZA0000007Eic1MAC",
              "OwnerId": "005A00000066GkbIAE",
              "IsDeleted": false,
              "Name": "PO-000423",
              "CurrencyIsoCode": "USD",
              "CreatedDate": "2016-01-14T21:15:08.000+0000",
              "CreatedById": "005A00000066GkbIAE",
              "LastModifiedDate": "2016-01-15T00:32:05.000+0000",
              "LastModifiedById": "005A00000066GkbIAE",
              "SystemModstamp": "2016-01-15T00:32:05.000+0000",
              "SBQQ__AppliedImmediately__c": false,
              "SBQQ__Bundled__c": false,
              "SBQQ__DiscountedByPackage__c": false,
              "SBQQ__Feature__c": "a0YA000000CwaohMAB",
              "SBQQ__Number__c": 40,
              "SBQQ__OptionalSKU__c": "01tA0000004fNn1IAE",
              "SBQQ__PriceEditable__c": "No",
              "SBQQ__ProductCode__c": "PRODRULE-CHILD-D",
              "SBQQ__ProductName__c": "Product Rule Child D",
              "SBQQ__QuantityEditable__c": true,
              "SBQQ__Required__c": false,
              "SBQQ__Selected__c": false,
              "SBQQ__System__c": false,
              "SBQQ__Type__c": "Component",
              "SBQQ__UnitPrice__c": 19,
              "SBQQ__UpliftedByPackage__c": false
            }]
          },
          "PricebookEntries": {
            "totalSize": 1,
            "done": true,
            "records": [{
              "attributes": {
                "type": "PricebookEntry",
                "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009B86MIAS"
              },
              "Product2Id": "01tA0000004fNNCIA2",
              "Id": "01uA0000009B86MIAS",
              "Pricebook2Id": "01sA0000000YamvIAC",
              "UnitPrice": 300,
              "IsActive": true,
              "CurrencyIsoCode": "USD"
            }]
          }
        },
        "productFieldSets": {
          "ConfiguratorFilter": ["ProductCode", "Name", "Family"],
          "ConfiguratorLookup": ["ProductCode", "Name", "Description"]
        },
        "optionSearchFilterFieldNames": null,
        "options": [{
          "record": {
            "attributes": {
              "type": "SBQQ__ProductOption__c",
              "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EhArMAK"
            },
            "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
            "Id": "a0ZA0000007EhArMAK",
            "OwnerId": "005A00000066GkbIAE",
            "IsDeleted": false,
            "Name": "PO-000419",
            "CurrencyIsoCode": "USD",
            "CreatedDate": "2016-01-14T00:41:57.000+0000",
            "CreatedById": "005A00000066GkbIAE",
            "LastModifiedDate": "2016-01-14T21:11:21.000+0000",
            "LastModifiedById": "005A00000066GkbIAE",
            "SystemModstamp": "2016-01-14T21:11:21.000+0000",
            "SBQQ__AppliedImmediately__c": false,
            "SBQQ__Bundled__c": false,
            "SBQQ__DiscountedByPackage__c": false,
            "SBQQ__Feature__c": "a0YA000000CwaocMAB",
            "SBQQ__Number__c": 10,
            "SBQQ__OptionalSKU__c": "01tA0000004fNNHIA2",
            "SBQQ__PriceEditable__c": "No",
            "SBQQ__ProductCode__c": "PRODRULE-CHILD-A",
            "SBQQ__ProductDescription__c": "descripcion",
            "SBQQ__ProductName__c": "Product Rule Child A",
            "SBQQ__QuantityEditable__c": true,
            "SBQQ__Required__c": false,
            "SBQQ__Selected__c": false,
            "SBQQ__System__c": false,
            "SBQQ__Type__c": "Component",
            "SBQQ__UnitPrice__c": 119,
            "SBQQ__UpliftedByPackage__c": false
          },
          "reconfigureDimensionWarning": "Quantities may only be adjusted from within the configurator during initial configuration.",
          "quantityEditable": true,
          "productQuantityScale": null,
          "priorOptionExists": null,
          "priceEditable": false,
          "localizationByFieldName": {},
          "hasDimension": false,
          "externalConfigurationData": null,
          "exclusionGroups": {},
          "dependentIds": [],
          "controllingGroups": {},
          "configurationRequired": false,
          "configurable": false
        }, {
          "record": {
            "attributes": {
              "type": "SBQQ__ProductOption__c",
              "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EhAwMAK"
            },
            "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
            "Id": "a0ZA0000007EhAwMAK",
            "OwnerId": "005A00000066GkbIAE",
            "IsDeleted": false,
            "Name": "PO-000420",
            "CurrencyIsoCode": "USD",
            "CreatedDate": "2016-01-14T00:42:08.000+0000",
            "CreatedById": "005A00000066GkbIAE",
            "LastModifiedDate": "2016-01-14T21:12:18.000+0000",
            "LastModifiedById": "005A00000066GkbIAE",
            "SystemModstamp": "2016-01-14T21:12:18.000+0000",
            "SBQQ__AppliedImmediately__c": false,
            "SBQQ__Bundled__c": false,
            "SBQQ__DiscountedByPackage__c": false,
            "SBQQ__Feature__c": "a0YA000000CwaocMAB",
            "SBQQ__Number__c": 20,
            "SBQQ__OptionalSKU__c": "01tA0000004fNNMIA2",
            "SBQQ__PriceEditable__c": "No",
            "SBQQ__ProductCode__c": "PRODRULE-CHILD-B",
            "SBQQ__ProductName__c": "Product Rule Child B",
            "SBQQ__QuantityEditable__c": true,
            "SBQQ__Required__c": false,
            "SBQQ__Selected__c": false,
            "SBQQ__System__c": false,
            "SBQQ__Type__c": "Component",
            "SBQQ__UpliftedByPackage__c": false,
            "SBQQ__UnitPrice__c": 699
          },
          "reconfigureDimensionWarning": "Quantities may only be adjusted from within the configurator during initial configuration.",
          "quantityEditable": true,
          "productQuantityScale": null,
          "priorOptionExists": null,
          "priceEditable": false,
          "localizationByFieldName": {},
          "hasDimension": false,
          "externalConfigurationData": null,
          "exclusionGroups": {},
          "dependentIds": [],
          "controllingGroups": {},
          "configurationRequired": false,
          "configurable": false
        }, {
          "record": {
            "attributes": {
              "type": "SBQQ__ProductOption__c",
              "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EibrMAC"
            },
            "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
            "Id": "a0ZA0000007EibrMAC",
            "OwnerId": "005A00000066GkbIAE",
            "IsDeleted": false,
            "Name": "PO-000422",
            "CurrencyIsoCode": "USD",
            "CreatedDate": "2016-01-14T21:14:30.000+0000",
            "CreatedById": "005A00000066GkbIAE",
            "LastModifiedDate": "2016-01-14T21:14:30.000+0000",
            "LastModifiedById": "005A00000066GkbIAE",
            "SystemModstamp": "2016-01-14T21:14:30.000+0000",
            "SBQQ__AppliedImmediately__c": false,
            "SBQQ__Bundled__c": false,
            "SBQQ__DiscountedByPackage__c": false,
            "SBQQ__Feature__c": "a0YA000000CwaohMAB",
            "SBQQ__Number__c": 30,
            "SBQQ__OptionalSKU__c": "01tA0000004fNmwIAE",
            "SBQQ__PriceEditable__c": "No",
            "SBQQ__ProductCode__c": "PRODRULE-CHILD-C",
            "SBQQ__ProductName__c": "Product Rule Child C",
            "SBQQ__QuantityEditable__c": true,
            "SBQQ__Required__c": false,
            "SBQQ__Selected__c": false,
            "SBQQ__System__c": false,
            "SBQQ__Type__c": "Component",
            "SBQQ__UpliftedByPackage__c": false,
            "SBQQ__UnitPrice__c": 200
          },
          "reconfigureDimensionWarning": "Quantities may only be adjusted from within the configurator during initial configuration.",
          "quantityEditable": true,
          "productQuantityScale": null,
          "priorOptionExists": null,
          "priceEditable": false,
          "localizationByFieldName": {},
          "hasDimension": false,
          "externalConfigurationData": null,
          "exclusionGroups": {},
          "dependentIds": [],
          "controllingGroups": {},
          "configurationRequired": false,
          "configurable": false
        }, {
          "record": {
            "attributes": {
              "type": "SBQQ__ProductOption__c",
              "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007Eic1MAC"
            },
            "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
            "Id": "a0ZA0000007Eic1MAC",
            "OwnerId": "005A00000066GkbIAE",
            "IsDeleted": false,
            "Name": "PO-000423",
            "CurrencyIsoCode": "USD",
            "CreatedDate": "2016-01-14T21:15:08.000+0000",
            "CreatedById": "005A00000066GkbIAE",
            "LastModifiedDate": "2016-01-15T00:32:05.000+0000",
            "LastModifiedById": "005A00000066GkbIAE",
            "SystemModstamp": "2016-01-15T00:32:05.000+0000",
            "SBQQ__AppliedImmediately__c": false,
            "SBQQ__Bundled__c": false,
            "SBQQ__DiscountedByPackage__c": false,
            "SBQQ__Feature__c": "a0YA000000CwaohMAB",
            "SBQQ__Number__c": 40,
            "SBQQ__OptionalSKU__c": "01tA0000004fNn1IAE",
            "SBQQ__PriceEditable__c": "No",
            "SBQQ__ProductCode__c": "PRODRULE-CHILD-D",
            "SBQQ__ProductName__c": "Product Rule Child D",
            "SBQQ__QuantityEditable__c": true,
            "SBQQ__Required__c": false,
            "SBQQ__Selected__c": false,
            "SBQQ__System__c": false,
            "SBQQ__Type__c": "Component",
            "SBQQ__UnitPrice__c": 19,
            "SBQQ__UpliftedByPackage__c": false
          },
          "reconfigureDimensionWarning": "Quantities may only be adjusted from within the configurator during initial configuration.",
          "quantityEditable": true,
          "productQuantityScale": null,
          "priorOptionExists": null,
          "priceEditable": false,
          "localizationByFieldName": {},
          "hasDimension": false,
          "externalConfigurationData": null,
          "exclusionGroups": {},
          "dependentIds": [],
          "controllingGroups": {},
          "configurationRequired": false,
          "configurable": false
        }],
        "optionLookupFieldNames": null,
        "optionFieldSets": {
          "SearchFilters": ["SBQQ__Feature__c", "SBQQ__ProductCode__c", "SBQQ__ProductName__c"],
          "OptionLookup": ["SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__ProductDescription__c"],
          "OptionConfigurationPhone": [],
          "OptionConfigurationTablet": [],
          "OptionConfiguration": ["SBQQ__Quantity__c", "SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__ProductDescription__c", "SBQQ__UnitPrice__c"]
        },
        "localizationByFieldName": {},
        "localizationByFieldByProductId": {},
        "localizationByFieldByDimensionId": {},
        "inheritedConfigurationAttributes": null,
        "features": [{
          "searchFilters": null,
          "record": {
            "attributes": {
              "type": "SBQQ__ProductFeature__c",
              "url": "/services/data/v36.0/sobjects/SBQQ__ProductFeature__c/a0YA000000CwaocMAB"
            },
            "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
            "Id": "a0YA000000CwaocMAB",
            "OwnerId": "005A00000066GkbIAE",
            "IsDeleted": false,
            "Name": "Feature 1",
            "CurrencyIsoCode": "USD",
            "CreatedDate": "2016-01-14T20:40:29.000+0000",
            "CreatedById": "005A00000066GkbIAE",
            "LastModifiedDate": "2016-03-18T21:54:42.000+0000",
            "LastModifiedById": "005A00000066GkbIAE",
            "SystemModstamp": "2016-03-18T21:54:42.000+0000",
            "SBQQ__Category__c": "Software",
            "SBQQ__MaxOptionCount__c": 1,
            "SBQQ__MinOptionCount__c": 0,
            "SBQQ__Number__c": 10,
            "SBQQ__OptionSelectionMethod__c": "Click"
          },
          "localizationByFieldName": {},
          "instructionsText": "Add no more than 1 options",
          "addOptionExcludedFields": "",
          "addOptionDialogTitle": "Add Option",
          "addOptionButtonLabel": "Add Option",
          "additionalInstructions": ""
        }, {
          "searchFilters": null,
          "record": {
            "attributes": {
              "type": "SBQQ__ProductFeature__c",
              "url": "/services/data/v36.0/sobjects/SBQQ__ProductFeature__c/a0YA000000CwaohMAB"
            },
            "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
            "Id": "a0YA000000CwaohMAB",
            "OwnerId": "005A00000066GkbIAE",
            "IsDeleted": false,
            "Name": "Feature 2",
            "CurrencyIsoCode": "USD",
            "CreatedDate": "2016-01-14T20:40:39.000+0000",
            "CreatedById": "005A00000066GkbIAE",
            "LastModifiedDate": "2016-02-12T21:10:51.000+0000",
            "LastModifiedById": "005A00000066GkbIAE",
            "SystemModstamp": "2016-02-12T21:10:51.000+0000",
            "SBQQ__Category__c": "Hardware",
            "SBQQ__MinOptionCount__c": 0,
            "SBQQ__Number__c": 20
          },
          "localizationByFieldName": {},
          "instructionsText": null,
          "addOptionExcludedFields": "",
          "addOptionDialogTitle": "Add Option",
          "addOptionButtonLabel": "Add Option",
          "additionalInstructions": ""
        }],
        "featureCategories": ["Hardware", "Software"],
        "discountSchedules": [],
        "dimensions": [],
        "currencySymbol": "USD ",
        "currencyCode": "USD",
        "costs": [],
        "constraints": [],
        "configuratorLookupFieldNames": null,
        "configuratorFilterFieldNames": null,
        "configurationRules": [],
        "configurationAttributes": [],
        "configuration": {
          "validationMessages": [],
          "searchFilters": null,
          "priceEditable": false,
          "optionId": null,
          "optionData": {
            "attributes": {
              "type": "SBQQ__ProductOption__c"
            }
          },
          "optionConfigurations": [],
          "listPrice": null,
          "lineItemKey": null,
          "lineItemId": null,
          "isDynamicOption": false,
          "inheritedConfigurationData": null,
          "hiddenOptionIds": null,
          "externalConfigurationData": {},
          "disabledOptionIds": null,
          "configuredProductId": "01tA0000004fNNCIA2",
          "configured": false,
          "configurationLabels": {
            "or": "or",
            "and": "and",
            "excludes": "Excludes",
            "requires": "Requires"
          },
          "configurationData": {
            "attributes": {
              "type": "SBQQ__ProductOption__c"
            }
          }
        },
        "blockPrices": []
      });

      _export("CONFIG_MODEL", CONFIG_MODEL);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJDb25maWd1cmVkUHJvZHVjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
"use strict";

System.register("products/mock/ProductOption.js", [], function (_export, _context) {
    var OPTION;
    return {
        setters: [],
        execute: function () {
            _export("OPTION", OPTION = {
                "record": {
                    "attributes": {
                        "type": "SBQQ__ProductOption__c",
                        "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0ZA0000007EhArMAK",
                        "fieldValues": ["PRODRULE-CHILD-A", "ProductRuleChildA", "descripcion"]
                    },
                    "SBQQ__ConfiguredSKU__c": "01tA0000004fNNCIA2",
                    "Id": "a0ZA0000007EhArMAK",
                    "OwnerId": "005A00000066GkbIAE",
                    "IsDeleted": false,
                    "Name": "PO-000419",
                    "CurrencyIsoCode": "USD",
                    "CreatedDate": "2016-01-14T00: 41: 57.000+0000",
                    "CreatedById": "005A00000066GkbIAE",
                    "LastModifiedDate": "2016-01-14T21: 11: 21.000+0000",
                    "LastModifiedById": "005A00000066GkbIAE",
                    "SystemModstamp": "2016-01-14T21: 11: 21.000+0000",
                    "SBQQ__AppliedImmediately__c": false,
                    "SBQQ__Bundled__c": false,
                    "SBQQ__DiscountedByPackage__c": false,
                    "SBQQ__Feature__c": "a0YA000000CwaocMAB",
                    "SBQQ__Number__c": 10,
                    "SBQQ__OptionalSKU__c": "01tA0000004fNNHIA2",
                    "SBQQ__PriceEditable__c": "No",
                    "SBQQ__ProductCode__c": "PRODRULE-CHILD-A",
                    "SBQQ__ProductName__c": "ProductRuleChildA",
                    "SBQQ__QuantityEditable__c": true,
                    "SBQQ__Required__c": false,
                    "SBQQ__Selected__c": false,
                    "SBQQ__System__c": false,
                    "SBQQ__Type__c": "Component",
                    "SBQQ__UnitPrice__c": 119,
                    "SBQQ__UpliftedByPackage__c": false
                },
                "reconfigureDimensionWarning": "Quantitiesmayonlybeadjustedfromwithintheconfiguratorduringinitialconfiguration.",
                "quantityEditable": true,
                "productQuantityScale": null,
                "priorOptionExists": null,
                "priceEditable": false,
                "localizationByFieldName": {},
                "hasDimension": false,
                "externalConfigurationData": null,
                "exclusionGroups": {},
                "dependentIds": [],
                "controllingGroups": {},
                "configurationRequired": false,
                "configurable": false
            });

            _export("OPTION", OPTION);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0T3B0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
"use strict";

System.register("products/mock/Quote.js", [], function (_export, _context) {
    var QUOTE;
    return {
        setters: [],
        execute: function () {
            _export("QUOTE", QUOTE = {
                "nextKey": 6,
                "contractedAccountId": null,
                "lineSortField": null,
                "applyAdditionalDiscountLast": false,
                "applyPartnerDiscountFirst": false,
                "channelDiscountsOffList": false,
                "record": {
                    "attributes": {
                        "type": "SBQQ__Quote__c",
                        "url": "/services/data/v35.0/sobjects/SBQQ__Quote__c/a0ZA0000007CYLTMA4"
                    },
                    "Id": "a0ZA0000007CYLTMA4",
                    "Name": "Q-00000",
                    "SBQQ__Type__c": "Quote",
                    "SBQQ__Account__c": "001A000001HktELIAZ",
                    "SBQQ__SubscriptionTerm__c": 24,
                    "SBQQ__ExpirationDate__c": "2015-12-07",
                    "SBQQ__StartDate__c": "2015-10-26",
                    "SBQQ__NetAmount__c": 18975,
                    "SBQQ__CustomerAmount__c": 18975,
                    "SBQQ__PricebookId__c": "01sA0000000eiYDIAY",
                    "SBQQ__Primary__c": false,
                    "SBQQ__LineItemsGrouped__c": false,
                    "SBQQ__Opportunity2__c": "006A000000TiF29IAF",
                    "SBQQ__Account__r": {
                        "attributes": {
                            "type": "Account",
                            "url": "/services/data/v35.0/sobjects/Account/001A000001HktELIAZ"
                        },
                        "Name": "LinkedIn",
                        "Id": "001A000001HktELIAZ"
                    },
                    "SBQQ__Opportunity2__r": {
                        "attributes": {
                            "type": "Opportunity",
                            "url": "/services/data/v35.0/sobjects/Opportunity/006A000000TiF29IAF"
                        },
                        "Id": "006A000000TiF29IAF",
                        "Pricebook2Id": "01sA0000000eiYDIAY",
                        "AccountId": "001A000001HktELIAZ"
                    },
                    "SBQQ__CustomerDiscount__c": null,
                    "SBQQ__MarkupRate__c": null,
                    "SBQQ__PartnerDiscount__c": null,
                    "SBQQ__EndDate__c": null,
                    "SBQQ__MasterContract__c": null,
                    "SBQQ__QuoteProcessId__c": null,
                    "SBQQ__DistributorDiscount__c": null,
                    "SBQQ__FirstSegmentTermEndDate__c": null
                },
                "deletedGroupIds": [],
                "deletedLineIds": [],
                "favoriteIds": [],
                "associatedPriceRules": [],
                "associatedSummaryVariables": {},
                "associatedAssetsAndSubs": [],
                "hasMultiSegmentLines": false,
                "multiSegmentKeys": {},
                "referencedFieldMap": {
                    "Quote Line": ["Quantity", "SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__AdditionalDiscount__c", "SBQQ__NetTotal__c", "SBQQ__RegularPrice__c", "SBQQ__CustomerPrice__c", "SBQQ__EffectiveQuantity__c", "SBQQ__DiscountScheduleType__c", "SBQQ__Quantity__c", "SBQQ__PriorQuantity__c", "SBQQ__Existing__c", "SBQQ__Renewal__c", "SBQQ__PricingMethod__c", "SBQQ__SubscriptionPricing__c", "SBQQ__ListPrice__c"],
                    "Group": [],
                    "Quote": [],
                    "Opportunity": [],
                    "Account": [],
                    "Product": []
                },
                "referencedProductRecords": {},
                "localizationByFieldByDimensionId": {},
                "localizationByFieldByProductId": {},
                "localizedDimensionNames": {
                    "One-time": "One-time",
                    "Custom": "Custom",
                    "Month": "Month",
                    "Quarter": "Quarter",
                    "Year": "Year"
                },
                "lineItems": [{
                    "record": {
                        "attributes": {
                            "type": "SBQQ__QuoteLine__c",
                            "url": "/services/data/v35.0/sobjects/SBQQ__QuoteLine__c/a0VA0000002p5mEMAQ"
                        },
                        "Id": "a0VA0000002p5mEMAQ",
                        "SBQQ__Quote__c": "a0ZA0000007CYLTMA4",
                        "SBQQ__Product__c": "01tA0000004f3RYIAY",
                        "SBQQ__Number__c": 1,
                        "SBQQ__AdditionalDiscount__c": 2000,
                        "SBQQ__Discount__c": 10,
                        "SBQQ__Bundled__c": false,
                        "SBQQ__ComponentDiscountedByPackage__c": false,
                        "SBQQ__CustomerPrice__c": 18000,
                        "SBQQ__DefaultSubscriptionTerm__c": 12,
                        "SBQQ__ListPrice__c": 10000,
                        "SBQQ__OriginalPrice__c": 10000,
                        "SBQQ__NetPrice__c": 18000,
                        "SBQQ__NonDiscountable__c": false,
                        "SBQQ__NonPartnerDiscountable__c": false,
                        "SBQQ__Optional__c": false,
                        "SBQQ__Bundle__c": false,
                        "SBQQ__PartnerPrice__c": 18000,
                        "SBQQ__PriceEditable__c": false,
                        "SBQQ__ProratedListPrice__c": 20000,
                        "SBQQ__PricingMethod__c": "List",
                        "SBQQ__PricingMethodEditable__c": false,
                        "SBQQ__ProrateMultiplier__c": 2,
                        "SBQQ__Quantity__c": 1,
                        "SBQQ__SpecialPrice__c": 10000,
                        "SBQQ__SubscriptionBase__c": "List",
                        "SBQQ__SubscriptionPricing__c": "Fixed Price",
                        "SBQQ__SubscriptionScope__c": "Quote",
                        "SBQQ__Renewal__c": false,
                        "SBQQ__ProratedPrice__c": 20000,
                        "SBQQ__Taxable__c": false,
                        "SBQQ__Uplift__c": 0,
                        "SBQQ__UpliftAmount__c": 0,
                        "SBQQ__ComponentUpliftedByPackage__c": false,
                        "SBQQ__ProductName__c": "Subscription Product",
                        "SBQQ__Existing__c": false,
                        "SBQQ__EffectiveStartDate__c": "2015-10-26",
                        "SBQQ__RegularPrice__c": 20000,
                        "Name": "QL-0009081",
                        "SBQQ__ProductCode__c": "SP",
                        "SBQQ__CostEditable__c": false,
                        "SBQQ__Hidden__c": false,
                        "SBQQ__NetTotal__c": 18000,
                        "SBQQ__EffectiveQuantity__c": 1,
                        "SBQQ__Product__r": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v35.0/sobjects/Product2/01tA0000004f3RYIAY"
                            },
                            "SBQQ__HasConfigurationAttributes__c": false,
                            "Id": "01tA0000004f3RYIAY"
                        },
                        "SBQQ__Source__c": null,
                        "SBQQ__RequiredBy__c": null,
                        "SBQQ__ProductOption__c": null,
                        "SBQQ__SegmentIndex__c": null,
                        "SBQQ__SegmentLabel__c": null,
                        "SBQQ__SegmentKey__c": null,
                        "SBQQ__Dimension__c": null,
                        "SBQQ__DynamicOptionId__c": null,
                        "SBQQ__AdditionalDiscountAmount__c": null,
                        "SBQQ__AdditionalQuantity__c": null,
                        "SBQQ__BatchQuantity__c": null,
                        "SBQQ__ComponentSubscriptionScope__c": null,
                        "SBQQ__CompoundDiscountRate__c": null,
                        "SBQQ__ContractedPrice__c": null,
                        "SBQQ__Cost__c": null,
                        "SBQQ__DiscountSchedule__c": null,
                        "SBQQ__DistributorDiscount__c": null,
                        "SBQQ__EndDate__c": null,
                        "SBQQ__MarkupRate__c": null,
                        "SBQQ__MarkupAmount__c": null,
                        "SBQQ__MaximumPrice__c": null,
                        "SBQQ__MinimumPrice__c": null,
                        "SBQQ__OptionDiscount__c": null,
                        "SBQQ__OptionDiscountAmount__c": null,
                        "SBQQ__OptionType__c": null,
                        "SBQQ__BundledQuantity__c": null,
                        "SBQQ__PartnerDiscount__c": null,
                        "SBQQ__RenewedAsset__c": null,
                        "SBQQ__RenewedSubscription__c": null,
                        "SBQQ__SpecialPriceType__c": null,
                        "SBQQ__StartDate__c": null,
                        "SBQQ__OriginalUnitCost__c": null,
                        "SBQQ__SubscribedAssetIds__c": null,
                        "SBQQ__SubscriptionCategory__c": null,
                        "SBQQ__SubscriptionPercent__c": null,
                        "SBQQ__SubscriptionTargetPrice__c": null,
                        "SBQQ__SubscriptionTerm__c": null,
                        "SBQQ__TermDiscountSchedule__c": null,
                        "SBQQ__UnitCost__c": null,
                        "SBQQ__ComponentTotal__c": null,
                        "SBQQ__ComponentCost__c": null,
                        "SBQQ__ComponentListTotal__c": null,
                        "SBQQ__DiscountScheduleType__c": null,
                        "SBQQ__PackageProductCode__c": null,
                        "SBQQ__DiscountTier__c": null,
                        "SBQQ__VolumeDiscount__c": null,
                        "SBQQ__BlockPrice__c": null,
                        "SBQQ__TermDiscountTier__c": null,
                        "SBQQ__TermDiscount__c": null,
                        "SBQQ__PriorQuantity__c": null,
                        "SBQQ__PreviousSegmentPrice__c": null,
                        "SBQQ__PreviousSegmentUplift__c": null,
                        "SBQQ__GrossProfit__c": null,
                        "SBQQ__PackageProductDescription__c": null,
                        "SBQQ__OptionLevel__c": null,
                        "SBQQ__UpgradedSubscription__c": null,
                        "SBQQ__UpgradedAsset__c": null,
                        "SBQQ__Description__c": null,
                        "SBQQ__Favorite__c": null,
                        "SBQQ__RequiredBy__r": null,
                        "SBQQ__Group__r": null
                    },
                    "key": 5,
                    "expanded": false,
                    "parentGroupKey": null,
                    "parentItemKey": null,
                    "componentVisibility": null,
                    "validPricebookEntryExists": true,
                    "opportunityLineItemExists": true,
                    "dirty": false,
                    "productQuantityEditable": true,
                    "productQuantityScale": null,
                    "quantityEditable": true,
                    "productPullIns": {
                        "termDiscountLevel": null,
                        "productName": "Subscription Product",
                        "productCode": "SP",
                        "includeInMaintenance": false,
                        "hasConfiguration": false,
                        "excludeFromOpportunity": false,
                        "excludeFromMaintenance": false,
                        "costDiscountSchedule": null,
                        "blockPricingField": "Quantity",
                        "blockPrices": []
                    },
                    "upliftable": false,
                    "renewalPrice": null,
                    "renewedSubscriptionDiscounts": null,
                    "productHasDimensions": false,
                    "dimensionType": null
                }]
            });

            _export("QUOTE", QUOTE);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJRdW90ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
"use strict";

System.register("products/mock/SearchModel.js", [], function (_export, _context) {
    var SEARCH_MODEL;
    return {
        setters: [],
        execute: function () {
            _export("SEARCH_MODEL", SEARCH_MODEL = {
                "targetObjectName": "Product2",
                "searchFilters": [{
                    "valueObject": null,
                    "valueField": null,
                    "type": null,
                    "targetFieldName": "ProductCode",
                    "stringValue": null,
                    "record": {
                        "attributes": {
                            "type": "SBQQ__SearchFilter__c"
                        },
                        "Name": "Product Code",
                        "SBQQ__TargetObject__c": "Product2",
                        "SBQQ__TargetField__c": "ProductCode",
                        "SBQQ__FilterSourceObject__c": "Quote",
                        "SBQQ__FilterSourceField__c": "productcodeProductLookupFilterValue__c",
                        "SBQQ__HiddenSourceObject__c": "Quote",
                        "SBQQ__HiddenSourceField__c": "productcodeProductLookupFilterHidden__c",
                        "SBQQ__Operator__c": "starts with"
                    },
                    "range": false,
                    "hidden": false
                }, {
                    "valueObject": null,
                    "valueField": null,
                    "type": null,
                    "targetFieldName": "Name",
                    "stringValue": null,
                    "record": {
                        "attributes": {
                            "type": "SBQQ__SearchFilter__c"
                        },
                        "Name": "Product Name",
                        "SBQQ__TargetObject__c": "Product2",
                        "SBQQ__TargetField__c": "Name",
                        "SBQQ__FilterSourceObject__c": "Quote",
                        "SBQQ__FilterSourceField__c": "nameProductLookupFilterValue__c",
                        "SBQQ__HiddenSourceObject__c": "Quote",
                        "SBQQ__HiddenSourceField__c": "nameProductLookupFilterHidden__c",
                        "SBQQ__Operator__c": "contains"
                    },
                    "range": false,
                    "hidden": false
                }, {
                    "valueObject": null,
                    "valueField": null,
                    "type": null,
                    "targetFieldName": "Family",
                    "stringValue": null,
                    "record": {
                        "attributes": {
                            "type": "SBQQ__SearchFilter__c"
                        },
                        "Name": "Product Family",
                        "SBQQ__TargetObject__c": "Product2",
                        "SBQQ__TargetField__c": "Family",
                        "SBQQ__FilterSourceObject__c": "Quote",
                        "SBQQ__FilterSourceField__c": "familyProductLookupFilterValue__c",
                        "SBQQ__HiddenSourceObject__c": "Quote",
                        "SBQQ__HiddenSourceField__c": "familyProductLookupFilterHidden__c",
                        "SBQQ__Operator__c": "equals"
                    },
                    "range": false,
                    "hidden": false
                }],
                "searchFilterClosedByDefault": null,
                "results": [{
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009AWrSIAW"
                        },
                        "Product2Id": "01tA0000004ecGtIAI",
                        "UnitPrice": 500,
                        "ProductCode": "APPLIANCE",
                        "Name": "Appliance",
                        "Id": "01uA0000009AWrSIAW",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004ecGtIAI"
                            },
                            "Id": "01tA0000004ecGtIAI",
                            "ProductCode": "APPLIANCE",
                            "Name": "Appliance",
                            "Family": "Maintenance",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009AWrcIAG"
                        },
                        "Product2Id": "01tA0000004ecH3IAI",
                        "UnitPrice": 0,
                        "ProductCode": "MAINT",
                        "Name": "Hardware Maintenance",
                        "Id": "01uA0000009AWrcIAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004ecH3IAI"
                            },
                            "Id": "01tA0000004ecH3IAI",
                            "SBQQ__SubscriptionPricing__c": "Percent Of Total",
                            "SBQQ__SubscriptionPercent__c": 25,
                            "ProductCode": "MAINT",
                            "Name": "Hardware Maintenance",
                            "Family": "Maintenance",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009AWrXIAW"
                        },
                        "Product2Id": "01tA0000004ecGyIAI",
                        "UnitPrice": 100,
                        "ProductCode": "MONITOR",
                        "Name": "Appliance Monitoring",
                        "Id": "01uA0000009AWrXIAW",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004ecGyIAI"
                            },
                            "Id": "01tA0000004ecGyIAI",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "ProductCode": "MONITOR",
                            "Name": "Appliance Monitoring",
                            "Family": "Maintenance",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGi3IAG"
                        },
                        "Product2Id": "01tA0000004fXNMIA2",
                        "UnitPrice": 500,
                        "ProductCode": "NSNB2",
                        "Name": "Non-Subscription Nested Bundle 2",
                        "Id": "01uA0000009BGi3IAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXNMIA2"
                            },
                            "Id": "01tA0000004fXNMIA2",
                            "ProductCode": "NSNB2",
                            "Name": "Non-Subscription Nested Bundle 2",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGi8IAG"
                        },
                        "Product2Id": "01tA0000004fXNRIA2",
                        "UnitPrice": 500,
                        "ProductCode": "NSNB2NSO",
                        "Name": "Non-Subscription Nested Bundle 2 Non-Subscription Option",
                        "Id": "01uA0000009BGi8IAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXNRIA2"
                            },
                            "Id": "01tA0000004fXNRIA2",
                            "ProductCode": "NSNB2NSO",
                            "Name": "Non-Subscription Nested Bundle 2 Non-Subscription Option",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGiIIAW"
                        },
                        "Product2Id": "01tA0000004fXNbIAM",
                        "UnitPrice": 500,
                        "ProductCode": "NSNB2PSO",
                        "Name": "Non-Subscription Nested Bundle 2 Percent Subscription Option",
                        "Id": "01uA0000009BGiIIAW",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXNbIAM"
                            },
                            "Id": "01tA0000004fXNbIAM",
                            "SBQQ__SubscriptionPricing__c": "Percent Of Total",
                            "SBQQ__SubscriptionPercent__c": 20,
                            "ProductCode": "NSNB2PSO",
                            "Name": "Non-Subscription Nested Bundle 2 Percent Subscription Option",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGiDIAW"
                        },
                        "Product2Id": "01tA0000004fXNWIA2",
                        "UnitPrice": 500,
                        "ProductCode": "NSNB2SO",
                        "Name": "Non-Subscription Nested Bundle 2 Subscription Option",
                        "Id": "01uA0000009BGiDIAW",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXNWIA2"
                            },
                            "Id": "01tA0000004fXNWIA2",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "ProductCode": "NSNB2SO",
                            "Name": "Non-Subscription Nested Bundle 2 Subscription Option",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGhyIAG"
                        },
                        "Product2Id": "01tA0000004fXNHIA2",
                        "UnitPrice": 500,
                        "ProductCode": "NSPB2",
                        "Name": "Non-Subscription Parent Bundle 2",
                        "Id": "01uA0000009BGhyIAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXNHIA2"
                            },
                            "Id": "01tA0000004fXNHIA2",
                            "ProductCode": "NSPB2",
                            "Name": "Non-Subscription Parent Bundle 2",
                            "Family": "Maintenance",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGqsIAG"
                        },
                        "Product2Id": "01tA0000004fXPNIA2",
                        "UnitPrice": 100,
                        "ProductCode": "NSPB2NSO",
                        "Name": "Non-Subscription Parent Bundle 2 Non-Subscription Option",
                        "Id": "01uA0000009BGqsIAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXPNIA2"
                            },
                            "Id": "01tA0000004fXPNIA2",
                            "ProductCode": "NSPB2NSO",
                            "Name": "Non-Subscription Parent Bundle 2 Non-Subscription Option",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGr2IAG"
                        },
                        "Product2Id": "01tA0000004fXPXIA2",
                        "UnitPrice": 0,
                        "ProductCode": "NSPB2SO",
                        "Name": "Non-Subscription Parent Bundle 2 Percent Subscription Option",
                        "Id": "01uA0000009BGr2IAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXPXIA2"
                            },
                            "Id": "01tA0000004fXPXIA2",
                            "SBQQ__SubscriptionPricing__c": "Percent Of Total",
                            "SBQQ__SubscriptionPercent__c": 20,
                            "ProductCode": "NSPB2SO",
                            "Name": "Non-Subscription Parent Bundle 2 Percent Subscription Option",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009BGqxIAG"
                        },
                        "Product2Id": "01tA0000004fXPSIA2",
                        "UnitPrice": 500,
                        "ProductCode": "NSPB2SO",
                        "Name": "Non-Subscription Parent Bundle 2 Subscription Option",
                        "Id": "01uA0000009BGqxIAG",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004fXPSIA2"
                            },
                            "Id": "01tA0000004fXPSIA2",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "ProductCode": "NSPB2SO",
                            "Name": "Non-Subscription Parent Bundle 2 Subscription Option",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }, {
                    "record": {
                        "attributes": {
                            "type": "PricebookEntry",
                            "url": "/services/data/v36.0/sobjects/PricebookEntry/01uA0000009AsDIIA0"
                        },
                        "Product2Id": "01tA0000004f3RYIAY",
                        "UnitPrice": 10000,
                        "ProductCode": "SP",
                        "Name": "Subscription Product",
                        "Id": "01uA0000009AsDIIA0",
                        "Product2": {
                            "attributes": {
                                "type": "Product2",
                                "url": "/services/data/v36.0/sobjects/Product2/01tA0000004f3RYIAY"
                            },
                            "Id": "01tA0000004f3RYIAY",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "ProductCode": "SP",
                            "Name": "Subscription Product",
                            "SBQQ__HidePriceInSearchResults__c": false
                        }
                    },
                    "followed": false
                }],
                "resultRowsInit": null,
                "resultLimit": 100,
                "resultFieldNamesTablet": [],
                "resultFieldNamesPhone": [],
                "resultFieldNames": ["ProductCode", "Name", "Family", "Description"],
                "referencedObjects": {},
                "paginationSection": null,
                "isAssetBased": null,
                "defaultCurrencySymbol": "$",
                "totalCount": 12,
                "searchFiltersTabShown": true,
                "resetProductLookup": false,
                "quoteProcess": null,
                "productSortPreferenceFollowed": false,
                "productResultsGroupFieldName": "",
                "productFeedTrackingOn": false,
                "productAutoSelected": null,
                "processInputValues": {},
                "pricebookName": "Standard Price Book",
                "localizationByFieldByProductId": null,
                "guidedSellingTabShown": false,
                "defaultTabName": "GuidedSelling",
                "currentPage": 1
            });

            _export("SEARCH_MODEL", SEARCH_MODEL);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJTZWFyY2hNb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('products/sb-product-config/ProductConfig.js', ['../../common/core/Page.js', '../ConfigViewModel.js'], function (_export, _context) {
	var Page, ConfigViewModel, _createClass, ProductConfig;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	return {
		setters: [function (_commonCorePageJs) {
			Page = _commonCorePageJs.Page;
		}, function (_ConfigViewModelJs) {
			ConfigViewModel = _ConfigViewModelJs.ConfigViewModel;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('ProductConfig', ProductConfig = function (_Page) {
				_inherits(ProductConfig, _Page);

				function ProductConfig() {
					_classCallCheck(this, ProductConfig);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(ProductConfig).apply(this, arguments));
				}

				_createClass(ProductConfig, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-product-config';
						this.properties = Polymer.Base.extend({
							model: {
								type: Object,
								notify: true
							}
						}, Page.properties);
					}
				}, {
					key: 'ready',
					value: function ready() {
						this._handleServiceResponse();

						this._attachListeners();
					}
				}, {
					key: '_handleServiceResponse',
					value: function _handleServiceResponse() {
						this.$.qs.addEventListener('line-editor-model-changed', function (e) {
							this.$.ps.quote = e.detail.value.quote;
							this.headerSubtitle = e.detail.value.headerSubtitle;
						}.bind(this));
						this.$.ps.addEventListener('product-changed', function (e) {
							this.model = new ConfigViewModel(this.$.ps.quote, e.detail.value, this.$.ps.prefix);
						}.bind(this));
					}
				}, {
					key: '_attachListeners',
					value: function _attachListeners() {
						this.addEventListener('routeToOptionLookup', this._routeToPage.bind(this, ['product', 'ol']));
					}
				}, {
					key: '_routeToPage',
					value: function _routeToPage(pathParams, e) {
						this.nav('#', e.detail, pathParams, false);
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return ProductConfig;
			}(Page));

			_export('ProductConfig', ProductConfig);

			;
			Polymer(ProductConfig);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0Q29uZmlnLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/sb-option-lookup/OptionLookup.js', ['../../common/core/Page.js', '../ConfigViewModel.js'], function (_export, _context) {
    var Page, ConfigViewModel, _createClass, OptionLookup;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    function _possibleConstructorReturn(self, call) {
        if (!self) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }

        return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }

    function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
            throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }

        subClass.prototype = Object.create(superClass && superClass.prototype, {
            constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true
            }
        });
        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }

    return {
        setters: [function (_commonCorePageJs) {
            Page = _commonCorePageJs.Page;
        }, function (_ConfigViewModelJs) {
            ConfigViewModel = _ConfigViewModelJs.ConfigViewModel;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('OptionLookup', OptionLookup = function (_Page) {
                _inherits(OptionLookup, _Page);

                function OptionLookup() {
                    _classCallCheck(this, OptionLookup);

                    return _possibleConstructorReturn(this, Object.getPrototypeOf(OptionLookup).apply(this, arguments));
                }

                _createClass(OptionLookup, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-option-lookup';
                        this.properties = Polymer.Base.extend({}, Page.properties);
                    }
                }, {
                    key: 'ready',
                    value: function ready() {
                        this.$.qo.addEventListener('line-editor-model-changed', function (e) {
                            this.$.pr.quote = e.detail.value.quote;
                            this.headerSubtitle = e.detail.value.headerSubtitle;
                        }.bind(this));
                        this.$.pr.addEventListener('product-changed', function (e) {
                            this.model = new ConfigViewModel(this.$.pr.quote, e.detail.value, this.$.pr.prefix);
                            this.feature = this.model.getFeature(this.ctx.params.fId);
                            this.$.optionTable.model = this.model;
                            this.$.optionTable.options = this.model.getOptionsByFeatureId(this.ctx.params.fId, true);
                        }.bind(this));
                    }
                }, {
                    key: 'routeToConfig',
                    value: function routeToConfig() {
                        var queryParams = {
                            qId: this.model.quote.record.Id,
                            pId: this.model.product.record.Id
                        };
                        this.nav('#', queryParams, ['product', 'pc'], false);
                    }
                }, {
                    key: 'behaviors',
                    get: function get() {
                        return [sb.common.core.Page];
                    }
                }]);

                return OptionLookup;
            }(Page));

            _export('OptionLookup', OptionLookup);

            ;
            Polymer(OptionLookup);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJPcHRpb25Mb29rdXAuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('products/sb-product-lookup/ProductLookup.js', ['../../common/core/Page.js'], function (_export, _context) {
    var Page, _createClass, ProductLookup;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    function _possibleConstructorReturn(self, call) {
        if (!self) {
            throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
        }

        return call && (typeof call === "object" || typeof call === "function") ? call : self;
    }

    function _inherits(subClass, superClass) {
        if (typeof superClass !== "function" && superClass !== null) {
            throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
        }

        subClass.prototype = Object.create(superClass && superClass.prototype, {
            constructor: {
                value: subClass,
                enumerable: false,
                writable: true,
                configurable: true
            }
        });
        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }

    return {
        setters: [function (_commonCorePageJs) {
            Page = _commonCorePageJs.Page;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('ProductLookup', ProductLookup = function (_Page) {
                _inherits(ProductLookup, _Page);

                function ProductLookup() {
                    _classCallCheck(this, ProductLookup);

                    return _possibleConstructorReturn(this, Object.getPrototypeOf(ProductLookup).apply(this, arguments));
                }

                _createClass(ProductLookup, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-product-lookup';
                        this.properties = Polymer.Base.extend({}, Page.properties);
                    }
                }, {
                    key: 'ready',
                    value: function ready() {
                        this.$.qo.addEventListener('line-editor-model-changed', function (e) {
                            this.$.pl.quote = e.detail.value.quote;
                        }.bind(this));
                        this.$.pl.addEventListener('search-model-changed', function (e) {
                            e.detail.value.resultFieldNames.push('UnitPrice');
                            this.searchModel = e.detail.value;
                        }.bind(this));
                    }
                }, {
                    key: 'getProductValue',
                    value: function getProductValue(product, name) {
                        return product.record[name] || product.record[this.searchModel.targetObjectName][name];
                    }
                }, {
                    key: 'behaviors',
                    get: function get() {
                        return [sb.common.core.Page];
                    }
                }]);

                return ProductLookup;
            }(Page));

            _export('ProductLookup', ProductLookup);

            Polymer(ProductLookup);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0TG9va3VwLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/sb-product-option-table/ProductOptionTable.js', [], function (_export, _context) {
    var _createClass, ProductOptionTable;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('ProductOptionTable', ProductOptionTable = function () {
                function ProductOptionTable() {
                    _classCallCheck(this, ProductOptionTable);
                }

                _createClass(ProductOptionTable, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-product-option-table';
                        this.properties = {
                            model: Object
                        };
                    }
                }, {
                    key: '_render',
                    value: function _render() {
                        this.fieldSet = this.model.getConfigFieldSet();
                    }
                }, {
                    key: 'observers',
                    get: function get() {
                        return ['_render(model)'];
                    }
                }]);

                return ProductOptionTable;
            }());

            _export('ProductOptionTable', ProductOptionTable);

            ;
            Polymer(ProductOptionTable);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0T3B0aW9uVGFibGUuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('products/sb-product-search/ProductSearch.js', ['common/core/Page.js'], function (_export, _context) {
	var Page, _createClass, TILE, ProductSearch, products, categories;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	function flatten(flat, cats, level) {
		var keys = cats ? Object.keys(cats) : [],
		    len = keys.length;

		for (var i = 0; i < len; i++) {
			var item = cats[keys[i]];
			flat.push({
				label: item.label,
				id: keys[i],
				indent: level
			});
			if (item.kids) flatten(flat, item.kids, level + 1);
		}
	}

	return {
		setters: [function (_commonCorePageJs) {
			Page = _commonCorePageJs.Page;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			TILE = 'tile';

			_export('ProductSearch', ProductSearch = function (_Page) {
				_inherits(ProductSearch, _Page);

				function ProductSearch() {
					_classCallCheck(this, ProductSearch);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(ProductSearch).apply(this, arguments));
				}

				_createClass(ProductSearch, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-product-search';
						this.properties = Polymer.Base.extend({
							categories: {
								type: Object,
								value: function value() {
									return {};
								},
								observer: '_categoriesChanged'
							},
							flatcats: {
								type: Array,
								value: function value() {
									return [];
								}
							},
							products: {
								type: Array,
								value: function value() {
									return [];
								}
							},
							searchcats: {
								type: Array,
								value: function value() {
									return [];
								}
							},
							searchContext: {
								type: Object,
								value: function value() {
									return {
										label: 'All'
									};
								}
							},
							showTiles: {
								type: String,
								value: function value() {
									return TILE;
								}
							}
						}, Page.properties);
					}
				}, {
					key: 'ready',
					value: function ready() {
						this._loadCategoryMenu().then(function (cats) {
							this.categories = cats;
						}.bind(this));

						this._loadProducts().then(function (rows) {
							this.products = rows;
						}.bind(this));
					}
				}, {
					key: '_showFavorites',
					value: function _showFavorites() {}
				}, {
					key: '_showCategory',
					value: function _showCategory(e) {
						var _this2 = this;

						if (e && e.model && e.model.item && e.model.item.id) {
							(function () {
								var categoryId = e.model.item.id;
								_this2.products = products.filter(function (e, i) {
									return e.cat == categoryId;
								});
							})();
						}
					}
				}, {
					key: '_loadCategoryMenu',
					value: function _loadCategoryMenu() {
						return Promise.resolve(categories);
					}
				}, {
					key: '_loadProducts',
					value: function _loadProducts() {
						return Promise.resolve(products);
					}
				}, {
					key: '_categoriesChanged',
					value: function _categoriesChanged(nv) {
						var f = [];
						flatten(f, nv, 0);
						this.flatcats = f;
						this.searchcats = f.filter(function (e, i) {
							return e && e.indent == 0;
						});
					}
				}, {
					key: '_toggleLayout',
					value: function _toggleLayout() {
						this.showTiles = this.showTiles ? false : TILE;
					}
				}, {
					key: '_setSearchContext',
					value: function _setSearchContext(e) {
						this.searchContext = e.model.item;
						e.preventDefault();
					}
				}, {
					key: '_formatMoney',
					value: function _formatMoney(value) {
						return this.format(value, {
							currency: 'USD',
							style: 'currency'
						});
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return ProductSearch;
			}(Page));

			_export('ProductSearch', ProductSearch);

			Polymer(ProductSearch);
			products = [{
				id: 1,
				name: 'Magic Mouse 2',
				code: 'MM2',
				price: 79.00,
				cat: '1014',
				desc: 'Featuring a new design, Magic Mouse 2 is completely rechargeable, so youll eliminate the use of traditional batteries. Its lighter, has fewer moving parts thanks to its built-in battery and continuous bottom shell, and has an optimized foot design  all helping Magic Mouse 2 track easier and move with less resistance across your desk. And the Multi-Touch surface allows you to perform simple gestures such as swiping between web pages and scrolling through documents. Magic Mouse 2 is ready to go right out of the box and pairs automatically with your Mac.'
			}, {
				id: 2,
				name: 'Magic Trackpad 2',
				code: 'TPAD2',
				price: 129.00,
				cat: '1014',
				desc: 'Redesigned and rechargeable, Magic Trackpad 2 includes a built-in battery and brings Force Touch to the desktop for the first time. Four force sensors underneath the trackpad surface allow you to click anywhere, and detect subtle differences in the amount of pressure you apply, bringing increased functionality to your fingertips and enabling a deeper connection to your content. Magic Trackpad 2 also features an edge-to-edge glass surface area that is nearly 30 percent larger than the previous trackpad. This design, along with a lower profile, makes scrolling and swiping through your favorite content more productive and comfortable than ever.'
			}, {
				id: 3,
				name: 'Magic Keyboard',
				code: 'KEY',
				price: 99.00,
				cat: '1014',
				desc: 'The Magic Keyboard combines a sleek new design with a built-in rechargeable battery and enhanced key features. With an improved scissor mechanism beneath each key for increased stability, as well as optimized key travel and a lower profile, the Magic Keyboard provides a remarkably comfortable and precise typing experience. It pairs automatically with your Mac, so you can get to work right away. And the battery is incredibly long-lasting  it will power your keyboard for about a month or more between charges.'
			}, {
				id: 4,
				name: 'Naim Audio mu-so Wireless Speaker System',
				code: 'AUDO',
				price: 1499.95,
				cat: '1014',
				desc: 'Naim Audio\'s mu-so is a wireless music system finely tuned to deliver high-quality sound. Commanding 450 watts of power through six custom-designed speakers, mu-so provides a music experience that has to be heard to be believed.'
			}, {
				id: 5,
				name: 'Microsoft Word',
				code: 'WORD',
				price: 79.00,
				cat: '1022',
				desc: 'Create, polish, and share beautiful documents. Now sharing and collaborating with the team is a breeze. The new Word allows you to co-author and edit documents with multiple people at the same timewhether youre in the same room or across the globe. And cloud integration makes sharing docs a cinch.'
			}, {
				id: 6,
				name: 'Microsoft Excel',
				code: 'EXCEL',
				price: 89.00,
				cat: '1022',
				desc: 'Analyze and visualize your data in new and intuitive ways. Turn numbers into insights with the new Excel. PivotTable Slicers help you discover patterns in large volumes of data, and Recommended Charts gives you the best charts to communicate your data. One-Click Forecasting automatically scans worksheets for data trends and formats them into charts and tables.'
			}, {
				id: 7,
				name: 'Microsoft Office 365 1-year',
				code: 'OFFICE-1',
				price: 149.00,
				cat: '1021',
				desc: 'Great for 1 PC or Mac, and 1 iPad, Office 365 helps you get things done from virtually anywhere, on all your devices. Plus, every new upgrade is included so youll always have the most up-to-date versions or applications.'
			}, {
				id: 8,
				name: 'Microsoft Office 365 2-year',
				code: 'OFFICE-2',
				price: 289.00,
				cat: '1021',
				desc: 'Great for 1 PC or Mac, and 1 iPad, Office 365 helps you get things done from virtually anywhere, on all your devices. Plus, every new upgrade is included so youll always have the most up-to-date versions or applications.'
			}, {
				id: 9,
				name: 'Microsoft Office 365 3-year',
				code: 'OFFICE-3',
				price: 329.00,
				cat: '1021',
				desc: 'Great for 1 PC or Mac, and 1 iPad, Office 365 helps you get things done from virtually anywhere, on all your devices. Plus, every new upgrade is included so youll always have the most up-to-date versions or applications.'
			}, {
				id: 10,
				name: 'Macbook Air',
				code: 'MBOOK-AIR',
				price: 1299.00,
				cat: '1012',
				desc: 'Fifth-generation Intel Core processors in MacBook Air give you more time to do more things. Add that to an array of other smart and efficient features, and you have an incredible amount of power in your hands. While carrying next to nothing.'
			}, {
				id: 11,
				name: 'Macbook Pro',
				code: 'MBOOK-PRO',
				price: 2499.00,
				cat: '1012',
				desc: 'A groundbreaking Retina display. A new force-sensing trackpad. All-flash architecture. Powerful dual-core and quad-core Intel processors. Together, these features take the notebook to a new level of performance. And they will do the same for you in everything you create.'
			}, {
				id: 12,
				name: 'Mac Pro',
				code: 'M-PRO',
				price: 4300.00,
				cat: '1011',
				desc: 'When we began work on the new Mac Pro, we considered every element that defines a pro computer  graphics, storage, expansion, processing power, and memory. And we challenged ourselves to find the best, most forward-looking way possible to engineer each one of them. When we put it all together, the result was something entirely new. Something radically different from anything before it. Something that provides an extremely powerful argument against the status quo'
			}];
			categories = {
				'1020': {
					label: 'Software',
					kids: {
						'1021': {
							label: 'Subscriptions'
						},
						'1022': {
							label: 'Licenses'
						}
					}
				},
				'1010': {
					label: 'Hardware',
					kids: {
						'1011': {
							label: 'Servers'
						},
						'1012': {
							label: 'Laptops'
						},
						'1013': {
							label: 'Routers'
						},
						'1014': {
							label: 'Accessories'
						}
					}
				},
				'1030': {
					label: 'Services',
					kids: {
						'1031': {
							label: 'Training'
						},
						'1032': {
							label: 'Support'
						}
					}
				}
			};
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0U2VhcmNoLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/sb-product-option/ProductOption.js', [], function (_export, _context) {
    var _createClass, ProductOption;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('ProductOption', ProductOption = function () {
                function ProductOption() {
                    _classCallCheck(this, ProductOption);
                }

                _createClass(ProductOption, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-product-option';
                    }
                }]);

                return ProductOption;
            }());

            _export('ProductOption', ProductOption);

            ;
            Polymer(ProductOption);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0T3B0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/sb-product-feature/ProductFeature.js', [], function (_export, _context) {
    var _createClass, ProductFeature;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('ProductFeature', ProductFeature = function () {
                function ProductFeature() {
                    _classCallCheck(this, ProductFeature);
                }

                _createClass(ProductFeature, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = "sb-product-feature";
                        this.properties = {
                            featureId: String,
                            model: Object
                        };
                    }
                }, {
                    key: '_render',
                    value: function _render() {
                        this.feature = this.model.getFeature(this.featureId);

                        this._setSelectionMethodBooleans();

                        if (this.isClick) {
                            this.options = this.model.getOptionsByFeatureId(this.featureId, true);
                        }
                    }
                }, {
                    key: '_setSelectionMethodBooleans',
                    value: function _setSelectionMethodBooleans() {
                        this.isClick = this.model.selectionMethodIs('Click', this.feature);
                        this.isAdd = this.model.selectionMethodIs('Add', this.feature);
                    }
                }, {
                    key: 'routeToLookup',
                    value: function routeToLookup() {
                        var queryParams = {
                            qId: this.model.quote.record.Id,
                            pId: this.model.product.record.Id,
                            fId: this.featureId
                        };
                        this.fire('routeToOptionLookup', queryParams);
                    }
                }, {
                    key: 'observers',
                    get: function get() {
                        return ['_render(featureId, model)'];
                    }
                }]);

                return ProductFeature;
            }());

            _export('ProductFeature', ProductFeature);

            ;
            Polymer(ProductFeature);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0RmVhdHVyZS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
"use strict";System.register("quotes/mock/EditorViewModel.js",[],function(_export,_context){var DATA;return {setters:[],execute:function(){_export("DATA",DATA={"userType":"Standard","subscriptionScopeOptions":[{"value":"Quote","label":"Quote"},{"value":"Group","label":"Group"}],"subscriptionBaseOptions":[{"value":"List","label":"List"},{"value":"Regular","label":"Regular"},{"value":"Customer","label":"Customer"},{"value":"Net","label":"Net"}],"solutionGroups":null,"settings":{"webQuoteLineSummaryFields":[],"usesClientCalculator":true,"usesBackgroundCalculator":false,"upgradeAssetsButtonRendered":false,"subscriptionTermUnitIsDay":false,"subscriptionProratePrecision":"month","solutionGroupsEnabled":false,"solutionGroupNameField":"Name","solutionGroupDescriptionField":"SBQQ__Description__c","renewSubscriptionsButtonRendered":false,"renewedAssetsHiddenWhenEditing":false,"renewalQuotesWithoutAssetsAllowed":false,"referencedFieldMap":{"Product2":["ProductCode","Name"],"Quote Line":["SBQQ__ProductCode__c","SBQQ__ProductName__c","SBQQ__Quantity__c","SBQQ__ListPrice__c","SBQQ__AdditionalDiscount__c","SBQQ__RegularPrice__c","SBQQ__CustomerPrice__c","SBQQ__EffectiveQuantity__c","SBQQ__DiscountScheduleType__c","SBQQ__PriorQuantity__c","SBQQ__Existing__c","SBQQ__Renewal__c","SBQQ__PricingMethod__c","SBQQ__SubscriptionPricing__c","SBQQ__NetPrice__c","SBQQ__NetTotal__c"],"Group":["Name","SBQQ__Optional__c","SBQQ__SubscriptionTerm__c","SBQQ__AdditionalDiscountRate__c","SBQQ__Description__c"],"Quote":[]},"quoteLookups":{},"quoteLineSummaryFields":[],"quantityScale":2,"prorateAmountDiscountFieldName":null,"productHierarchyVisualized":true,"priceScale":2,"overageRateFieldName":null,"multiLineDeleteEnabled":true,"msgRequiredBy":"Required by {0}","lineLookups":{"SBQQ__Product__c":"Product2"},"jsqcPlugin":null,"jsqcLabels":{"msg_js_no_metadata_for_field":"{0} is a non-universal standard Salesforce field. If any formulas using {0} are failing, please consult [DUMMY KNOWLEDGE BASE ARTICLE].","msg_js_warn_condition_field_undefined":"Warning: Price Condition [{0}] tests against Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.","msg_sv_date_op_conflict_err":"Summary Variable [{0}] is non-numeric, and cannot be composed using Composite Operator {1}. Contact your SteelBrick Administrator.","msg_sumvar_composition_err":"Summary Variable [{0}] cannot be composed with Summary Variable [{1}]. Contact your SteelBrick Administrator.","msg_js_warn_src_action_field_null":"Warning: Price Action [{0}] references Source Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.","msg_js_err_no_advanced_condition":"Error: Price Rule [{0}] is missing Advanced Condition logic","msg_js_err_bad_advanced_condition":"Error: Price Rule [{0}] has an improperly formatted Advanced Condition","msg_no_block_price_for_quantity":"Error: Product [{0}] has no block price for this quantity. Please contact your administrator.","msg_js_err_sv_unrecognized_comp_op":"Error calculating Summary Variable [{0}]: Unrecognized composite operator {1}.","msg_js_err_invalid_op_price_condition":"Invalid operator {0} used on Price Condition [{1}]","msg_multiple_lookup_results":"Price Rule [{0}]: Multiple results returned from the query. Please contact your SteelBrick administrator.","msg_js_err_no_such_label":"Error: No custom label exists for the key {0}. Please contact your SteelBrick admin.","msg_js_err_id_conversion":"ID Conversion Error: Id [{0}] is neither 15 nor 18 characters long.","msg_js_err_sv_circular_reference":"Error calculating Summary Variable [{0}]: Circular Reference.","msg_js_err_sv_unsupported_aggregate":"Summary Variable [{0}] references unsupported aggregate function {1}","msg_js_err_sv_missing_aggregate":"Summary Variable [{0}] is missing an aggregate function","msg_js_err_sv_invalid_op":"Summary Variable [{0}] uses operator {1}, which is invalid.","msg_js_err_condition_target_object":"Ill-formed Price Condition [{0}]: Target must be either a Summary Variable, Quote, or Quote Line","msg_js_err_invalid_lookup_operator":"Invalid Operator {0} in Lookup Query [{1}]","msg_js_err_condition_targets_field_or_sv":"Ill-formed Price Condition: Must target either a Field, Summary Variable, or Formula [{0}]","msg_js_err_prorate_divide_by_zero":"Division by zero while calculating prorate multiplier","msg_js_err_unsupported_binary":"Formula Field {0} uses an unsupported binary operator {1}","msg_js_err_unsupported_unary":"Formula Field {0} uses an unsupported unary operator {1}","msg_js_err_unsupported_formula":"Formula Field {0} uses the formula {1}, which is unsupported.","msg_js_err_invalid_date":"Error while evaluating Formula Field {0}: invalid date","msg_js_err_unexpected_ast":"Syntax Error while evaluating Formula Field {0}. Please contact your SteelBrick Administrator.","msg_js_err_unsupported_lookup":"Formula Field {0} references lookup field {1}, which is unsupported.","msg_js_err_unsupported_global":"Formula Field {0} references global variable {1}.{2}, which is unsupported.","msg_js_err_no_metadata":"No metadata was retrieved for field {0}","msg_js_err_null_discount_tier":"Error: Discount Tier must not be null"},"isRenewedAssetsHiddenWhenEditing":false,"isMultiCurrencyOrg":false,"includeNetNewInMaintenanceEnabled":false,"hasQuotePriceRules":false,"groupNameRequired":true,"groupLookups":{},"discountsUseCustomExclusionField":false,"dimensionValueLabelMap":{"One-time":"One-time","Custom":"Custom","Month":"Month","Quarter":"Quarter","Year":"Year"},"developerPrefix":"SBQQ__","currencySymbol":"$","currencyIsoCodes":null,"closeSearchFilterByDefault":false,"calculateImmediately":false,"bundleKeptTogether":true,"allowsNonConsecutiveCustomSegments":true,"actionsColumnPlacement":null},"referencedObjects":{},"quoteProcesses":[],"quoteObjectName":"SBQQ__Quote__c","quoteLineObjectName":"SBQQ__QuoteLine__c","quoteFieldsSectionTitle":"Quote Information","quoteFieldNames":[],"quote":{"summaries":{},"regularProductTotal":null,"referencedProductRecords":null,"record":{"attributes":{"type":"SBQQ__Quote__c","url":"/services/data/v36.0/sobjects/SBQQ__Quote__c/a0hA000000BlYukIAF"},"Id":"a0hA000000BlYukIAF","Name":"Q-00011","SBQQ__Type__c":"Quote","SBQQ__Account__c":"001A000001KB1isIAD","SBQQ__ExpirationDate__c":"2016-03-26","SBQQ__NetAmount__c":400436,"SBQQ__CustomerAmount__c":400436,"SBQQ__PricebookId__c":"01sA0000000hBvpIAE","SBQQ__Primary__c":true,"SBQQ__LineItemsGrouped__c":true,"SBQQ__Account__r":{"attributes":{"type":"Account","url":"/services/data/v36.0/sobjects/Account/001A000001KB1isIAD"},"Id":"001A000001KB1isIAD","Name":"ParentTestAccount","SBQQ__RenewalModel__c":"Contract Based"},"SBQQ__CustomerDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__StartDate__c":null,"SBQQ__EndDate__c":null,"SBQQ__MasterContract__c":null,"SBQQ__QuoteProcessId__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__FirstSegmentTermEndDate__c":null,"SBQQ__GenerateContractedPrice__c":null},"nextKey":17,"netTotal":400436,"netProductTotal":null,"netNonSegmentTotal":400800,"netMultiSegmentTotal":{"Custom":-364},"multiSegmentRowTotals":{"1457633362243":-91,"1457633294431":-91,"1456424286686":-182},"multiSegmentRowExpanded":{"1457633362243":false,"1457633294431":false,"1456424286686":false},"multiSegmentKeys":{"1457633362243":"Custom","1457633294431":"Custom","1456424286686":"Custom"},"multiSegmentColumnTotals":{"Custom":{"Second":-91,"Custom":-273}},"multiSegmentColumns":{"Custom":["Custom","Second"]},"localizedMultiSegmentColumns":{"Custom":["Custom","Second"]},"localizedDimensionNames":{"One-time":"One-time","Custom":"Custom","Month":"Month","Quarter":"Quarter","Year":"Year"},"localizationByFieldByProductId":{},"localizationByFieldByDimensionId":{},"listProductTotal":null,"lineSortField":null,"lineSecondarySortField":null,"lineItems":[{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000BljbTIAR"},"Id":"a0dA000000BljbTIAR","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FeUqIAK","SBQQ__Number__c":1,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Custom","SBQQ__SegmentKey__c":"1456424286686","SBQQ__Dimension__c":"a09A000001003S2IAI","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":-91,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__EndDate__c":"2017-02-24","SBQQ__ListPrice__c":9,"SBQQ__OriginalPrice__c":15000,"SBQQ__NetPrice__c":-91,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":-91,"SBQQ__PriceEditable__c":true,"SBQQ__ProratedListPrice__c":9,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":9,"SBQQ__StartDate__c":"2016-02-25","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":9,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"School Year","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-02-25","SBQQ__EffectiveEndDate__c":"2017-02-24","SBQQ__RegularPrice__c":-91,"SBQQ__CostEditable__c":false,"SBQQ__Description__c":"The best school year tuition can buy.","SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":-91,"SBQQ__ProductCode__c":"SCHOOLYEAR","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKJnIAO","SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"Id":"a09A000001003S2IAI","SBQQ__Type__c":"Custom","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FeUqIAK"},"Id":"01tA0000005FeUqIAK","Name":"School Year","ProductCode":"SCHOOLYEAR","Description":"The best school year tuition can buy.","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__Dimensions__r":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"SBQQ__Product__c":"01tA0000005FeUqIAK","Id":"a09A000001003S2IAI","OwnerId":"005A0000006sJFzIAM","IsDeleted":false,"Name":"In Season","CreatedDate":"2016-01-29T23:42:43.000+0000","CreatedById":"005A0000006sJFzIAM","LastModifiedDate":"2016-03-11T23:31:23.000+0000","LastModifiedById":"005A0000006sJFzIAM","SystemModstamp":"2016-03-11T23:31:23.000+0000","SBQQ__CostEditable__c":"Inherit","SBQQ__NonDiscountable__c":"Inherit","SBQQ__NonPartnerDiscountable__c":"Inherit","SBQQ__PriceEditable__c":"Yes","SBQQ__QuantityEditable__c":"Inherit","SBQQ__Taxable__c":"Inherit","SBQQ__Type__c":"Custom","SBQQ__UnitPrice__c":9}]},"PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQBSKIA5"},"Product2Id":"01tA0000005FeUqIAK","Id":"01uA000000OQBSKIA5","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":15000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":2,"opportunityLineItemExists":false,"key":7,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Custom","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":true,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blmy8IAB"},"Id":"a0dA000000Blmy8IAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FeUqIAK","SBQQ__Number__c":1,"SBQQ__SegmentIndex__c":2,"SBQQ__SegmentLabel__c":"Second","SBQQ__SegmentKey__c":"1456424286686","SBQQ__Dimension__c":"a09A000001003S2IAI","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":-91,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__EndDate__c":"2019-03-12","SBQQ__ListPrice__c":9,"SBQQ__OriginalPrice__c":15000,"SBQQ__NetPrice__c":-91,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":-91,"SBQQ__PriceEditable__c":true,"SBQQ__ProratedListPrice__c":9,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":9,"SBQQ__StartDate__c":"2017-02-25","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":9,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"School Year","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-02-25","SBQQ__EffectiveEndDate__c":"2019-03-12","SBQQ__RegularPrice__c":-91,"SBQQ__CostEditable__c":false,"SBQQ__Description__c":"The best school year tuition can buy.","SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":-91,"SBQQ__ProductCode__c":"SCHOOLYEAR","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKJnIAO","SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"Id":"a09A000001003S2IAI","SBQQ__Type__c":"Custom","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FeUqIAK"},"Id":"01tA0000005FeUqIAK","Name":"School Year","ProductCode":"SCHOOLYEAR","Description":"The best school year tuition can buy.","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__Dimensions__r":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"SBQQ__Product__c":"01tA0000005FeUqIAK","Id":"a09A000001003S2IAI","OwnerId":"005A0000006sJFzIAM","IsDeleted":false,"Name":"In Season","CreatedDate":"2016-01-29T23:42:43.000+0000","CreatedById":"005A0000006sJFzIAM","LastModifiedDate":"2016-03-11T23:31:23.000+0000","LastModifiedById":"005A0000006sJFzIAM","SystemModstamp":"2016-03-11T23:31:23.000+0000","SBQQ__CostEditable__c":"Inherit","SBQQ__NonDiscountable__c":"Inherit","SBQQ__NonPartnerDiscountable__c":"Inherit","SBQQ__PriceEditable__c":"Yes","SBQQ__QuantityEditable__c":"Inherit","SBQQ__Taxable__c":"Inherit","SBQQ__Type__c":"Custom","SBQQ__UnitPrice__c":9}]},"PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQBSKIA5"},"Product2Id":"01tA0000005FeUqIAK","Id":"01uA000000OQBSKIA5","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":15000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":2,"opportunityLineItemExists":false,"key":8,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Custom","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blk2kIAB"},"Id":"a0dA000000Blk2kIAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FveCIAS","SBQQ__Number__c":2,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":99900,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__ListPrice__c":100000,"SBQQ__OriginalPrice__c":100000,"SBQQ__NetPrice__c":99900,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":99900,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":100000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":100000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":100000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"AnotherProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":99900,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":99900,"SBQQ__ProductCode__c":"ANTPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKJnIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FveCIAS"},"Id":"01tA0000005FveCIAS","Name":"AnotherProduct","ProductCode":"ANTPROD","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQK3qIAH"},"Product2Id":"01tA0000005FveCIAS","Id":"01uA000000OQK3qIAH","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":100000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":2,"opportunityLineItemExists":false,"key":9,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000BlmsxIAB"},"Id":"a0dA000000BlmsxIAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FeUqIAK","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Custom","SBQQ__SegmentKey__c":"1457633294431","SBQQ__Dimension__c":"a09A000001003S2IAI","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":-91,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__EndDate__c":"2017-03-09","SBQQ__ListPrice__c":9,"SBQQ__OriginalPrice__c":15000,"SBQQ__NetPrice__c":-91,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":-91,"SBQQ__PriceEditable__c":true,"SBQQ__ProratedListPrice__c":9,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":9,"SBQQ__StartDate__c":"2016-03-10","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Group","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":9,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"School Year","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-03-10","SBQQ__EffectiveEndDate__c":"2017-03-09","SBQQ__RegularPrice__c":-91,"SBQQ__CostEditable__c":false,"SBQQ__Description__c":"The best school year tuition can buy.","SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":-91,"SBQQ__ProductCode__c":"SCHOOLYEAR","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRrIAO","SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"Id":"a09A000001003S2IAI","SBQQ__Type__c":"Custom","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FeUqIAK"},"Id":"01tA0000005FeUqIAK","Name":"School Year","ProductCode":"SCHOOLYEAR","Description":"The best school year tuition can buy.","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__Dimensions__r":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"SBQQ__Product__c":"01tA0000005FeUqIAK","Id":"a09A000001003S2IAI","OwnerId":"005A0000006sJFzIAM","IsDeleted":false,"Name":"In Season","CreatedDate":"2016-01-29T23:42:43.000+0000","CreatedById":"005A0000006sJFzIAM","LastModifiedDate":"2016-03-11T23:31:23.000+0000","LastModifiedById":"005A0000006sJFzIAM","SystemModstamp":"2016-03-11T23:31:23.000+0000","SBQQ__CostEditable__c":"Inherit","SBQQ__NonDiscountable__c":"Inherit","SBQQ__NonPartnerDiscountable__c":"Inherit","SBQQ__PriceEditable__c":"Yes","SBQQ__QuantityEditable__c":"Inherit","SBQQ__Taxable__c":"Inherit","SBQQ__Type__c":"Custom","SBQQ__UnitPrice__c":9}]},"PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQBSKIA5"},"Product2Id":"01tA0000005FeUqIAK","Id":"01uA000000OQBSKIA5","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":15000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":3,"opportunityLineItemExists":false,"key":10,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Custom","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000BlmsyIAB"},"Id":"a0dA000000BlmsyIAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FveCIAS","SBQQ__Number__c":4,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":99900,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__ListPrice__c":100000,"SBQQ__OriginalPrice__c":100000,"SBQQ__NetPrice__c":99900,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":99900,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":100000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":100000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Group","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":100000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"AnotherProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":99900,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":99900,"SBQQ__ProductCode__c":"ANTPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRrIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FveCIAS"},"Id":"01tA0000005FveCIAS","Name":"AnotherProduct","ProductCode":"ANTPROD","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQK3qIAH"},"Product2Id":"01tA0000005FveCIAS","Id":"01uA000000OQK3qIAH","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":100000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":3,"opportunityLineItemExists":false,"key":11,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000BlmszIAB"},"Id":"a0dA000000BlmszIAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005Fx8QIAS","SBQQ__Number__c":5,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":400,"SBQQ__DefaultSubscriptionTerm__c":12,"SBQQ__ListPrice__c":400,"SBQQ__OriginalPrice__c":400,"SBQQ__NetPrice__c":400,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":400,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":400,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":400,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__SubscriptionScope__c":"Group","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":400,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"FixedPriceProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":400,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":400,"SBQQ__ProductCode__c":"FXPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRrIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005Fx8QIAS"},"Id":"01tA0000005Fx8QIAS","Name":"FixedPriceProduct","ProductCode":"FXPROD","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionTerm__c":12,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQKUhIAP"},"Product2Id":"01tA0000005Fx8QIAS","Id":"01uA000000OQKUhIAP","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":400,"IsActive":true}]}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":3,"opportunityLineItemExists":false,"key":12,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blmt2IAB"},"Id":"a0dA000000Blmt2IAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FveCIAS","SBQQ__Number__c":6,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":99900,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__ListPrice__c":100000,"SBQQ__OriginalPrice__c":100000,"SBQQ__NetPrice__c":99900,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":99900,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":100000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":100000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Group","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":100000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"AnotherProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":99900,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":99900,"SBQQ__ProductCode__c":"ANTPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRsIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FveCIAS"},"Id":"01tA0000005FveCIAS","Name":"AnotherProduct","ProductCode":"ANTPROD","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQK3qIAH"},"Product2Id":"01tA0000005FveCIAS","Id":"01uA000000OQK3qIAH","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":100000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":4,"opportunityLineItemExists":false,"key":13,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blmt3IAB"},"Id":"a0dA000000Blmt3IAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FeUqIAK","SBQQ__Number__c":7,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Custom","SBQQ__SegmentKey__c":"1457633362243","SBQQ__Dimension__c":"a09A000001003S2IAI","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":-91,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__EndDate__c":"2017-03-09","SBQQ__ListPrice__c":9,"SBQQ__OriginalPrice__c":15000,"SBQQ__NetPrice__c":-91,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":-91,"SBQQ__PriceEditable__c":true,"SBQQ__ProratedListPrice__c":9,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":9,"SBQQ__StartDate__c":"2016-03-10","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Group","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":9,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"School Year","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-03-10","SBQQ__EffectiveEndDate__c":"2017-03-09","SBQQ__RegularPrice__c":-91,"SBQQ__CostEditable__c":false,"SBQQ__Description__c":"The best school year tuition can buy.","SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":-91,"SBQQ__ProductCode__c":"SCHOOLYEAR","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRwIAO","SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"Id":"a09A000001003S2IAI","SBQQ__Type__c":"Custom","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FeUqIAK"},"Id":"01tA0000005FeUqIAK","Name":"School Year","ProductCode":"SCHOOLYEAR","Description":"The best school year tuition can buy.","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__Dimensions__r":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a09A000001003S2IAI"},"SBQQ__Product__c":"01tA0000005FeUqIAK","Id":"a09A000001003S2IAI","OwnerId":"005A0000006sJFzIAM","IsDeleted":false,"Name":"In Season","CreatedDate":"2016-01-29T23:42:43.000+0000","CreatedById":"005A0000006sJFzIAM","LastModifiedDate":"2016-03-11T23:31:23.000+0000","LastModifiedById":"005A0000006sJFzIAM","SystemModstamp":"2016-03-11T23:31:23.000+0000","SBQQ__CostEditable__c":"Inherit","SBQQ__NonDiscountable__c":"Inherit","SBQQ__NonPartnerDiscountable__c":"Inherit","SBQQ__PriceEditable__c":"Yes","SBQQ__QuantityEditable__c":"Inherit","SBQQ__Taxable__c":"Inherit","SBQQ__Type__c":"Custom","SBQQ__UnitPrice__c":9}]},"PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQBSKIA5"},"Product2Id":"01tA0000005FeUqIAK","Id":"01uA000000OQBSKIA5","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":15000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":5,"opportunityLineItemExists":false,"key":14,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Custom","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blmt4IAB"},"Id":"a0dA000000Blmt4IAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005FveCIAS","SBQQ__Number__c":8,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":99900,"SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__ListPrice__c":100000,"SBQQ__OriginalPrice__c":100000,"SBQQ__NetPrice__c":99900,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":99900,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":100000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":100000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Group","SBQQ__DiscountScheduleType__c":"Range","SBQQ__Renewal__c":false,"SBQQ__DiscountTier__c":"a0CA000000kgmsuMAA","SBQQ__VolumeDiscount__c":100,"SBQQ__ProratedPrice__c":100000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"AnotherProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":99900,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":99900,"SBQQ__ProductCode__c":"ANTPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRwIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005FveCIAS"},"Id":"01tA0000005FveCIAS","Name":"AnotherProduct","ProductCode":"ANTPROD","SBQQ__DiscountSchedule__c":"a0BA000000nv2IyMAI","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQK3qIAH"},"Product2Id":"01tA0000005FveCIAS","Id":"01uA000000OQK3qIAH","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":100000,"IsActive":true}]},"SBQQ__DiscountSchedule__r":{"attributes":{"type":"SBQQ__DiscountSchedule__c","url":"/services/data/v36.0/sobjects/SBQQ__DiscountSchedule__c/a0BA000000nv2IyMAI"},"Id":"a0BA000000nv2IyMAI","SBQQ__Type__c":"Range","SBQQ__CrossOrders__c":false}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":5,"opportunityLineItemExists":false,"key":15,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blmt5IAB"},"Id":"a0dA000000Blmt5IAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005Fx8QIAS","SBQQ__Number__c":9,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":400,"SBQQ__DefaultSubscriptionTerm__c":12,"SBQQ__ListPrice__c":400,"SBQQ__OriginalPrice__c":400,"SBQQ__NetPrice__c":400,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":400,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":400,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":400,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__SubscriptionScope__c":"Group","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":400,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"FixedPriceProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":400,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":400,"SBQQ__ProductCode__c":"FXPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRwIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005Fx8QIAS"},"Id":"01tA0000005Fx8QIAS","Name":"FixedPriceProduct","ProductCode":"FXPROD","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionTerm__c":12,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQKUhIAP"},"Product2Id":"01tA0000005Fx8QIAS","Id":"01uA000000OQKUhIAP","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":400,"IsActive":true}]}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":5,"opportunityLineItemExists":false,"key":16,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"},{"validPricebookEntryExists":true,"upliftable":false,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0dA000000Blmt6IAB"},"Id":"a0dA000000Blmt6IAB","SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Product__c":"01tA0000005Fx8QIAS","SBQQ__Number__c":10,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":400,"SBQQ__DefaultSubscriptionTerm__c":12,"SBQQ__ListPrice__c":400,"SBQQ__OriginalPrice__c":400,"SBQQ__NetPrice__c":400,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":400,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":400,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":400,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__SubscriptionScope__c":"Group","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":400,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"FixedPriceProduct","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":400,"SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":400,"SBQQ__ProductCode__c":"FXPROD","SBQQ__EffectiveQuantity__c":1,"SBQQ__Group__c":"a0cA0000008PKRwIAO","SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000005Fx8QIAS"},"Id":"01tA0000005Fx8QIAS","Name":"FixedPriceProduct","ProductCode":"FXPROD","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__PriceEditable__c":false,"SBQQ__DefaultQuantity__c":1,"SBQQ__QuantityEditable__c":true,"SBQQ__CostEditable__c":false,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__SubscriptionTerm__c":12,"SBQQ__SubscriptionBase__c":"List","SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__OptionSelectionMethod__c":"Click","SBQQ__Optional__c":false,"SBQQ__Taxable__c":false,"SBQQ__CustomConfigurationRequired__c":false,"SBQQ__Hidden__c":false,"SBQQ__ReconfigurationDisabled__c":false,"SBQQ__ExcludeFromOpportunity__c":false,"SBQQ__DescriptionLocked__c":false,"SBQQ__ExcludeFromMaintenance__c":false,"SBQQ__IncludeInMaintenance__c":false,"SBQQ__NewQuoteGroup__c":false,"SBQQ__SubscriptionType__c":"Renewable","SBQQ__AssetConversion__c":"One per quote line","SBQQ__BlockPricingField__c":"Quantity","SBQQ__HasConfigurationAttributes__c":false,"SBQQ__DefaultPricingTable__c":"Segmented","PricebookEntries":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"PricebookEntry","url":"/services/data/v36.0/sobjects/PricebookEntry/01uA000000OQKUhIAP"},"Product2Id":"01tA0000005Fx8QIAS","Id":"01uA000000OQKUhIAP","Pricebook2Id":"01sA0000000hBvpIAE","UnitPrice":400,"IsActive":true}]}},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__Group__r":null,"SBQQ__RequiredBy__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":5,"opportunityLineItemExists":false,"key":17,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null,"developerPrefix":"SBQQ__"}],"lineItemGroups":[{"summaries":{},"selectedDimension":null,"regularProductTotal":null,"record":{"attributes":{"type":"SBQQ__QuoteLineGroup__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0cA0000008PKJnIAO"},"Id":"a0cA0000008PKJnIAO","Name":"Group1","SBQQ__Number__c":1,"SBQQ__ListTotal__c":100018,"SBQQ__NetTotal__c":99718,"SBQQ__CustomerTotal__c":99718,"SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Optional__c":false,"SBQQ__SeparateContract__c":false,"SBQQ__Quote__r":null},"netProductTotal":null,"netNonSegmentTotal":99900,"netMultiSegmentTotal":{"Custom":-182},"multiSegmentRowTotals":{"1456424286686":-182},"multiSegmentKeys":{"1456424286686":"Custom"},"multiSegmentColumnTotals":{"Custom":{"Second":-91,"Custom":-91}},"multiSegmentColumns":{"Custom":["Custom","Second"]},"localizedMultiSegmentColumns":{"Custom":["Custom","Second"]},"listProductTotal":null,"key":2,"hasMultiSegmentLines":true,"customerProductTotal":null},{"summaries":{},"selectedDimension":null,"regularProductTotal":null,"record":{"attributes":{"type":"SBQQ__QuoteLineGroup__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0cA0000008PKRrIAO"},"Id":"a0cA0000008PKRrIAO","Name":"Group2","SBQQ__Number__c":2,"SBQQ__ListTotal__c":100409,"SBQQ__NetTotal__c":100209,"SBQQ__CustomerTotal__c":100209,"SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Optional__c":false,"SBQQ__SeparateContract__c":false,"SBQQ__Quote__r":null},"netProductTotal":null,"netNonSegmentTotal":100300,"netMultiSegmentTotal":{"Custom":-91},"multiSegmentRowTotals":{"1457633294431":-91},"multiSegmentKeys":{"1457633294431":"Custom"},"multiSegmentColumnTotals":{"Custom":{"Custom":-91}},"multiSegmentColumns":{"Custom":["Custom"]},"localizedMultiSegmentColumns":{"Custom":["Custom"]},"listProductTotal":null,"key":3,"hasMultiSegmentLines":true,"customerProductTotal":null},{"summaries":{},"selectedDimension":null,"regularProductTotal":null,"record":{"attributes":{"type":"SBQQ__QuoteLineGroup__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0cA0000008PKRsIAO"},"Id":"a0cA0000008PKRsIAO","Name":"Group3","SBQQ__Number__c":3,"SBQQ__ListTotal__c":100000,"SBQQ__NetTotal__c":99900,"SBQQ__CustomerTotal__c":99900,"SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Optional__c":false,"SBQQ__SeparateContract__c":false,"SBQQ__Quote__r":null},"netProductTotal":null,"netNonSegmentTotal":99900,"netMultiSegmentTotal":{},"multiSegmentRowTotals":{},"multiSegmentKeys":{},"multiSegmentColumnTotals":{},"multiSegmentColumns":{},"localizedMultiSegmentColumns":{},"listProductTotal":null,"key":4,"hasMultiSegmentLines":false,"customerProductTotal":null},{"summaries":{},"selectedDimension":null,"regularProductTotal":null,"record":{"attributes":{"type":"SBQQ__QuoteLineGroup__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0cA0000008PKRwIAO"},"Id":"a0cA0000008PKRwIAO","Name":"Group4","SBQQ__Number__c":4,"SBQQ__ListTotal__c":100809,"SBQQ__NetTotal__c":100609,"SBQQ__CustomerTotal__c":100609,"SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Optional__c":false,"SBQQ__SeparateContract__c":false,"SBQQ__Quote__r":null},"netProductTotal":null,"netNonSegmentTotal":100700,"netMultiSegmentTotal":{"Custom":-91},"multiSegmentRowTotals":{"1457633362243":-91},"multiSegmentKeys":{"1457633362243":"Custom"},"multiSegmentColumnTotals":{"Custom":{"Custom":-91}},"multiSegmentColumns":{"Custom":["Custom"]},"localizedMultiSegmentColumns":{"Custom":["Custom"]},"listProductTotal":null,"key":5,"hasMultiSegmentLines":true,"customerProductTotal":null},{"summaries":{},"selectedDimension":null,"regularProductTotal":null,"record":{"attributes":{"type":"SBQQ__QuoteLineGroup__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0cA0000008PKRxIAO"},"Id":"a0cA0000008PKRxIAO","Name":"Group5","SBQQ__Number__c":5,"SBQQ__ListTotal__c":0,"SBQQ__NetTotal__c":0,"SBQQ__CustomerTotal__c":0,"SBQQ__Quote__c":"a0hA000000BlYukIAF","SBQQ__Optional__c":false,"SBQQ__SeparateContract__c":false,"SBQQ__Quote__r":null},"netProductTotal":null,"netNonSegmentTotal":0,"netMultiSegmentTotal":{},"multiSegmentRowTotals":{},"multiSegmentKeys":{},"multiSegmentColumnTotals":{},"multiSegmentColumns":{},"localizedMultiSegmentColumns":{},"listProductTotal":null,"key":6,"hasMultiSegmentLines":false,"customerProductTotal":null}],"lineFieldVisibility":null,"lineFieldEditability":null,"hasMultiSegmentLines":true,"favoriteIds":[],"deletedLineIds":[],"deletedGroupIds":[],"customerTotal":400436,"customerProductTotal":null,"contractedAccountId":null,"channelDiscountsOffList":false,"calculationStatus":null,"calculationError":null,"calculatePending":null,"applyPartnerDiscountFirst":false,"applyAdditionalDiscountLast":false,"accountRenewalModel":null,"developerPrefix":"SBQQ__"},"multiSegmentLineSummaryFieldNames":["SBQQ__ProductCode__c","SBQQ__ProductName__c"],"multiSegmentLineFieldNames":["SBQQ__Quantity__c","SBQQ__ListPrice__c","SBQQ__Uplift__c","SBQQ__AdditionalDiscount__c","SBQQ__NetPrice__c","SBQQ__NetTotal__c"],"multiSegmentLineFieldEditability":{},"markupUnitOptions":[{"value":"Percent","label":"%"},{"value":"Amount","label":"USD"}],"locale":"en_US","linesSectionTitle":"Products","lineFieldNamesTablet":null,"lineFieldNamesPhone":null,"lineFieldNames":["SBQQ__ProductCode__c","SBQQ__ProductName__c","SBQQ__Quantity__c","SBQQ__ListPrice__c","SBQQ__AdditionalDiscount__c","SBQQ__NetPrice__c","SBQQ__NetTotal__c"],"headerTitle":"Edit Quote Products","headerSubtitle":"Q-00011","guidedMessages":null,"groupFieldNames":["Name","SBQQ__Optional__c","SBQQ__SubscriptionTerm__c","SBQQ__AdditionalDiscountRate__c","SBQQ__Description__c"],"fieldMetadata":{},"discountScheduleModalFieldNames":["SBQQ__Number__c","Name","SBQQ__LowerBound__c","SBQQ__UpperBound__c","SBQQ__Discount__c","SBQQ__DiscountAmount__c"],"developerPrefix":"SBQQ__","defaultQuoteProcessId":null,"defaultMarkupUnit":"Percent","defaultAdditionalDiscountUnit":"Percent","customLabels":{"msg_cannot_parse_url":"Cannot parse URL","msg_group_name_missing":"You must enter a group name","msg_save_quote":"Save","lbl_cancel":"Cancel","lbl_save":"Save"},"customActions":[{"attributes":{"type":"SBQQ__CustomAction__c"},"Name":"AddProducts","SBQQ__TargetObject__c":"Product","SBQQ__Label__c":"Add Products","SBQQ__DisplayOrder__c":1,"SBQQ__Page__c":"Quote Line Editor"},{"attributes":{"type":"SBQQ__CustomAction__c"},"Name":"AddFavorites","SBQQ__TargetObject__c":"Favorite","SBQQ__Label__c":"Add Favorites","SBQQ__DisplayOrder__c":1,"SBQQ__Page__c":"Quote Line Editor"}],"currencySymbol":"$","angularLocale":"en-us","additionalDiscountUnitOptions":[{"value":"Percent","label":"%"},{"value":"Amount","label":"USD"}]});_export("DATA",DATA);}};});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJFZGl0b3JWaWV3TW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6W119
"use strict";

System.register("quotes/mock/Quote.js", [], function (_export, _context) {
    var QUOTE;
    return {
        setters: [],
        execute: function () {
            _export("QUOTE", QUOTE = {
                "userType": "Standard",
                "subscriptionScopeOptions": [{
                    "value": "Quote",
                    "label": "Quote"
                }, {
                    "value": "Group",
                    "label": "Group"
                }],
                "subscriptionBaseOptions": [{
                    "value": "List",
                    "label": "List"
                }, {
                    "value": "Regular",
                    "label": "Regular"
                }, {
                    "value": "Customer",
                    "label": "Customer"
                }, {
                    "value": "Net",
                    "label": "Net"
                }],
                "solutionGroups": null,
                "settings": {
                    "webQuoteLineSummaryFields": [],
                    "usesClientCalculator": false,
                    "usesBackgroundCalculator": false,
                    "upgradeAssetsButtonRendered": false,
                    "subscriptionTermUnitIsDay": false,
                    "subscriptionProratePrecision": "day",
                    "solutionGroupsEnabled": false,
                    "solutionGroupNameField": "Name",
                    "solutionGroupDescriptionField": "SBQQ__Description__c",
                    "renewSubscriptionsButtonRendered": false,
                    "renewedAssetsHiddenWhenEditing": false,
                    "renewalQuotesWithoutAssetsAllowed": false,
                    "quoteLineSummaryFields": [],
                    "quantityScale": 2,
                    "prorateAmountDiscountFieldName": null,
                    "productHierarchyVisualized": true,
                    "priceScale": 2,
                    "overageRateFieldName": null,
                    "multiLineDeleteEnabled": false,
                    "msgRequiredBy": "Required by {0}",
                    "jsqcPlugin": null,
                    "jsqcLabels": {
                        "msg_js_warn_condition_field_undefined": "Warning: Price Condition [{0}] tests against Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.",
                        "msg_sv_date_op_conflict_err": "Summary Variable [{0}] is non-numeric, and cannot be composed using Composite Operator {1}. Contact your SteelBrick Administrator.",
                        "msg_sumvar_composition_err": "Summary Variable [{0}] cannot be composed with Summary Variable [{1}]. Contact your SteelBrick Administrator.",
                        "msg_js_warn_src_action_field_null": "Warning: Price Action [{0}] references Source Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.",
                        "msg_js_err_no_advanced_condition": "Error: Price Rule [{0}] is missing Advanced Condition logic",
                        "msg_js_err_bad_advanced_condition": "Error: Price Rule [{0}] has an improperly formatted Advanced Condition",
                        "msg_no_block_price_for_quantity": "Error: Product [{0}] has no block price for this quantity. Please contact your administrator.",
                        "msg_js_err_sv_unrecognized_comp_op": "Error calculating Summary Variable [{0}]: Unrecognized composite operator {1}.",
                        "msg_js_err_invalid_op_price_condition": "Invalid operator {0} used on Price Condition [{1}]",
                        "msg_multiple_lookup_results": "Price Rule [{0}]: Multiple results returned from the query. Please contact your SteelBrick administrator.",
                        "msg_js_err_no_such_label": "Error: No custom label exists for the key {0}. Please contact your SteelBrick admin.",
                        "msg_js_err_id_conversion": "ID Conversion Error: Id [{0}] is neither 15 nor 18 characters long.",
                        "msg_js_err_sv_circular_reference": "Error calculating Summary Variable [{0}]: Circular Reference.",
                        "msg_js_err_sv_unsupported_aggregate": "Summary Variable [{0}] references unsupported aggregate function {1}",
                        "msg_js_err_sv_missing_aggregate": "Summary Variable [{0}] is missing an aggregate function",
                        "msg_js_err_sv_invalid_op": "Summary Variable [{0}] uses operator {1}, which is invalid.",
                        "msg_js_err_condition_target_object": "Ill-formed Price Condition [{0}]: Target must be either a Summary Variable, Quote, or Quote Line",
                        "msg_js_err_invalid_lookup_operator": "Invalid Operator {0} in Lookup Query [{1}]",
                        "msg_js_err_condition_targets_field_or_sv": "Ill-formed Price Condition: Must target either a Field, Summary Variable, or Formula [{0}]",
                        "msg_js_err_prorate_divide_by_zero": "Division by zero while calculating prorate multiplier",
                        "msg_js_err_unsupported_binary": "Formula Field {0} uses an unsupported binary operator {1}",
                        "msg_js_err_unsupported_unary": "Formula Field {0} uses an unsupported unary operator {1}",
                        "msg_js_err_unsupported_formula": "Formula Field {0} uses the formula {1}, which is unsupported.",
                        "msg_js_err_invalid_date": "Error while evaluating Formula Field {0}: invalid date",
                        "msg_js_err_unexpected_ast": "Syntax Error while evaluating Formula Field {0}. Please contact your SteelBrick Administrator.",
                        "msg_js_err_unsupported_lookup": "Formula Field {0} references lookup field {1}, which is unsupported.",
                        "msg_js_err_unsupported_global": "Formula Field {0} references global variable {1}.{2}, which is unsupported.",
                        "msg_js_err_no_metadata": "No metadata was retrieved for field {0}",
                        "msg_js_err_null_discount_tier": "Error: Discount Tier must not be null"
                    },
                    "isRenewedAssetsHiddenWhenEditing": false,
                    "isMultiCurrencyOrg": false,
                    "includeNetNewInMaintenanceEnabled": false,
                    "hasQuotePriceRules": true,
                    "groupNameRequired": true,
                    "discountsUseCustomExclusionField": false,
                    "dimensionValueLabelMap": {
                        "One-time": "One-time",
                        "Custom": "Custom",
                        "Month": "Month",
                        "Quarter": "Quarter",
                        "Year": "Year"
                    },
                    "developerPrefix": "SBQQ__",
                    "currencySymbol": "$",
                    "currencyIsoCodes": null,
                    "closeSearchFilterByDefault": false,
                    "calculateImmediately": false,
                    "bundleKeptTogether": true,
                    "allowsNonConsecutiveCustomSegments": false,
                    "actionsColumnPlacement": null
                },
                "referencedObjects": {},
                "quoteProcesses": [],
                "quoteObjectName": "SBQQ__Quote__c",
                "quoteLineObjectName": "SBQQ__QuoteLine__c",
                "quoteFieldsSectionTitle": "Quote Information",
                "quoteFieldNames": [],
                "quote": {
                    "summaries": {},
                    "regularProductTotal": null,
                    "referencedProductRecords": null,
                    "referencedFieldMap": null,
                    "record": {
                        "attributes": {
                            "type": "SBQQ__Quote__c",
                            "url": "/services/data/v36.0/sobjects/SBQQ__Quote__c/a0bA000000Ep1BKIAZ"
                        },
                        "Id": "a0bA000000Ep1BKIAZ",
                        "Name": "Q-00065",
                        "SBQQ__Type__c": "Quote",
                        "SBQQ__Account__c": "001A000001JGOUHIA5",
                        "SBQQ__SubscriptionTerm__c": 12,
                        "SBQQ__ExpirationDate__c": "2016-03-12",
                        "SBQQ__StartDate__c": "2016-02-11",
                        "SBQQ__NetAmount__c": 59538,
                        "SBQQ__CustomerAmount__c": 59538,
                        "SBQQ__PricebookId__c": "01sA0000000YainIAC",
                        "SBQQ__Primary__c": true,
                        "SBQQ__LineItemsGrouped__c": true,
                        "SBQQ__Opportunity2__c": "006A000000UWIixIAH",
                        "SBQQ__Account__r": {
                            "attributes": {
                                "type": "Account",
                                "url": "/services/data/v36.0/sobjects/Account/001A000001JGOUHIA5"
                            },
                            "Id": "001A000001JGOUHIA5",
                            "Name": "Asset Acct",
                            "SBQQ__RenewalModel__c": "Asset Based"
                        },
                        "SBQQ__Opportunity2__r": {
                            "attributes": {
                                "type": "Opportunity",
                                "url": "/services/data/v36.0/sobjects/Opportunity/006A000000UWIixIAH"
                            },
                            "Id": "006A000000UWIixIAH",
                            "Pricebook2Id": "01sA0000000YainIAC",
                            "AccountId": "001A000001JGOUHIA5"
                        },
                        "SBQQ__CustomerDiscount__c": null,
                        "SBQQ__MarkupRate__c": null,
                        "SBQQ__PartnerDiscount__c": null,
                        "SBQQ__EndDate__c": null,
                        "SBQQ__MasterContract__c": null,
                        "SBQQ__QuoteProcessId__c": null,
                        "SBQQ__DistributorDiscount__c": null,
                        "SBQQ__FirstSegmentTermEndDate__c": null,
                        "SBQQ__GenerateContractedPrice__c": null
                    },
                    "nextKey": 12,
                    "netTotal": 59538,
                    "netProductTotal": null,
                    "netNonSegmentTotal": 59538,
                    "netMultiSegmentTotal": {},
                    "multiSegmentRowTotals": {},
                    "multiSegmentRowExpanded": {},
                    "multiSegmentKeys": {},
                    "multiSegmentColumnTotals": {},
                    "multiSegmentColumns": {},
                    "localizedMultiSegmentColumns": {},
                    "localizedDimensionNames": {
                        "One-time": "One-time",
                        "Custom": "Custom",
                        "Month": "Month",
                        "Quarter": "Quarter",
                        "Year": "Year"
                    },
                    "localizationByFieldByProductId": {},
                    "localizationByFieldByDimensionId": {},
                    "listProductTotal": null,
                    "lineSortField": null,
                    "lineSecondarySortField": null,
                    "lineItems": [{
                        "validPricebookEntryExists": true,
                        "upliftable": true,
                        "targetCustomerAmount": null,
                        "subscriptionExists": true,
                        "requiredByMessage": null,
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0EkqMAF"
                            },
                            "Id": "a0XA000000R0EkqMAF",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__Product__c": "01tA0000004fMFeIAM",
                            "SBQQ__Number__c": 1,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1300,
                            "SBQQ__ListPrice__c": 1300,
                            "SBQQ__OriginalPrice__c": 1300,
                            "SBQQ__MarkupRate__c": 3.54,
                            "SBQQ__NetPrice__c": 1300,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__Bundle__c": true,
                            "SBQQ__PartnerPrice__c": 1300,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1300,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1300,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__ComponentTotal__c": 57038,
                            "SBQQ__ComponentCost__c": 0,
                            "SBQQ__ComponentListTotal__c": 57038,
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1300,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__RegularPrice__c": 1300,
                            "SBQQ__ProductFamily__c": "Hardware",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1300,
                            "SBQQ__ProductCode__c": "APPLIANCE",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__Source__c": null,
                            "SBQQ__RequiredBy__c": null,
                            "SBQQ__ProductOption__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__OptionType__c": null,
                            "SBQQ__BundledQuantity__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__OptionLevel__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance",
                            "productCode": "APPLIANCE",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": null,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 3,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": "Allowed",
                        "configurationEvent": "Always",
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkOMAR"
                            },
                            "Id": "a0XA000000R0lkOMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKOIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvSMAQ",
                            "SBQQ__Number__c": 2,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1560,
                            "SBQQ__DefaultSubscriptionTerm__c": 1,
                            "SBQQ__ListPrice__c": 130,
                            "SBQQ__OriginalPrice__c": 130,
                            "SBQQ__NetPrice__c": 1560,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 25,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 1560,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1560,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 12,
                            "SBQQ__Quantity__c": 25,
                            "SBQQ__SpecialPrice__c": 130,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionCategory__c": "Software",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1560,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance Monitoring",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1560,
                            "SBQQ__ProductFamily__c": "Software",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 39000,
                            "SBQQ__ProductCode__c": "MONITOR",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvSMAQ"
                                },
                                "Id": "a0TA00000083nvSMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2XMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance Monitoring",
                            "productCode": "MONITOR",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 4,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkPMAR"
                            },
                            "Id": "a0XA000000R0lkPMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKEIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvNMAQ",
                            "SBQQ__Number__c": 3,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 19,
                            "SBQQ__ListPrice__c": 19,
                            "SBQQ__OriginalPrice__c": 19,
                            "SBQQ__NetPrice__c": 19,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 19,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 19,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 19,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 19,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Power Cord - US",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 19,
                            "SBQQ__ProductFamily__c": "Accessories",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 19,
                            "SBQQ__ProductCode__c": "PCORD-US",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvNMAQ"
                                },
                                "Id": "a0TA00000083nvNMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2cMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Power Cord - US",
                            "productCode": "PCORD-US",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 5,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkQMAR"
                            },
                            "Id": "a0XA000000R0lkQMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKiIAM",
                            "SBQQ__ProductOption__c": "a0TA00000083nvwMAA",
                            "SBQQ__Number__c": 4,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1000,
                            "SBQQ__ListPrice__c": 1000,
                            "SBQQ__OriginalPrice__c": 1000,
                            "SBQQ__NetPrice__c": 1000,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 1000,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1000,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1000,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1000,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Configuration",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1000,
                            "SBQQ__ProductFamily__c": "Services",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1000,
                            "SBQQ__ProductCode__c": "CONFIG",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvwMAA"
                                },
                                "Id": "a0TA00000083nvwMAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2hMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Configuration",
                            "productCode": "CONFIG",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 6,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkRMAR"
                            },
                            "Id": "a0XA000000R0lkRMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKYIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvmMAA",
                            "SBQQ__Number__c": 5,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__ComponentSubscriptionScope__c": "Both",
                            "SBQQ__CustomerPrice__c": 0,
                            "SBQQ__DefaultSubscriptionTerm__c": 12,
                            "SBQQ__ListPrice__c": 0,
                            "SBQQ__OriginalPrice__c": 0,
                            "SBQQ__NetPrice__c": 0,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 0,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 0,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 0,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionCategory__c": "Hardware",
                            "SBQQ__SubscriptionPercent__c": 25,
                            "SBQQ__SubscriptionPricing__c": "Percent Of Total",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 0,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Hardware Maintenance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 0,
                            "SBQQ__ProductFamily__c": "Support",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 0,
                            "SBQQ__ProductCode__c": "MAINT",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvmMAA"
                                },
                                "Id": "a0TA00000083nvmMAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2mMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Hardware Maintenance",
                            "productCode": "MAINT",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 7,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": true,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0n6cMAB"
                            },
                            "Id": "a0XA000000R0n6cMAB",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fMFeIAM",
                            "SBQQ__ProductOption__c": "a0TA00000085xi0MAA",
                            "SBQQ__Number__c": 6,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1300,
                            "SBQQ__ListPrice__c": 1300,
                            "SBQQ__OriginalPrice__c": 1300,
                            "SBQQ__MarkupRate__c": 3.54,
                            "SBQQ__NetPrice__c": 1300,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Related Product",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": true,
                            "SBQQ__PartnerPrice__c": 1300,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1300,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1300,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1300,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1300,
                            "SBQQ__ProductFamily__c": "Hardware",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1300,
                            "SBQQ__ProductCode__c": "APPLIANCE",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000085xi0MAA"
                                },
                                "Id": "a0TA00000085xi0MAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2XMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance",
                            "productCode": "APPLIANCE",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 8,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": "Allowed",
                        "configurationEvent": "Always",
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": true,
                        "targetCustomerAmount": null,
                        "subscriptionExists": true,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0nC2MAJ"
                            },
                            "Id": "a0XA000000R0nC2MAJ",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fMFeIAM",
                            "SBQQ__ProductOption__c": "a0TA00000085xrWMAQ",
                            "SBQQ__Number__c": 7,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1300,
                            "SBQQ__ListPrice__c": 1300,
                            "SBQQ__OriginalPrice__c": 1300,
                            "SBQQ__MarkupRate__c": 3.54,
                            "SBQQ__NetPrice__c": 1300,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": true,
                            "SBQQ__PartnerPrice__c": 1300,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1300,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1300,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__ComponentTotal__c": 14419,
                            "SBQQ__ComponentCost__c": 0,
                            "SBQQ__ComponentListTotal__c": 14419,
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1300,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1300,
                            "SBQQ__ProductFamily__c": "Hardware",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1300,
                            "SBQQ__ProductCode__c": "APPLIANCE",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000085xrWMAQ"
                                },
                                "Id": "a0TA00000085xrWMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2SMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance",
                            "productCode": "APPLIANCE",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 9,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": "Allowed",
                        "configurationEvent": "Always",
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0nC3MAJ"
                            },
                            "Id": "a0XA000000R0nC3MAJ",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0nC2MAJ",
                            "SBQQ__Product__c": "01tA0000004fOKEIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvNMAQ",
                            "SBQQ__Number__c": 8,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 19,
                            "SBQQ__ListPrice__c": 19,
                            "SBQQ__OriginalPrice__c": 19,
                            "SBQQ__NetPrice__c": 19,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 19,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 19,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 19,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 19,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Power Cord - US",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 2,
                            "SBQQ__RegularPrice__c": 19,
                            "SBQQ__ProductFamily__c": "Accessories",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 19,
                            "SBQQ__ProductCode__c": "PCORD-US",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvNMAQ"
                                },
                                "Id": "a0TA00000083nvNMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2cMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Power Cord - US",
                            "productCode": "PCORD-US",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 9,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 10,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0nC4MAJ"
                            },
                            "Id": "a0XA000000R0nC4MAJ",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0nC2MAJ",
                            "SBQQ__Product__c": "01tA0000004fOKTIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvhMAA",
                            "SBQQ__Number__c": 9,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 14400,
                            "SBQQ__DefaultSubscriptionTerm__c": 1,
                            "SBQQ__ListPrice__c": 1200,
                            "SBQQ__OriginalPrice__c": 1200,
                            "SBQQ__NetPrice__c": 14400,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 14400,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 14400,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 12,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1200,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionCategory__c": "Software",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 14400,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Real-Time Analysis",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 2,
                            "SBQQ__RegularPrice__c": 14400,
                            "SBQQ__ProductFamily__c": "Software",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 14400,
                            "SBQQ__ProductCode__c": "ANALYSIS",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvhMAA"
                                },
                                "Id": "a0TA00000083nvhMAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2XMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Real-Time Analysis",
                            "productCode": "ANALYSIS",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 9,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 11,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": null,
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0EktMAF"
                            },
                            "Id": "a0XA000000R0EktMAF",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__Product__c": "01tA0000004fOKsIAM",
                            "SBQQ__Number__c": 10,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1200,
                            "SBQQ__ListPrice__c": 1200,
                            "SBQQ__OriginalPrice__c": 1200,
                            "SBQQ__NetPrice__c": 1200,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 1200,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1200,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1200,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1200,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Training",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__RegularPrice__c": 1200,
                            "SBQQ__ProductFamily__c": "Services",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1200,
                            "SBQQ__ProductCode__c": "TRAINING",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__Source__c": null,
                            "SBQQ__RequiredBy__c": null,
                            "SBQQ__ProductOption__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__OptionType__c": null,
                            "SBQQ__BundledQuantity__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__OptionLevel__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Training",
                            "productCode": "TRAINING",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": null,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 12,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }],
                    "lineItemGroups": [{
                        "summaries": {},
                        "selectedDimension": null,
                        "regularProductTotal": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLineGroup__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0WA000000GsPFOMA3"
                            },
                            "Id": "a0WA000000GsPFOMA3",
                            "Name": "Group1",
                            "SBQQ__Number__c": 1,
                            "SBQQ__ListTotal__c": 59538,
                            "SBQQ__NetTotal__c": 59538,
                            "SBQQ__CustomerTotal__c": 59538,
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__Optional__c": false,
                            "SBQQ__SeparateContract__c": false,
                            "SBQQ__Quote__r": null
                        },
                        "netProductTotal": null,
                        "netNonSegmentTotal": 59538,
                        "netMultiSegmentTotal": {},
                        "multiSegmentRowTotals": {},
                        "multiSegmentKeys": {},
                        "multiSegmentColumnTotals": {},
                        "multiSegmentColumns": {},
                        "localizedMultiSegmentColumns": {},
                        "listProductTotal": null,
                        "key": 2,
                        "hasMultiSegmentLines": false,
                        "customerProductTotal": null
                    }],
                    "lineFieldVisibility": null,
                    "lineFieldEditability": null,
                    "hasMultiSegmentLines": false,
                    "favoriteIds": [],
                    "deletedLineIds": [],
                    "deletedGroupIds": [],
                    "customerTotal": 59538,
                    "customerProductTotal": null,
                    "contractedAccountId": null,
                    "channelDiscountsOffList": false,
                    "calculationStatus": null,
                    "calculationError": null,
                    "calculatePending": null,
                    "applyPartnerDiscountFirst": false,
                    "applyAdditionalDiscountLast": false,
                    "accountRenewalModel": null,
                    "developerPrefix": "SBQQ__"
                },
                "multiSegmentLineSummaryFieldNames": ["SBQQ__ProductCode__c", "SBQQ__ProductName__c"],
                "multiSegmentLineFieldNames": ["SBQQ__Quantity__c", "SBQQ__ListPrice__c", "SBQQ__Uplift__c", "SBQQ__AdditionalDiscount__c", "SBQQ__NetPrice__c", "SBQQ__NetTotal__c"],
                "multiSegmentLineFieldEditability": {},
                "markupUnitOptions": [{
                    "value": "Percent",
                    "label": "%"
                }, {
                    "value": "Amount",
                    "label": "USD"
                }],
                "locale": "en_US",
                "linesSectionTitle": "Products",
                "lineFieldNamesTablet": null,
                "lineFieldNamesPhone": null,
                "lineFieldNames": ["SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__Quantity__c", "SBQQ__ListPrice__c", "SBQQ__AdditionalDiscount__c", "SBQQ__NetPrice__c", "SBQQ__NetTotal__c"],
                "headerTitle": "Edit Quote Products",
                "headerSubtitle": "Q-00065",
                "guidedMessages": null,
                "groupFieldNames": ["Name", "SBQQ__Optional__c", "SBQQ__SubscriptionTerm__c", "SBQQ__AdditionalDiscountRate__c", "SBQQ__Description__c"],
                "fieldMetadata": {},
                "discountScheduleModalFieldNames": ["SBQQ__Number__c", "Name", "SBQQ__LowerBound__c", "SBQQ__UpperBound__c", "SBQQ__Discount__c", "SBQQ__DiscountAmount__c"],
                "developerPrefix": "SBQQ__",
                "defaultQuoteProcessId": null,
                "defaultMarkupUnit": "Percent",
                "defaultAdditionalDiscountUnit": "Percent",
                "customLabels": {
                    "msg_cannot_parse_url": "Cannot parse URL",
                    "msg_group_name_missing": "You must enter a group name",
                    "msg_save_quote": "Save",
                    "lbl_cancel": "Cancel",
                    "lbl_save": "Save"
                },
                "customActions": [{
                    "attributes": {
                        "type": "SBQQ__CustomAction__c"
                    },
                    "Name": "AddProducts",
                    "SBQQ__TargetObject__c": "Product",
                    "SBQQ__Label__c": "Add Products",
                    "SBQQ__DisplayOrder__c": 1,
                    "SBQQ__Page__c": "Quote Line Editor"
                }, {
                    "attributes": {
                        "type": "SBQQ__CustomAction__c"
                    },
                    "Name": "AddFavorites",
                    "SBQQ__TargetObject__c": "Favorite",
                    "SBQQ__Label__c": "Add Favorites",
                    "SBQQ__DisplayOrder__c": 1,
                    "SBQQ__Page__c": "Quote Line Editor"
                }],
                "currencySymbol": "$",
                "angularLocale": "en-us",
                "additionalDiscountUnitOptions": [{
                    "value": "Percent",
                    "label": "%"
                }, {
                    "value": "Amount",
                    "label": "USD"
                }]
            });

            _export("QUOTE", QUOTE);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJRdW90ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
"use strict";

System.register("quotes/mock/data.js", [], function (_export, _context) {
    var data;
    return {
        setters: [],
        execute: function () {
            _export("data", data = {
                "userType": "Standard",
                "subscriptionScopeOptions": [{
                    "value": "Quote",
                    "label": "Quote"
                }, {
                    "value": "Group",
                    "label": "Group"
                }],
                "subscriptionBaseOptions": [{
                    "value": "List",
                    "label": "List"
                }, {
                    "value": "Regular",
                    "label": "Regular"
                }, {
                    "value": "Customer",
                    "label": "Customer"
                }, {
                    "value": "Net",
                    "label": "Net"
                }],
                "solutionGroups": null,
                "settings": {
                    "webQuoteLineSummaryFields": [],
                    "usesClientCalculator": false,
                    "usesBackgroundCalculator": false,
                    "upgradeAssetsButtonRendered": false,
                    "subscriptionTermUnitIsDay": false,
                    "subscriptionProratePrecision": "day",
                    "solutionGroupsEnabled": false,
                    "solutionGroupNameField": "Name",
                    "solutionGroupDescriptionField": "SBQQ__Description__c",
                    "renewSubscriptionsButtonRendered": false,
                    "renewedAssetsHiddenWhenEditing": false,
                    "renewalQuotesWithoutAssetsAllowed": false,
                    "quoteLineSummaryFields": [],
                    "quantityScale": 2,
                    "prorateAmountDiscountFieldName": null,
                    "productHierarchyVisualized": true,
                    "priceScale": 2,
                    "overageRateFieldName": null,
                    "multiLineDeleteEnabled": false,
                    "msgRequiredBy": "Required by {0}",
                    "jsqcPlugin": null,
                    "jsqcLabels": {
                        "msg_js_warn_condition_field_undefined": "Warning: Price Condition [{0}] tests against Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.",
                        "msg_sv_date_op_conflict_err": "Summary Variable [{0}] is non-numeric, and cannot be composed using Composite Operator {1}. Contact your SteelBrick Administrator.",
                        "msg_sumvar_composition_err": "Summary Variable [{0}] cannot be composed with Summary Variable [{1}]. Contact your SteelBrick Administrator.",
                        "msg_js_warn_src_action_field_null": "Warning: Price Action [{0}] references Source Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.",
                        "msg_js_err_no_advanced_condition": "Error: Price Rule [{0}] is missing Advanced Condition logic",
                        "msg_js_err_bad_advanced_condition": "Error: Price Rule [{0}] has an improperly formatted Advanced Condition",
                        "msg_no_block_price_for_quantity": "Error: Product [{0}] has no block price for this quantity. Please contact your administrator.",
                        "msg_js_err_sv_unrecognized_comp_op": "Error calculating Summary Variable [{0}]: Unrecognized composite operator {1}.",
                        "msg_js_err_invalid_op_price_condition": "Invalid operator {0} used on Price Condition [{1}]",
                        "msg_multiple_lookup_results": "Price Rule [{0}]: Multiple results returned from the query. Please contact your SteelBrick administrator.",
                        "msg_js_err_no_such_label": "Error: No custom label exists for the key {0}. Please contact your SteelBrick admin.",
                        "msg_js_err_id_conversion": "ID Conversion Error: Id [{0}] is neither 15 nor 18 characters long.",
                        "msg_js_err_sv_circular_reference": "Error calculating Summary Variable [{0}]: Circular Reference.",
                        "msg_js_err_sv_unsupported_aggregate": "Summary Variable [{0}] references unsupported aggregate function {1}",
                        "msg_js_err_sv_missing_aggregate": "Summary Variable [{0}] is missing an aggregate function",
                        "msg_js_err_sv_invalid_op": "Summary Variable [{0}] uses operator {1}, which is invalid.",
                        "msg_js_err_condition_target_object": "Ill-formed Price Condition [{0}]: Target must be either a Summary Variable, Quote, or Quote Line",
                        "msg_js_err_invalid_lookup_operator": "Invalid Operator {0} in Lookup Query [{1}]",
                        "msg_js_err_condition_targets_field_or_sv": "Ill-formed Price Condition: Must target either a Field, Summary Variable, or Formula [{0}]",
                        "msg_js_err_prorate_divide_by_zero": "Division by zero while calculating prorate multiplier",
                        "msg_js_err_unsupported_binary": "Formula Field {0} uses an unsupported binary operator {1}",
                        "msg_js_err_unsupported_unary": "Formula Field {0} uses an unsupported unary operator {1}",
                        "msg_js_err_unsupported_formula": "Formula Field {0} uses the formula {1}, which is unsupported.",
                        "msg_js_err_invalid_date": "Error while evaluating Formula Field {0}: invalid date",
                        "msg_js_err_unexpected_ast": "Syntax Error while evaluating Formula Field {0}. Please contact your SteelBrick Administrator.",
                        "msg_js_err_unsupported_lookup": "Formula Field {0} references lookup field {1}, which is unsupported.",
                        "msg_js_err_unsupported_global": "Formula Field {0} references global variable {1}.{2}, which is unsupported.",
                        "msg_js_err_no_metadata": "No metadata was retrieved for field {0}",
                        "msg_js_err_null_discount_tier": "Error: Discount Tier must not be null"
                    },
                    "isRenewedAssetsHiddenWhenEditing": false,
                    "isMultiCurrencyOrg": false,
                    "includeNetNewInMaintenanceEnabled": false,
                    "hasQuotePriceRules": true,
                    "groupNameRequired": true,
                    "discountsUseCustomExclusionField": false,
                    "dimensionValueLabelMap": {
                        "One-time": "One-time",
                        "Custom": "Custom",
                        "Month": "Month",
                        "Quarter": "Quarter",
                        "Year": "Year"
                    },
                    "developerPrefix": "SBQQ__",
                    "currencySymbol": "$",
                    "currencyIsoCodes": null,
                    "closeSearchFilterByDefault": false,
                    "calculateImmediately": false,
                    "bundleKeptTogether": true,
                    "allowsNonConsecutiveCustomSegments": false,
                    "actionsColumnPlacement": null
                },
                "referencedObjects": {},
                "quoteProcesses": [],
                "quoteObjectName": "SBQQ__Quote__c",
                "quoteLineObjectName": "SBQQ__QuoteLine__c",
                "quoteFieldsSectionTitle": "Quote Information",
                "quoteFieldNames": [],
                "quote": {
                    "summaries": {},
                    "regularProductTotal": null,
                    "referencedProductRecords": null,
                    "referencedFieldMap": null,
                    "record": {
                        "attributes": {
                            "type": "SBQQ__Quote__c",
                            "url": "/services/data/v36.0/sobjects/SBQQ__Quote__c/a0bA000000Ep1BKIAZ"
                        },
                        "Id": "a0bA000000Ep1BKIAZ",
                        "Name": "Q-00065",
                        "SBQQ__Type__c": "Quote",
                        "SBQQ__Account__c": "001A000001JGOUHIA5",
                        "SBQQ__SubscriptionTerm__c": 12,
                        "SBQQ__ExpirationDate__c": "2016-03-12",
                        "SBQQ__StartDate__c": "2016-02-11",
                        "SBQQ__NetAmount__c": 59538,
                        "SBQQ__CustomerAmount__c": 59538,
                        "SBQQ__PricebookId__c": "01sA0000000YainIAC",
                        "SBQQ__Primary__c": true,
                        "SBQQ__LineItemsGrouped__c": true,
                        "SBQQ__Opportunity2__c": "006A000000UWIixIAH",
                        "SBQQ__Account__r": {
                            "attributes": {
                                "type": "Account",
                                "url": "/services/data/v36.0/sobjects/Account/001A000001JGOUHIA5"
                            },
                            "Id": "001A000001JGOUHIA5",
                            "Name": "Asset Acct",
                            "SBQQ__RenewalModel__c": "Asset Based"
                        },
                        "SBQQ__Opportunity2__r": {
                            "attributes": {
                                "type": "Opportunity",
                                "url": "/services/data/v36.0/sobjects/Opportunity/006A000000UWIixIAH"
                            },
                            "Id": "006A000000UWIixIAH",
                            "Pricebook2Id": "01sA0000000YainIAC",
                            "AccountId": "001A000001JGOUHIA5"
                        },
                        "SBQQ__CustomerDiscount__c": null,
                        "SBQQ__MarkupRate__c": null,
                        "SBQQ__PartnerDiscount__c": null,
                        "SBQQ__EndDate__c": null,
                        "SBQQ__MasterContract__c": null,
                        "SBQQ__QuoteProcessId__c": null,
                        "SBQQ__DistributorDiscount__c": null,
                        "SBQQ__FirstSegmentTermEndDate__c": null,
                        "SBQQ__GenerateContractedPrice__c": null
                    },
                    "nextKey": 12,
                    "netTotal": 59538,
                    "netProductTotal": null,
                    "netNonSegmentTotal": 59538,
                    "netMultiSegmentTotal": {},
                    "multiSegmentRowTotals": {},
                    "multiSegmentRowExpanded": {},
                    "multiSegmentKeys": {},
                    "multiSegmentColumnTotals": {},
                    "multiSegmentColumns": {},
                    "localizedMultiSegmentColumns": {},
                    "localizedDimensionNames": {
                        "One-time": "One-time",
                        "Custom": "Custom",
                        "Month": "Month",
                        "Quarter": "Quarter",
                        "Year": "Year"
                    },
                    "localizationByFieldByProductId": {},
                    "localizationByFieldByDimensionId": {},
                    "listProductTotal": null,
                    "lineSortField": null,
                    "lineSecondarySortField": null,
                    "lineItems": [{
                        "validPricebookEntryExists": true,
                        "upliftable": true,
                        "targetCustomerAmount": null,
                        "subscriptionExists": true,
                        "requiredByMessage": null,
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0EkqMAF"
                            },
                            "Id": "a0XA000000R0EkqMAF",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__Product__c": "01tA0000004fMFeIAM",
                            "SBQQ__Number__c": 1,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1300,
                            "SBQQ__ListPrice__c": 1300,
                            "SBQQ__OriginalPrice__c": 1300,
                            "SBQQ__MarkupRate__c": 3.54,
                            "SBQQ__NetPrice__c": 1300,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__Bundle__c": true,
                            "SBQQ__PartnerPrice__c": 1300,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1300,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1300,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__ComponentTotal__c": 57038,
                            "SBQQ__ComponentCost__c": 0,
                            "SBQQ__ComponentListTotal__c": 57038,
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1300,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__RegularPrice__c": 1300,
                            "SBQQ__ProductFamily__c": "Hardware",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1300,
                            "SBQQ__ProductCode__c": "APPLIANCE",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__Source__c": null,
                            "SBQQ__RequiredBy__c": null,
                            "SBQQ__ProductOption__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__OptionType__c": null,
                            "SBQQ__BundledQuantity__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__OptionLevel__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance",
                            "productCode": "APPLIANCE",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": null,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 3,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": "Allowed",
                        "configurationEvent": "Always",
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkOMAR"
                            },
                            "Id": "a0XA000000R0lkOMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKOIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvSMAQ",
                            "SBQQ__Number__c": 2,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1560,
                            "SBQQ__DefaultSubscriptionTerm__c": 1,
                            "SBQQ__ListPrice__c": 130,
                            "SBQQ__OriginalPrice__c": 130,
                            "SBQQ__NetPrice__c": 1560,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 25,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 1560,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1560,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 12,
                            "SBQQ__Quantity__c": 25,
                            "SBQQ__SpecialPrice__c": 130,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionCategory__c": "Software",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1560,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance Monitoring",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1560,
                            "SBQQ__ProductFamily__c": "Software",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 39000,
                            "SBQQ__ProductCode__c": "MONITOR",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvSMAQ"
                                },
                                "Id": "a0TA00000083nvSMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2XMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance Monitoring",
                            "productCode": "MONITOR",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 4,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkPMAR"
                            },
                            "Id": "a0XA000000R0lkPMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKEIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvNMAQ",
                            "SBQQ__Number__c": 3,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 19,
                            "SBQQ__ListPrice__c": 19,
                            "SBQQ__OriginalPrice__c": 19,
                            "SBQQ__NetPrice__c": 19,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 19,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 19,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 19,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 19,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Power Cord - US",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 19,
                            "SBQQ__ProductFamily__c": "Accessories",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 19,
                            "SBQQ__ProductCode__c": "PCORD-US",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvNMAQ"
                                },
                                "Id": "a0TA00000083nvNMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2cMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Power Cord - US",
                            "productCode": "PCORD-US",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 5,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkQMAR"
                            },
                            "Id": "a0XA000000R0lkQMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKiIAM",
                            "SBQQ__ProductOption__c": "a0TA00000083nvwMAA",
                            "SBQQ__Number__c": 4,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1000,
                            "SBQQ__ListPrice__c": 1000,
                            "SBQQ__OriginalPrice__c": 1000,
                            "SBQQ__NetPrice__c": 1000,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 1000,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1000,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1000,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1000,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Configuration",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1000,
                            "SBQQ__ProductFamily__c": "Services",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1000,
                            "SBQQ__ProductCode__c": "CONFIG",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvwMAA"
                                },
                                "Id": "a0TA00000083nvwMAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2hMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Configuration",
                            "productCode": "CONFIG",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 6,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0lkRMAR"
                            },
                            "Id": "a0XA000000R0lkRMAR",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fOKYIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvmMAA",
                            "SBQQ__Number__c": 5,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__ComponentSubscriptionScope__c": "Both",
                            "SBQQ__CustomerPrice__c": 0,
                            "SBQQ__DefaultSubscriptionTerm__c": 12,
                            "SBQQ__ListPrice__c": 0,
                            "SBQQ__OriginalPrice__c": 0,
                            "SBQQ__NetPrice__c": 0,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 0,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 0,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 0,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionCategory__c": "Hardware",
                            "SBQQ__SubscriptionPercent__c": 25,
                            "SBQQ__SubscriptionPricing__c": "Percent Of Total",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 0,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Hardware Maintenance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 0,
                            "SBQQ__ProductFamily__c": "Support",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 0,
                            "SBQQ__ProductCode__c": "MAINT",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvmMAA"
                                },
                                "Id": "a0TA00000083nvmMAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2mMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Hardware Maintenance",
                            "productCode": "MAINT",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 7,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": true,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0n6cMAB"
                            },
                            "Id": "a0XA000000R0n6cMAB",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fMFeIAM",
                            "SBQQ__ProductOption__c": "a0TA00000085xi0MAA",
                            "SBQQ__Number__c": 6,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1300,
                            "SBQQ__ListPrice__c": 1300,
                            "SBQQ__OriginalPrice__c": 1300,
                            "SBQQ__MarkupRate__c": 3.54,
                            "SBQQ__NetPrice__c": 1300,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Related Product",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": true,
                            "SBQQ__PartnerPrice__c": 1300,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1300,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1300,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1300,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1300,
                            "SBQQ__ProductFamily__c": "Hardware",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1300,
                            "SBQQ__ProductCode__c": "APPLIANCE",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000085xi0MAA"
                                },
                                "Id": "a0TA00000085xi0MAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2XMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance",
                            "productCode": "APPLIANCE",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 8,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": "Allowed",
                        "configurationEvent": "Always",
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": true,
                        "targetCustomerAmount": null,
                        "subscriptionExists": true,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0nC2MAJ"
                            },
                            "Id": "a0XA000000R0nC2MAJ",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0EkqMAF",
                            "SBQQ__Product__c": "01tA0000004fMFeIAM",
                            "SBQQ__ProductOption__c": "a0TA00000085xrWMAQ",
                            "SBQQ__Number__c": 7,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1300,
                            "SBQQ__ListPrice__c": 1300,
                            "SBQQ__OriginalPrice__c": 1300,
                            "SBQQ__MarkupRate__c": 3.54,
                            "SBQQ__NetPrice__c": 1300,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": true,
                            "SBQQ__PartnerPrice__c": 1300,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1300,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1300,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__ComponentTotal__c": 14419,
                            "SBQQ__ComponentCost__c": 0,
                            "SBQQ__ComponentListTotal__c": 14419,
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1300,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Appliance",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 1,
                            "SBQQ__RegularPrice__c": 1300,
                            "SBQQ__ProductFamily__c": "Hardware",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1300,
                            "SBQQ__ProductCode__c": "APPLIANCE",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000085xrWMAQ"
                                },
                                "Id": "a0TA00000085xrWMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2SMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Appliance",
                            "productCode": "APPLIANCE",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 3,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 9,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": "Allowed",
                        "configurationEvent": "Always",
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0nC3MAJ"
                            },
                            "Id": "a0XA000000R0nC3MAJ",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0nC2MAJ",
                            "SBQQ__Product__c": "01tA0000004fOKEIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvNMAQ",
                            "SBQQ__Number__c": 8,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 19,
                            "SBQQ__ListPrice__c": 19,
                            "SBQQ__OriginalPrice__c": 19,
                            "SBQQ__NetPrice__c": 19,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 19,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 19,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 19,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 19,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Power Cord - US",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 2,
                            "SBQQ__RegularPrice__c": 19,
                            "SBQQ__ProductFamily__c": "Accessories",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 19,
                            "SBQQ__ProductCode__c": "PCORD-US",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvNMAQ"
                                },
                                "Id": "a0TA00000083nvNMAQ",
                                "SBQQ__Feature__c": "a0SA000000Jke2cMAB"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Power Cord - US",
                            "productCode": "PCORD-US",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 9,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 10,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": "Required by Appliance",
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0nC4MAJ"
                            },
                            "Id": "a0XA000000R0nC4MAJ",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__RequiredBy__c": "a0XA000000R0nC2MAJ",
                            "SBQQ__Product__c": "01tA0000004fOKTIA2",
                            "SBQQ__ProductOption__c": "a0TA00000083nvhMAA",
                            "SBQQ__Number__c": 9,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 14400,
                            "SBQQ__DefaultSubscriptionTerm__c": 1,
                            "SBQQ__ListPrice__c": 1200,
                            "SBQQ__OriginalPrice__c": 1200,
                            "SBQQ__NetPrice__c": 14400,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__OptionType__c": "Component",
                            "SBQQ__BundledQuantity__c": 1,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 14400,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 14400,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 12,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1200,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionCategory__c": "Software",
                            "SBQQ__SubscriptionPricing__c": "Fixed Price",
                            "SBQQ__SubscriptionScope__c": "Group",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 14400,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Real-Time Analysis",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__OptionLevel__c": 2,
                            "SBQQ__RegularPrice__c": 14400,
                            "SBQQ__ProductFamily__c": "Software",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 14400,
                            "SBQQ__ProductCode__c": "ANALYSIS",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__ProductOption__r": {
                                "attributes": {
                                    "type": "SBQQ__ProductOption__c",
                                    "url": "/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0TA00000083nvhMAA"
                                },
                                "Id": "a0TA00000083nvhMAA",
                                "SBQQ__Feature__c": "a0SA000000Jke2XMAR"
                            },
                            "SBQQ__Source__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Real-Time Analysis",
                            "productCode": "ANALYSIS",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": 9,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 11,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }, {
                        "validPricebookEntryExists": true,
                        "upliftable": false,
                        "targetCustomerAmount": null,
                        "subscriptionExists": false,
                        "requiredByMessage": null,
                        "renewedSubscriptionDiscounts": null,
                        "renewalPrice": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLine__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0XA000000R0EktMAF"
                            },
                            "Id": "a0XA000000R0EktMAF",
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__Product__c": "01tA0000004fOKsIAM",
                            "SBQQ__Number__c": 10,
                            "SBQQ__AdditionalDiscount__c": 0,
                            "SBQQ__Bundled__c": false,
                            "SBQQ__ComponentDiscountedByPackage__c": false,
                            "SBQQ__CustomerPrice__c": 1200,
                            "SBQQ__ListPrice__c": 1200,
                            "SBQQ__OriginalPrice__c": 1200,
                            "SBQQ__NetPrice__c": 1200,
                            "SBQQ__NonDiscountable__c": false,
                            "SBQQ__NonPartnerDiscountable__c": false,
                            "SBQQ__Optional__c": false,
                            "SBQQ__Bundle__c": false,
                            "SBQQ__PartnerPrice__c": 1200,
                            "SBQQ__PriceEditable__c": false,
                            "SBQQ__ProratedListPrice__c": 1200,
                            "SBQQ__PricingMethod__c": "List",
                            "SBQQ__PricingMethodEditable__c": false,
                            "SBQQ__ProrateMultiplier__c": 1,
                            "SBQQ__Quantity__c": 1,
                            "SBQQ__SpecialPrice__c": 1200,
                            "SBQQ__SubscriptionBase__c": "List",
                            "SBQQ__SubscriptionScope__c": "Quote",
                            "SBQQ__Renewal__c": false,
                            "SBQQ__ProratedPrice__c": 1200,
                            "SBQQ__Taxable__c": false,
                            "SBQQ__Uplift__c": 0,
                            "SBQQ__UpliftAmount__c": 0,
                            "SBQQ__ComponentUpliftedByPackage__c": false,
                            "SBQQ__ProductName__c": "Training",
                            "SBQQ__Existing__c": false,
                            "SBQQ__EffectiveStartDate__c": "2016-02-11",
                            "SBQQ__RegularPrice__c": 1200,
                            "SBQQ__ProductFamily__c": "Services",
                            "SBQQ__CostEditable__c": false,
                            "SBQQ__Hidden__c": false,
                            "SBQQ__NetTotal__c": 1200,
                            "SBQQ__ProductCode__c": "TRAINING",
                            "SBQQ__Group__c": "a0WA000000GsPFOMA3",
                            "SBQQ__Product__r": null,
                            "SBQQ__Source__c": null,
                            "SBQQ__RequiredBy__c": null,
                            "SBQQ__ProductOption__c": null,
                            "SBQQ__SegmentIndex__c": null,
                            "SBQQ__SegmentLabel__c": null,
                            "SBQQ__SegmentKey__c": null,
                            "SBQQ__Dimension__c": null,
                            "SBQQ__DynamicOptionId__c": null,
                            "SBQQ__GenerateContractedPrice__c": null,
                            "SBQQ__Discount__c": null,
                            "SBQQ__AdditionalDiscountAmount__c": null,
                            "SBQQ__AdditionalQuantity__c": null,
                            "SBQQ__BatchQuantity__c": null,
                            "SBQQ__ComponentSubscriptionScope__c": null,
                            "SBQQ__CompoundDiscountRate__c": null,
                            "SBQQ__ContractedPrice__c": null,
                            "SBQQ__Cost__c": null,
                            "SBQQ__DefaultSubscriptionTerm__c": null,
                            "SBQQ__DiscountSchedule__c": null,
                            "SBQQ__DistributorDiscount__c": null,
                            "SBQQ__EndDate__c": null,
                            "SBQQ__MarkupRate__c": null,
                            "SBQQ__MarkupAmount__c": null,
                            "SBQQ__MaximumPrice__c": null,
                            "SBQQ__MinimumPrice__c": null,
                            "SBQQ__OptionDiscount__c": null,
                            "SBQQ__OptionDiscountAmount__c": null,
                            "SBQQ__OptionType__c": null,
                            "SBQQ__BundledQuantity__c": null,
                            "SBQQ__PartnerDiscount__c": null,
                            "SBQQ__RenewedAsset__c": null,
                            "SBQQ__RenewedSubscription__c": null,
                            "SBQQ__SpecialPriceType__c": null,
                            "SBQQ__StartDate__c": null,
                            "SBQQ__OriginalUnitCost__c": null,
                            "SBQQ__SubscribedAssetIds__c": null,
                            "SBQQ__SubscriptionCategory__c": null,
                            "SBQQ__SubscriptionPercent__c": null,
                            "SBQQ__SubscriptionPricing__c": null,
                            "SBQQ__SubscriptionTargetPrice__c": null,
                            "SBQQ__SubscriptionTerm__c": null,
                            "SBQQ__TermDiscountSchedule__c": null,
                            "SBQQ__UnitCost__c": null,
                            "SBQQ__ComponentTotal__c": null,
                            "SBQQ__ComponentCost__c": null,
                            "SBQQ__ComponentListTotal__c": null,
                            "SBQQ__DiscountScheduleType__c": null,
                            "SBQQ__PackageProductCode__c": null,
                            "SBQQ__DiscountTier__c": null,
                            "SBQQ__VolumeDiscount__c": null,
                            "SBQQ__BlockPrice__c": null,
                            "SBQQ__TermDiscountTier__c": null,
                            "SBQQ__TermDiscount__c": null,
                            "SBQQ__PriorQuantity__c": null,
                            "SBQQ__PreviousSegmentPrice__c": null,
                            "SBQQ__PreviousSegmentUplift__c": null,
                            "SBQQ__GrossProfit__c": null,
                            "SBQQ__PackageProductDescription__c": null,
                            "SBQQ__OptionLevel__c": null,
                            "SBQQ__UpgradedSubscription__c": null,
                            "SBQQ__UpgradedAsset__c": null,
                            "SBQQ__Description__c": null,
                            "SBQQ__Favorite__c": null,
                            "SBQQ__Group__r": null,
                            "SBQQ__RequiredBy__r": null
                        },
                        "reconfigurationDisabled": false,
                        "productQuantityScale": null,
                        "productQuantityEditable": true,
                        "productPullIns": {
                            "productName": "Training",
                            "productCode": "TRAINING",
                            "hasConfigurationAttributes": false,
                            "hasConfiguration": false,
                            "excludeFromOpportunity": false
                        },
                        "productHasDimensions": false,
                        "parentItemKey": null,
                        "parentGroupKey": 2,
                        "opportunityLineItemExists": true,
                        "key": 12,
                        "hasConfigAttrs": false,
                        "fieldVisibility": null,
                        "fieldEditability": null,
                        "expanded": false,
                        "dirty": false,
                        "dimensionType": null,
                        "descriptionLocked": false,
                        "configurationType": null,
                        "configurationEvent": null,
                        "componentVisibility": null,
                        "amountDiscountProrated": null,
                        "developerPrefix": "SBQQ__"
                    }],
                    "lineItemGroups": [{
                        "summaries": {},
                        "selectedDimension": null,
                        "regularProductTotal": null,
                        "record": {
                            "attributes": {
                                "type": "SBQQ__QuoteLineGroup__c",
                                "url": "/services/data/v36.0/sobjects/SBQQ__QuoteLineGroup__c/a0WA000000GsPFOMA3"
                            },
                            "Id": "a0WA000000GsPFOMA3",
                            "Name": "Group1",
                            "SBQQ__Number__c": 1,
                            "SBQQ__ListTotal__c": 59538,
                            "SBQQ__NetTotal__c": 59538,
                            "SBQQ__CustomerTotal__c": 59538,
                            "SBQQ__Quote__c": "a0bA000000Ep1BKIAZ",
                            "SBQQ__Optional__c": false,
                            "SBQQ__SeparateContract__c": false,
                            "SBQQ__Quote__r": null
                        },
                        "netProductTotal": null,
                        "netNonSegmentTotal": 59538,
                        "netMultiSegmentTotal": {},
                        "multiSegmentRowTotals": {},
                        "multiSegmentKeys": {},
                        "multiSegmentColumnTotals": {},
                        "multiSegmentColumns": {},
                        "localizedMultiSegmentColumns": {},
                        "listProductTotal": null,
                        "key": 2,
                        "hasMultiSegmentLines": false,
                        "customerProductTotal": null
                    }],
                    "lineFieldVisibility": null,
                    "lineFieldEditability": null,
                    "hasMultiSegmentLines": false,
                    "favoriteIds": [],
                    "deletedLineIds": [],
                    "deletedGroupIds": [],
                    "customerTotal": 59538,
                    "customerProductTotal": null,
                    "contractedAccountId": null,
                    "channelDiscountsOffList": false,
                    "calculationStatus": null,
                    "calculationError": null,
                    "calculatePending": null,
                    "applyPartnerDiscountFirst": false,
                    "applyAdditionalDiscountLast": false,
                    "accountRenewalModel": null,
                    "developerPrefix": "SBQQ__"
                },
                "multiSegmentLineSummaryFieldNames": ["SBQQ__ProductCode__c", "SBQQ__ProductName__c"],
                "multiSegmentLineFieldNames": ["SBQQ__Quantity__c", "SBQQ__ListPrice__c", "SBQQ__Uplift__c", "SBQQ__AdditionalDiscount__c", "SBQQ__NetPrice__c", "SBQQ__NetTotal__c"],
                "multiSegmentLineFieldEditability": {},
                "markupUnitOptions": [{
                    "value": "Percent",
                    "label": "%"
                }, {
                    "value": "Amount",
                    "label": "USD"
                }],
                "locale": "en_US",
                "linesSectionTitle": "Products",
                "lineFieldNamesTablet": null,
                "lineFieldNamesPhone": null,
                "lineFieldNames": ["SBQQ__ProductCode__c", "SBQQ__ProductName__c", "SBQQ__Quantity__c", "SBQQ__ListPrice__c", "SBQQ__AdditionalDiscount__c", "SBQQ__NetPrice__c", "SBQQ__NetTotal__c"],
                "headerTitle": "Edit Quote Products",
                "headerSubtitle": "Q-00065",
                "guidedMessages": null,
                "groupFieldNames": ["Name", "SBQQ__Optional__c", "SBQQ__SubscriptionTerm__c", "SBQQ__AdditionalDiscountRate__c", "SBQQ__Description__c"],
                "fieldMetadata": {},
                "discountScheduleModalFieldNames": ["SBQQ__Number__c", "Name", "SBQQ__LowerBound__c", "SBQQ__UpperBound__c", "SBQQ__Discount__c", "SBQQ__DiscountAmount__c"],
                "developerPrefix": "SBQQ__",
                "defaultQuoteProcessId": null,
                "defaultMarkupUnit": "Percent",
                "defaultAdditionalDiscountUnit": "Percent",
                "customLabels": {
                    "msg_cannot_parse_url": "Cannot parse URL",
                    "msg_group_name_missing": "You must enter a group name",
                    "msg_save_quote": "Save",
                    "lbl_cancel": "Cancel",
                    "lbl_save": "Save"
                },
                "customActions": [{
                    "attributes": {
                        "type": "SBQQ__CustomAction__c"
                    },
                    "Name": "AddProducts",
                    "SBQQ__TargetObject__c": "Product",
                    "SBQQ__Label__c": "Add Products",
                    "SBQQ__DisplayOrder__c": 1,
                    "SBQQ__Page__c": "Quote Line Editor"
                }, {
                    "attributes": {
                        "type": "SBQQ__CustomAction__c"
                    },
                    "Name": "AddFavorites",
                    "SBQQ__TargetObject__c": "Favorite",
                    "SBQQ__Label__c": "Add Favorites",
                    "SBQQ__DisplayOrder__c": 1,
                    "SBQQ__Page__c": "Quote Line Editor"
                }],
                "currencySymbol": "$",
                "angularLocale": "en-us",
                "additionalDiscountUnitOptions": [{
                    "value": "Percent",
                    "label": "%"
                }, {
                    "value": "Amount",
                    "label": "USD"
                }]
            });

            _export("data", data);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJkYXRhLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
"use strict";System.register("quotes/mock/segmentedLineItemsTestData.js",[],function(_export,_context){var data;return {setters:[],execute:function(){_export("data",data={"userType":"Standard","subscriptionScopeOptions":[{"value":"Quote","label":"Quote"},{"value":"Group","label":"Group"}],"subscriptionBaseOptions":[{"value":"List","label":"List"},{"value":"Regular","label":"Regular"},{"value":"Customer","label":"Customer"},{"value":"Net","label":"Net"}],"solutionGroups":null,"settings":{"webQuoteLineSummaryFields":[],"usesClientCalculator":true,"usesBackgroundCalculator":false,"upgradeAssetsButtonRendered":true,"subscriptionTermUnitIsDay":false,"subscriptionProratePrecision":"day","solutionGroupsEnabled":false,"solutionGroupNameField":"Name","solutionGroupDescriptionField":"SBQQ__Description__c","renewSubscriptionsButtonRendered":false,"renewedAssetsHiddenWhenEditing":false,"renewalQuotesWithoutAssetsAllowed":false,"quoteLineSummaryFields":[],"quantityScale":2,"prorateAmountDiscountFieldName":null,"productHierarchyVisualized":true,"priceScale":2,"overageRateFieldName":"SBQQ__OverageRate__c","multiLineDeleteEnabled":true,"msgRequiredBy":"Required by {0}","jsqcPlugin":null,"jsqcLabels":{"msg_js_warn_condition_field_undefined":"Warning: Price Condition [{0}] tests against Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.","msg_sv_date_op_conflict_err":"Summary Variable [{0}] is non-numeric, and cannot be composed using Composite Operator {1}. Contact your SteelBrick Administrator.","msg_sumvar_composition_err":"Summary Variable [{0}] cannot be composed with Summary Variable [{1}]. Contact your SteelBrick Administrator.","msg_js_warn_src_action_field_null":"Warning: Price Action [{0}] references Source Field {1}, which is undefined. If this is unexpected, ensure that the field is JSQC-Compatible, and include this field in a CustomScript to guarantee calculation.","msg_js_err_no_advanced_condition":"Error: Price Rule [{0}] is missing Advanced Condition logic","msg_js_err_bad_advanced_condition":"Error: Price Rule [{0}] has an improperly formatted Advanced Condition","msg_no_block_price_for_quantity":"Error: Product [{0}] has no block price for this quantity. Please contact your administrator.","msg_js_err_sv_unrecognized_comp_op":"Error calculating Summary Variable [{0}]: Unrecognized composite operator {1}.","msg_js_err_invalid_op_price_condition":"Invalid operator {0} used on Price Condition [{1}]","msg_multiple_lookup_results":"Price Rule [{0}]: Multiple results returned from the query. Please contact your SteelBrick administrator.","msg_js_err_no_such_label":"Error: No custom label exists for the key {0}. Please contact your SteelBrick admin.","msg_js_err_id_conversion":"ID Conversion Error: Id [{0}] is neither 15 nor 18 characters long.","msg_js_err_sv_circular_reference":"Error calculating Summary Variable [{0}]: Circular Reference.","msg_js_err_sv_unsupported_aggregate":"Summary Variable [{0}] references unsupported aggregate function {1}","msg_js_err_sv_missing_aggregate":"Summary Variable [{0}] is missing an aggregate function","msg_js_err_sv_invalid_op":"Summary Variable [{0}] uses operator {1}, which is invalid.","msg_js_err_condition_target_object":"Ill-formed Price Condition [{0}]: Target must be either a Summary Variable, Quote, or Quote Line","msg_js_err_invalid_lookup_operator":"Invalid Operator {0} in Lookup Query [{1}]","msg_js_err_condition_targets_field_or_sv":"Ill-formed Price Condition: Must target either a Field, Summary Variable, or Formula [{0}]","msg_js_err_prorate_divide_by_zero":"Division by zero while calculating prorate multiplier","msg_js_err_unsupported_binary":"Formula Field {0} uses an unsupported binary operator {1}","msg_js_err_unsupported_unary":"Formula Field {0} uses an unsupported unary operator {1}","msg_js_err_unsupported_formula":"Formula Field {0} uses the formula {1}, which is unsupported.","msg_js_err_invalid_date":"Error while evaluating Formula Field {0}: invalid date","msg_js_err_unexpected_ast":"Syntax Error while evaluating Formula Field {0}. Please contact your SteelBrick Administrator.","msg_js_err_unsupported_lookup":"Formula Field {0} references lookup field {1}, which is unsupported.","msg_js_err_unsupported_global":"Formula Field {0} references global variable {1}.{2}, which is unsupported.","msg_js_err_no_metadata":"No metadata was retrieved for field {0}","msg_js_err_null_discount_tier":"Error: Discount Tier must not be null"},"isRenewedAssetsHiddenWhenEditing":false,"isMultiCurrencyOrg":false,"includeNetNewInMaintenanceEnabled":false,"hasQuotePriceRules":false,"groupNameRequired":true,"discountsUseCustomExclusionField":false,"dimensionValueLabelMap":{"One-time":"One-time","Custom":"Custom","Month":"Month","Quarter":"Quarter","Year":"Year"},"developerPrefix":"SBQQ__","currencySymbol":"$","currencyIsoCodes":null,"closeSearchFilterByDefault":true,"calculateImmediately":false,"bundleKeptTogether":true,"allowsNonConsecutiveCustomSegments":false,"actionsColumnPlacement":null},"referencedObjects":{},"quoteProcesses":[{"attributes":{"type":"SBQQ__QuoteProcess__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteProcess__c/a0UA0000015uTHFMA2"},"Id":"a0UA0000015uTHFMA2","Name":"Guided Selling","SBQQ__SortOrder__c":10,"SBQQ__Default__c":false}],"quoteObjectName":"SBQQ__Quote__c","quoteLineObjectName":"SBQQ__QuoteLine__c","quoteFieldsSectionTitle":"Quote Information","quoteFieldNames":[],"quote":{"summaries":{},"regularProductTotal":null,"referencedProductRecords":null,"referencedFieldMap":{"Quote Line":["SBQQ__ProductCode__c","SBQQ__ProductName__c","SBQQ__Quantity__c","SBQQ__ListPrice__c","SBQQ__AdditionalDiscount__c","SBQQ__NetPrice__c","SBQQ__NetTotal__c","SBQQ__RegularPrice__c","SBQQ__CustomerPrice__c","SBQQ__EffectiveQuantity__c","SBQQ__DiscountScheduleType__c","SBQQ__PriorQuantity__c","SBQQ__Existing__c","SBQQ__Renewal__c","SBQQ__PricingMethod__c","SBQQ__SubscriptionPricing__c"],"Group":["Name","SBQQ__Optional__c","SBQQ__SubscriptionTerm__c","SBQQ__AdditionalDiscountRate__c","SBQQ__Description__c"],"Quote":[],"Opportunity":[],"Account":[],"Product":[]},"record":{"attributes":{"type":"SBQQ__Quote__c","url":"/services/data/v36.0/sobjects/SBQQ__Quote__c/a0XA000000FE4aiMAD"},"Id":"a0XA000000FE4aiMAD","Name":"Q-04318","SBQQ__Type__c":"Quote","SBQQ__SubscriptionTerm__c":24,"SBQQ__ExpirationDate__c":"2016-03-09","SBQQ__NetAmount__c":276401,"SBQQ__CustomerAmount__c":276401,"SBQQ__PricebookId__c":"01sA0000000eYI5IAM","SBQQ__Is_Eligible_Price_Book__c":1,"SBQQ__ReferencedFieldTest__c":"show","SBQQ__Primary__c":false,"SBQQ__LineItemsGrouped__c":false,"SBQQ__CustomerDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__Account__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__StartDate__c":null,"SBQQ__EndDate__c":null,"SBQQ__MasterContract__c":null,"SBQQ__QuoteProcessId__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__FirstSegmentTermEndDate__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__EditLinesFieldSetName__c":null},"nextKey":35,"netTotal":276401,"netProductTotal":null,"netNonSegmentTotal":12601,"netMultiSegmentTotal":{"Custom":2000,"Month":240000,"Year":21800},"multiSegmentRowTotals":{"1458158895098":2000,"1458076078411":240000,"1457920179217":20000,"1455133048831":1800},"multiSegmentRowExpanded":{"1458158895098":false,"1458076078411":false,"1457920179217":false,"1455133048831":false},"multiSegmentKeys":{"1458158895098":"Custom","1458076078411":"Month","1457920179217":"Year","1455133048831":"Year"},"multiSegmentColumnTotals":{"Custom":{"Second Seg":1000,"Custom":1000},"Month":{"Month 24":10000,"Month 23":10000,"Month 22":10000,"Month 21":10000,"Month 20":10000,"Month 19":10000,"Month 18":10000,"Month 17":10000,"Month 16":10000,"Month 15":10000,"Month 14":10000,"Month 13":10000,"Month 12":10000,"Month 11":10000,"Month 10":10000,"Month  9":10000,"Month  8":10000,"Month  7":10000,"Month  6":10000,"Month  5":10000,"Month  4":10000,"Month  3":10000,"Month  2":10000,"Month  1":10000},"Year":{"Year  2":11000,"Year  1":10800}},"multiSegmentColumns":{"Custom":["Custom","Second Seg"],"Month":["Month  1","Month  2","Month  3","Month  4","Month  5","Month  6","Month  7","Month  8","Month  9","Month 10","Month 11","Month 12","Month 13","Month 14","Month 15","Month 16","Month 17","Month 18","Month 19","Month 20","Month 21","Month 22","Month 23","Month 24"],"Year":["Year  1","Year  2"]},"localizedMultiSegmentColumns":{"Custom":["Custom","Second Seg"],"Month":["Month  1","Month  2","Month  3","Month  4","Month  5","Month  6","Month  7","Month  8","Month  9","Month 10","Month 11","Month 12","Month 13","Month 14","Month 15","Month 16","Month 17","Month 18","Month 19","Month 20","Month 21","Month 22","Month 23","Month 24"],"Year":["Year  1","Year  2"]},"localizedDimensionNames":{"One-time":"One-time","Custom":"Custom","Month":"Month","Quarter":"Quarter","Year":"Year"},"localizationByFieldByProductId":{},"localizationByFieldByDimensionId":{},"listProductTotal":null,"lineSortField":null,"lineSecondarySortField":null,"lineItems":[{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000085782MAA"},"Id":"a0TA00000085782MAA","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uXQ4IAM","SBQQ__Number__c":1,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Year  1","SBQQ__SegmentKey__c":"1455133048831","SBQQ__Dimension__c":"a07A000000X0uu2IAB","SBQQ__AdditionalDiscount__c":200,"SBQQ__AdditionalDiscountAmount__c":200,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":800,"SBQQ__DefaultSubscriptionTerm__c":12,"SBQQ__EndDate__c":"2017-03-15","SBQQ__ListPrice__c":1000,"SBQQ__OriginalPrice__c":1000,"SBQQ__NetPrice__c":800,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":800,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":1000,"SBQQ__StartDate__c":"2016-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-03-16","SBQQ__EffectiveEndDate__c":"2017-03-15","SBQQ__RegularPrice__c":1000,"SBQQ__ProductCode__c":"MDQ","Name":"QL-0023678","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":800,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0uu2IAB"},"Id":"a07A000000X0uu2IAB","SBQQ__Type__c":"Year","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uXQ4IAM"},"Id":"01tA0000004uXQ4IAM","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product","productCode":"MDQ","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":2,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Year","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000085783MAA"},"Id":"a0TA00000085783MAA","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uXQ4IAM","SBQQ__Number__c":1,"SBQQ__SegmentIndex__c":2,"SBQQ__SegmentLabel__c":"Year  2","SBQQ__SegmentKey__c":"1455133048831","SBQQ__Dimension__c":"a07A000000X0uu2IAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":1000,"SBQQ__DefaultSubscriptionTerm__c":12,"SBQQ__EndDate__c":"2018-03-15","SBQQ__ListPrice__c":1000,"SBQQ__OriginalPrice__c":1000,"SBQQ__NetPrice__c":1000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":1000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":1000,"SBQQ__StartDate__c":"2017-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionPricing__c":"Fixed Price","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-03-16","SBQQ__EffectiveEndDate__c":"2018-03-15","SBQQ__RegularPrice__c":1000,"SBQQ__ProductCode__c":"MDQ","Name":"QL-0023679","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":1000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0uu2IAB"},"Id":"a07A000000X0uu2IAB","SBQQ__Type__c":"Year","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uXQ4IAM"},"Id":"01tA0000004uXQ4IAM","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product","productCode":"MDQ","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":3,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Year","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA000000866f4MAA"},"Id":"a0TA000000866f4MAA","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004fQNCIA2","SBQQ__Number__c":2,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Year  1","SBQQ__SegmentKey__c":"1457920179217","SBQQ__Dimension__c":"a07A000000Zg9KnIAJ","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__DefaultSubscriptionTerm__c":6,"SBQQ__EndDate__c":"2017-03-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"mdq standard","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-03-16","SBQQ__EffectiveEndDate__c":"2017-03-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"mdq","Name":"QL-0024465","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000Zg9KnIAJ"},"Id":"a07A000000Zg9KnIAJ","SBQQ__Type__c":"Year","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004fQNCIA2"},"Id":"01tA0000004fQNCIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"mdq standard","productCode":"mdq","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":4,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Year","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA000000866f5MAA"},"Id":"a0TA000000866f5MAA","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004fQNCIA2","SBQQ__Number__c":2,"SBQQ__SegmentIndex__c":2,"SBQQ__SegmentLabel__c":"Year  2","SBQQ__SegmentKey__c":"1457920179217","SBQQ__Dimension__c":"a07A000000Zg9KnIAJ","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__DefaultSubscriptionTerm__c":6,"SBQQ__EndDate__c":"2018-03-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"mdq standard","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-03-16","SBQQ__EffectiveEndDate__c":"2018-03-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"mdq","Name":"QL-0024466","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000Zg9KnIAJ"},"Id":"a07A000000Zg9KnIAJ","SBQQ__Type__c":"Year","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004fQNCIA2"},"Id":"01tA0000004fQNCIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"mdq standard","productCode":"mdq","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":5,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Year","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMRMA2"},"Id":"a0TA00000086CMRMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Month  1","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-04-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-03-16","SBQQ__EffectiveEndDate__c":"2016-04-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024499","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":6,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMSMA2"},"Id":"a0TA00000086CMSMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":2,"SBQQ__SegmentLabel__c":"Month  2","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-05-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-04-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-04-16","SBQQ__EffectiveEndDate__c":"2016-05-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024500","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":7,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMTMA2"},"Id":"a0TA00000086CMTMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":3,"SBQQ__SegmentLabel__c":"Month  3","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-06-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-05-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-05-16","SBQQ__EffectiveEndDate__c":"2016-06-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024501","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":8,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMUMA2"},"Id":"a0TA00000086CMUMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":4,"SBQQ__SegmentLabel__c":"Month  4","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-07-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-06-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-06-16","SBQQ__EffectiveEndDate__c":"2016-07-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024502","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":9,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMVMA2"},"Id":"a0TA00000086CMVMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":5,"SBQQ__SegmentLabel__c":"Month  5","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-08-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-07-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-07-16","SBQQ__EffectiveEndDate__c":"2016-08-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024503","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":10,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMWMA2"},"Id":"a0TA00000086CMWMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":6,"SBQQ__SegmentLabel__c":"Month  6","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-09-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-08-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-08-16","SBQQ__EffectiveEndDate__c":"2016-09-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024504","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":11,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMXMA2"},"Id":"a0TA00000086CMXMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":7,"SBQQ__SegmentLabel__c":"Month  7","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-10-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-09-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-09-16","SBQQ__EffectiveEndDate__c":"2016-10-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024505","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":12,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMYMA2"},"Id":"a0TA00000086CMYMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":8,"SBQQ__SegmentLabel__c":"Month  8","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-11-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-10-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-10-16","SBQQ__EffectiveEndDate__c":"2016-11-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024506","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":13,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMZMA2"},"Id":"a0TA00000086CMZMA2","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":9,"SBQQ__SegmentLabel__c":"Month  9","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2016-12-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-11-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-11-16","SBQQ__EffectiveEndDate__c":"2016-12-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024507","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":14,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMaMAM"},"Id":"a0TA00000086CMaMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":10,"SBQQ__SegmentLabel__c":"Month 10","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-01-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2016-12-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-12-16","SBQQ__EffectiveEndDate__c":"2017-01-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024508","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":15,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMbMAM"},"Id":"a0TA00000086CMbMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":11,"SBQQ__SegmentLabel__c":"Month 11","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-02-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-01-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-01-16","SBQQ__EffectiveEndDate__c":"2017-02-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024509","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":16,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMcMAM"},"Id":"a0TA00000086CMcMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":12,"SBQQ__SegmentLabel__c":"Month 12","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-03-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-02-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-02-16","SBQQ__EffectiveEndDate__c":"2017-03-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024510","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":17,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMdMAM"},"Id":"a0TA00000086CMdMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":13,"SBQQ__SegmentLabel__c":"Month 13","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-04-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-03-16","SBQQ__EffectiveEndDate__c":"2017-04-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024511","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":18,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMeMAM"},"Id":"a0TA00000086CMeMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":14,"SBQQ__SegmentLabel__c":"Month 14","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-05-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-04-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-04-16","SBQQ__EffectiveEndDate__c":"2017-05-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024512","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":19,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMfMAM"},"Id":"a0TA00000086CMfMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":15,"SBQQ__SegmentLabel__c":"Month 15","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-06-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-05-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-05-16","SBQQ__EffectiveEndDate__c":"2017-06-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024513","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":20,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMgMAM"},"Id":"a0TA00000086CMgMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":16,"SBQQ__SegmentLabel__c":"Month 16","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-07-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-06-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-06-16","SBQQ__EffectiveEndDate__c":"2017-07-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024514","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":21,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMhMAM"},"Id":"a0TA00000086CMhMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":17,"SBQQ__SegmentLabel__c":"Month 17","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-08-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-07-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-07-16","SBQQ__EffectiveEndDate__c":"2017-08-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024515","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":22,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMiMAM"},"Id":"a0TA00000086CMiMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":18,"SBQQ__SegmentLabel__c":"Month 18","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-09-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-08-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-08-16","SBQQ__EffectiveEndDate__c":"2017-09-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024516","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":23,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMjMAM"},"Id":"a0TA00000086CMjMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":19,"SBQQ__SegmentLabel__c":"Month 19","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-10-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-09-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-09-16","SBQQ__EffectiveEndDate__c":"2017-10-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024517","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":24,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMkMAM"},"Id":"a0TA00000086CMkMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":20,"SBQQ__SegmentLabel__c":"Month 20","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-11-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-10-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-10-16","SBQQ__EffectiveEndDate__c":"2017-11-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024518","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":25,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMlMAM"},"Id":"a0TA00000086CMlMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":21,"SBQQ__SegmentLabel__c":"Month 21","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2017-12-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-11-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-11-16","SBQQ__EffectiveEndDate__c":"2017-12-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024519","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":26,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMmMAM"},"Id":"a0TA00000086CMmMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":22,"SBQQ__SegmentLabel__c":"Month 22","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2018-01-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2017-12-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-12-16","SBQQ__EffectiveEndDate__c":"2018-01-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024520","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":27,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMnMAM"},"Id":"a0TA00000086CMnMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":23,"SBQQ__SegmentLabel__c":"Month 23","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2018-02-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2018-01-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2018-01-16","SBQQ__EffectiveEndDate__c":"2018-02-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024521","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":28,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086CMoMAM"},"Id":"a0TA00000086CMoMAM","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uYTDIA2","SBQQ__Number__c":3,"SBQQ__SegmentIndex__c":24,"SBQQ__SegmentLabel__c":"Month 24","SBQQ__SegmentKey__c":"1458076078411","SBQQ__Dimension__c":"a07A000000X0y8lIAB","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__EndDate__c":"2018-03-15","SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__StartDate__c":"2018-02-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Monthly","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2018-02-16","SBQQ__EffectiveEndDate__c":"2018-03-15","SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"MDQ monthly","Name":"QL-0024522","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000X0y8lIAB"},"Id":"a07A000000X0y8lIAB","SBQQ__Type__c":"Month","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uYTDIA2"},"Id":"01tA0000004uYTDIA2","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Monthly","productCode":"MDQ monthly","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":29,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Month","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086F2JMAU"},"Id":"a0TA00000086F2JMAU","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004f8brIAA","SBQQ__Number__c":4,"SBQQ__SegmentIndex__c":1,"SBQQ__SegmentLabel__c":"Custom","SBQQ__SegmentKey__c":"1458158895098","SBQQ__Dimension__c":"a07A000000YyEODIA3","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":1000,"SBQQ__EndDate__c":"2017-03-15","SBQQ__ListPrice__c":1000,"SBQQ__OriginalPrice__c":1000,"SBQQ__NetPrice__c":1000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":1000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":1000,"SBQQ__StartDate__c":"2016-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Custom","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2016-03-16","SBQQ__EffectiveEndDate__c":"2017-03-15","SBQQ__RegularPrice__c":1000,"SBQQ__ProductCode__c":"MDQ Custom","Name":"QL-0024556","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":1000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000YyEODIA3"},"Id":"a07A000000YyEODIA3","SBQQ__Type__c":"Custom","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004f8brIAA"},"Id":"01tA0000004f8brIAA","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Custom","productCode":"MDQ Custom","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":30,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Custom","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000086F2TMAU"},"Id":"a0TA00000086F2TMAU","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004f8brIAA","SBQQ__Number__c":4,"SBQQ__SegmentIndex__c":2,"SBQQ__SegmentLabel__c":"Second Seg","SBQQ__SegmentKey__c":"1458158895098","SBQQ__Dimension__c":"a07A000000YyEODIA3","SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":1000,"SBQQ__EndDate__c":"2018-03-04","SBQQ__ListPrice__c":1000,"SBQQ__OriginalPrice__c":1000,"SBQQ__NetPrice__c":1000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":1000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":1000,"SBQQ__StartDate__c":"2017-03-16","SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"MDQ Product Custom","SBQQ__Existing__c":false,"SBQQ__EffectiveStartDate__c":"2017-03-16","SBQQ__EffectiveEndDate__c":"2018-03-04","SBQQ__RegularPrice__c":1000,"SBQQ__ProductCode__c":"MDQ Custom","Name":"QL-0024557","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":1000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Dimension__r":{"attributes":{"type":"SBQQ__Dimension__c","url":"/services/data/v36.0/sobjects/SBQQ__Dimension__c/a07A000000YyEODIA3"},"Id":"a07A000000YyEODIA3","SBQQ__Type__c":"Custom","SBQQ__QuantityEditable__c":"Inherit"},"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004f8brIAA"},"Id":"01tA0000004f8brIAA","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"MDQ Product Custom","productCode":"MDQ Custom","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":true,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":31,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":"Custom","descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA000000852HwMAI"},"Id":"a0TA000000852HwMAI","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004fJfSIAU","SBQQ__Number__c":5,"SBQQ__AdditionalDiscount__c":400,"SBQQ__AdditionalDiscountAmount__c":200,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":800,"SBQQ__ListPrice__c":1000,"SBQQ__OriginalPrice__c":1000,"SBQQ__NetPrice__c":800,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":800,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":2,"SBQQ__SpecialPrice__c":1000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"!Sub !!","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":1000,"SBQQ__ProductCode__c":"NS N","Name":"QL-0023607","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":1600,"SBQQ__EffectiveQuantity__c":2,"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004fJfSIAU"},"Id":"01tA0000004fJfSIAU","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"!Sub !!","productCode":"NS N","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":32,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA000000852HxMAI"},"Id":"a0TA000000852HxMAI","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004fJfDIAU","SBQQ__Number__c":6,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":1000,"SBQQ__ListPrice__c":1000,"SBQQ__OriginalPrice__c":1000,"SBQQ__NetPrice__c":1000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":1000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":1000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"!Sub !Sub","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":1000,"SBQQ__ProductCode__c":"NS NS","Name":"QL-0023608","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":1000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004fJfDIAU"},"Id":"01tA0000004fJfDIAU","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"!Sub !Sub","productCode":"NS NS","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":33,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":true,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":null,"renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000085784MAA"},"Id":"a0TA00000085784MAA","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__Product__c":"01tA0000004uTZ4IAM","SBQQ__Number__c":7,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":10000,"SBQQ__ListPrice__c":10000,"SBQQ__OriginalPrice__c":10000,"SBQQ__NetPrice__c":10000,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__Bundle__c":true,"SBQQ__PartnerPrice__c":10000,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":10000,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":10000,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__ComponentTotal__c":1,"SBQQ__ComponentCost__c":0,"SBQQ__ComponentListTotal__c":1,"SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":10000,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"Grouped Option Constraints Demo","SBQQ__Existing__c":false,"SBQQ__RegularPrice__c":10000,"SBQQ__ProductCode__c":"GOC Demo","Name":"QL-0023680","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":10000,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uTZ4IAM"},"Id":"01tA0000004uTZ4IAM","SBQQ__HasConfigurationAttributes__c":true},"SBQQ__Source__c":null,"SBQQ__RequiredBy__c":null,"SBQQ__ProductOption__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__OptionType__c":null,"SBQQ__BundledQuantity__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__OptionLevel__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"Grouped Option Constraints Demo","productCode":"GOC Demo","hasConfigurationAttributes":true,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":null,"parentGroupKey":null,"opportunityLineItemExists":false,"key":34,"hasConfigAttrs":true,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":"Required","configurationEvent":"Always","componentVisibility":null,"amountDiscountProrated":null},{"validPricebookEntryExists":true,"upliftable":false,"targetCustomerAmount":null,"subscriptionExists":false,"requiredByMessage":"Required by Grouped Option Constraints Demo","renewedSubscriptionDiscounts":null,"renewalPrice":null,"record":{"attributes":{"type":"SBQQ__QuoteLine__c","url":"/services/data/v36.0/sobjects/SBQQ__QuoteLine__c/a0TA00000085785MAA"},"Id":"a0TA00000085785MAA","SBQQ__Quote__c":"a0XA000000FE4aiMAD","SBQQ__RequiredBy__c":"a0TA00000085784MAA","SBQQ__Product__c":"01tA0000004uTZ9IAM","SBQQ__ProductOption__c":"a0PA000000CVksXMAT","SBQQ__Number__c":8,"SBQQ__AdditionalDiscount__c":0,"SBQQ__Bundled__c":false,"SBQQ__ComponentDiscountedByPackage__c":false,"SBQQ__CustomerPrice__c":1,"SBQQ__ListPrice__c":1,"SBQQ__OriginalPrice__c":1,"SBQQ__NetPrice__c":1,"SBQQ__NonDiscountable__c":false,"SBQQ__NonPartnerDiscountable__c":false,"SBQQ__Optional__c":false,"SBQQ__OptionType__c":"Component","SBQQ__BundledQuantity__c":1,"SBQQ__Bundle__c":false,"SBQQ__PartnerPrice__c":1,"SBQQ__PriceEditable__c":false,"SBQQ__ProratedListPrice__c":1,"SBQQ__PricingMethod__c":"List","SBQQ__PricingMethodEditable__c":false,"SBQQ__ProrateMultiplier__c":1,"SBQQ__Quantity__c":1,"SBQQ__SpecialPrice__c":1,"SBQQ__SubscriptionBase__c":"List","SBQQ__SubscriptionScope__c":"Quote","SBQQ__Renewal__c":false,"SBQQ__ProratedPrice__c":1,"SBQQ__Taxable__c":false,"SBQQ__Uplift__c":0,"SBQQ__UpliftAmount__c":0,"SBQQ__ComponentUpliftedByPackage__c":false,"SBQQ__ProductName__c":"A","SBQQ__Existing__c":false,"SBQQ__OptionLevel__c":1,"SBQQ__RegularPrice__c":1,"SBQQ__ProductCode__c":"GOC Demo A","Name":"QL-0023681","SBQQ__CostEditable__c":false,"SBQQ__Hidden__c":false,"SBQQ__NetTotal__c":1,"SBQQ__EffectiveQuantity__c":1,"SBQQ__Product__r":{"attributes":{"type":"Product2","url":"/services/data/v36.0/sobjects/Product2/01tA0000004uTZ9IAM"},"Id":"01tA0000004uTZ9IAM","SBQQ__HasConfigurationAttributes__c":false},"SBQQ__ProductOption__r":{"attributes":{"type":"SBQQ__ProductOption__c","url":"/services/data/v36.0/sobjects/SBQQ__ProductOption__c/a0PA000000CVksXMAT"},"Id":"a0PA000000CVksXMAT"},"SBQQ__Source__c":null,"SBQQ__SegmentIndex__c":null,"SBQQ__SegmentLabel__c":null,"SBQQ__SegmentKey__c":null,"SBQQ__Dimension__c":null,"SBQQ__DynamicOptionId__c":null,"SBQQ__GenerateContractedPrice__c":null,"SBQQ__Discount__c":null,"SBQQ__AdditionalDiscountAmount__c":null,"SBQQ__AdditionalQuantity__c":null,"SBQQ__BatchQuantity__c":null,"SBQQ__ComponentSubscriptionScope__c":null,"SBQQ__CompoundDiscountRate__c":null,"SBQQ__ContractedPrice__c":null,"SBQQ__Cost__c":null,"SBQQ__DefaultSubscriptionTerm__c":null,"SBQQ__DiscountSchedule__c":null,"SBQQ__DistributorDiscount__c":null,"SBQQ__EndDate__c":null,"SBQQ__MarkupRate__c":null,"SBQQ__MarkupAmount__c":null,"SBQQ__MaximumPrice__c":null,"SBQQ__MinimumPrice__c":null,"SBQQ__OptionDiscount__c":null,"SBQQ__OptionDiscountAmount__c":null,"SBQQ__PartnerDiscount__c":null,"SBQQ__RenewedAsset__c":null,"SBQQ__RenewedSubscription__c":null,"SBQQ__SpecialPriceType__c":null,"SBQQ__StartDate__c":null,"SBQQ__OriginalUnitCost__c":null,"SBQQ__SubscribedAssetIds__c":null,"SBQQ__SubscriptionCategory__c":null,"SBQQ__SubscriptionPercent__c":null,"SBQQ__SubscriptionPricing__c":null,"SBQQ__SubscriptionTargetPrice__c":null,"SBQQ__SubscriptionTerm__c":null,"SBQQ__TermDiscountSchedule__c":null,"SBQQ__UnitCost__c":null,"SBQQ__ComponentTotal__c":null,"SBQQ__ComponentCost__c":null,"SBQQ__ComponentListTotal__c":null,"SBQQ__DiscountScheduleType__c":null,"SBQQ__PackageProductCode__c":null,"SBQQ__DiscountTier__c":null,"SBQQ__VolumeDiscount__c":null,"SBQQ__BlockPrice__c":null,"SBQQ__TermDiscountTier__c":null,"SBQQ__TermDiscount__c":null,"SBQQ__PriorQuantity__c":null,"SBQQ__PreviousSegmentPrice__c":null,"SBQQ__PreviousSegmentUplift__c":null,"SBQQ__GrossProfit__c":null,"SBQQ__PackageProductDescription__c":null,"SBQQ__UpgradedSubscription__c":null,"SBQQ__UpgradedAsset__c":null,"SBQQ__Description__c":null,"SBQQ__Favorite__c":null,"SBQQ__RequiredBy__r":null,"SBQQ__Group__r":null},"reconfigurationDisabled":false,"productQuantityScale":null,"productQuantityEditable":true,"productPullIns":{"productName":"A","productCode":"GOC Demo A","hasConfigurationAttributes":false,"hasConfiguration":false,"excludeFromOpportunity":false},"productHasDimensions":false,"parentItemKey":34,"parentGroupKey":null,"opportunityLineItemExists":false,"key":35,"hasConfigAttrs":false,"fieldVisibility":null,"fieldEditability":null,"expanded":false,"dirty":false,"dimensionType":null,"descriptionLocked":false,"configurationType":null,"configurationEvent":null,"componentVisibility":null,"amountDiscountProrated":null}],"lineItemGroups":[],"lineFieldVisibility":null,"lineFieldEditability":null,"hasMultiSegmentLines":true,"favoriteIds":[],"deletedLineIds":[],"deletedGroupIds":[],"customerTotal":276401,"customerProductTotal":null,"contractedAccountId":null,"channelDiscountsOffList":false,"calculationStatus":null,"calculationError":null,"calculatePending":null,"applyPartnerDiscountFirst":false,"applyAdditionalDiscountLast":false,"accountRenewalModel":null},"multiSegmentLineSummaryFieldNames":["SBQQ__ProductCode__c","SBQQ__ProductName__c"],"multiSegmentLineFieldNames":["SBQQ__Quantity__c","SBQQ__ListPrice__c","SBQQ__Uplift__c","SBQQ__AdditionalDiscount__c","SBQQ__NetPrice__c","SBQQ__NetTotal__c"],"multiSegmentLineFieldEditability":{},"markupUnitOptions":[{"value":"Percent","label":"%"},{"value":"Amount","label":"USD"}],"locale":"en_US","linesSectionTitle":"Products","lineFieldNamesTablet":null,"lineFieldNamesPhone":null,"lineFieldNames":["SBQQ__ProductCode__c","SBQQ__ProductName__c","SBQQ__Quantity__c","SBQQ__ListPrice__c","SBQQ__AdditionalDiscount__c","SBQQ__NetPrice__c","SBQQ__NetTotal__c"],"headerTitle":"Edit Quote Products","headerSubtitle":"Q-04318","guidedMessages":null,"groupFieldNames":["Name","SBQQ__Optional__c","SBQQ__SubscriptionTerm__c","SBQQ__AdditionalDiscountRate__c","SBQQ__Description__c"],"fieldMetadata":{},"discountScheduleModalFieldNames":["SBQQ__Number__c","Name","SBQQ__LowerBound__c","SBQQ__UpperBound__c","SBQQ__Discount__c","SBQQ__DiscountAmount__c"],"developerPrefix":"SBQQ__","defaultQuoteProcessId":null,"defaultMarkupUnit":"Percent","defaultAdditionalDiscountUnit":"Percent","customLabels":{"msg_cannot_parse_url":"Cannot parse URL","msg_group_name_missing":"You must enter a group name","msg_save_quote":"Save","lbl_cancel":"Cancel","lbl_save":"Save"},"customActions":[{"attributes":{"type":"SBQQ__CustomAction__c","url":"/services/data/v36.0/sobjects/SBQQ__CustomAction__c/a05A000000NhIAVIA3"},"Id":"a05A000000NhIAVIA3","Name":"GIS","SBQQ__TargetObject__c":"--None--","SBQQ__DisplayOrder__c":100,"SBQQ__Default__c":true,"SBQQ__URL__c":"https://sbqq.na7.visual.force.com/apex/GIS","SBQQ__Page__c":"Product Configurator","SBQQ__URLTarget__c":"Popup","SBQQ__Label__c":"GIS"},{"attributes":{"type":"SBQQ__CustomAction__c","url":"/services/data/v36.0/sobjects/SBQQ__CustomAction__c/a05A000000PR3g1IAD"},"Id":"a05A000000PR3g1IAD","Name":"GIS","SBQQ__TargetObject__c":"--None--","SBQQ__DisplayOrder__c":100,"SBQQ__Default__c":false,"SBQQ__URL__c":"https://sbqq.na7.visual.force.com/apex/GIS","SBQQ__Page__c":"Quote Line Editor","SBQQ__URLTarget__c":"Popup","SBQQ__ConditionsMet__c":"All","SBQQ__Label__c":"GIS","SBQQ__Custom_Action_Conditions__r":{"totalSize":1,"done":true,"records":[{"attributes":{"type":"SBQQ__CustomActionCondition__c","url":"/services/data/v36.0/sobjects/SBQQ__CustomActionCondition__c/a0pA00000048SPgIAM"},"SBQQ__CustomAction__c":"a05A000000PR3g1IAD","Id":"a0pA00000048SPgIAM","Name":"RFT Condition","SBQQ__Field__c":"SBQQ__ReferencedFieldTest__c","SBQQ__FilterValue__c":"show","SBQQ__Operator__c":"equals","SBQQ__TargetObject__c":"Quote"}]}},{"attributes":{"type":"SBQQ__CustomAction__c","url":"/services/data/v36.0/sobjects/SBQQ__CustomAction__c/a05A000000PQsYhIAL"},"Id":"a05A000000PQsYhIAL","Name":"Add","SBQQ__TargetObject__c":"Product","SBQQ__DisplayOrder__c":110,"SBQQ__Default__c":true,"SBQQ__Page__c":"Quote Line Editor","SBQQ__ConditionsMet__c":"All","SBQQ__Label__c":"Add Products"},{"attributes":{"type":"SBQQ__CustomAction__c"},"Name":"AddFavorites","SBQQ__TargetObject__c":"Favorite","SBQQ__Label__c":"Add Favorites","SBQQ__DisplayOrder__c":1,"SBQQ__Page__c":"Quote Line Editor"},{"attributes":{"type":"SBQQ__CustomAction__c"},"Name":"UpgradeAssets","SBQQ__TargetObject__c":"Asset","SBQQ__Label__c":"Upgrade Assets","SBQQ__DisplayOrder__c":111,"SBQQ__Page__c":"Quote Line Editor"}],"currencySymbol":"$","angularLocale":"en-us","additionalDiscountUnitOptions":[{"value":"Percent","label":"%"},{"value":"Amount","label":"USD"}]});_export("data",data);}};});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZWdtZW50ZWRMaW5lSXRlbXNUZXN0RGF0YS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('quotes/sb-line-editor/LineEditor.js', ['../../common/core/Page.js', 'quotes/EditorViewModel.js'], function (_export, _context) {
	var Page, EditorViewModel, _createClass, LineEditor;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	return {
		setters: [function (_commonCorePageJs) {
			Page = _commonCorePageJs.Page;
		}, function (_quotesEditorViewModelJs) {
			EditorViewModel = _quotesEditorViewModelJs.EditorViewModel;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('LineEditor', LineEditor = function (_Page) {
				_inherits(LineEditor, _Page);

				function LineEditor() {
					_classCallCheck(this, LineEditor);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(LineEditor).apply(this, arguments));
				}

				_createClass(LineEditor, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-line-editor';
						this.properties = Polymer.Base.extend({
							data: {
								type: Object,
								observer: 'editorModelChanged'
							}
						}, Page.properties);
					}
				}, {
					key: 'ready',
					value: function ready() {
						this.dataIsBound = false;
						this.editorModel = {};
					}
				}, {
					key: 'action',
					value: function action() {
						var actions = this.$.actions;
					}
				}, {
					key: 'editorModelChanged',
					value: function editorModelChanged() {
						console.log(this.data);
						this.editorModel = new EditorViewModel(this.data);
						console.log(this.editorModel);
						this.dataIsBound = true;
					}
				}, {
					key: 'onCancel',
					value: function onCancel() {
						this.nav('/quote?qId=' + this.editorModel.quote.record.Id);
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return LineEditor;
			}(Page));

			_export('LineEditor', LineEditor);

			Polymer(LineEditor);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJMaW5lRWRpdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/services/services.js', ['products/services/sb-pc-product-load/ProductLoader.js', 'products/services/sb-pl-sm-load/SearchModelLoader.js'], function (_export, _context) {
  return {
    setters: [function (_productsServicesSbPcProductLoadProductLoaderJs) {}, function (_productsServicesSbPlSmLoadSearchModelLoaderJs) {}],
    execute: function () {}
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzZXJ2aWNlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('quotes/sb-line-groups/LineGroups.js', ['../../common/core/Page.js'], function (_export, _context) {
  var Page, _createClass, LineGroups;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  return {
    setters: [function (_commonCorePageJs) {
      Page = _commonCorePageJs.Page;
    }],
    execute: function () {
      _createClass = function () {
        function defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        return function (Constructor, protoProps, staticProps) {
          if (protoProps) defineProperties(Constructor.prototype, protoProps);
          if (staticProps) defineProperties(Constructor, staticProps);
          return Constructor;
        };
      }();

      _export('LineGroups', LineGroups = function () {
        function LineGroups() {
          _classCallCheck(this, LineGroups);
        }

        _createClass(LineGroups, [{
          key: 'beforeRegister',
          value: function beforeRegister() {
            this.is = 'sb-line-groups', this.properties = Polymer.Base.extend({
              group: {
                type: Object
              },
              editorViewModel: {
                type: Object
              },
              lineItems: {
                type: Array
              }
            }, Page.properties);
          }
        }, {
          key: 'groupChanged',
          value: function groupChanged(group, editorViewModel) {
            this.lineItems = this.group.lineItems;
            this.editorViewModel = this.group.quote.editorViewModel;
          }
        }, {
          key: 'observers',
          get: function get() {
            return ['groupChanged(group, editorViewModel)'];
          }
        }]);

        return LineGroups;
      }());

      _export('LineGroups', LineGroups);

      Polymer(LineGroups);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJMaW5lR3JvdXBzLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('quotes/sb-line-items/LineItems.js', [], function (_export, _context) {
	var _createClass, LineItems;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('LineItems', LineItems = function () {
				function LineItems() {
					_classCallCheck(this, LineItems);
				}

				_createClass(LineItems, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-line-items';
						this.properties = {
							lineItems: {
								type: Array,
								notify: true
							},
							actionsOnTheLeft: {
								type: Boolean,
								computed: 'getActionsColumnPosition(editorModel)'
							},
							editorModel: {
								type: Object
							}
						};
					}
				}, {
					key: 'getField',
					value: function getField(change, index, path) {
						var newPath = 'record.' + path;
						return this.get(newPath, change.base[index]);
					}
				}, {
					key: 'isBundleVisualized',
					value: function isBundleVisualized(fieldName, line) {
						return this.editorModel.settings.productHierarchyVisualized && fieldName == this.editorModel.developerPrefix + 'ProductName__c' && line.component;
					}
				}, {
					key: 'getIndentClass',
					value: function getIndentClass(line) {
						var optionLevel = line.record.SBQQ__OptionLevel__c;

						if (optionLevel > 0) {
							return 'sbIndent' + optionLevel;
						} else {
							return '';
						}
					}
				}, {
					key: 'getActionsColumnPosition',
					value: function getActionsColumnPosition(editorModel) {
						return editorModel.settings ? editorModel.settings.actionsColumnPlacement == 'Left' : false;
					}
				}, {
					key: 'testUpdateLineNumber',
					value: function testUpdateLineNumber() {
						console.log(event.model.line.record.SBQQ__Number__c);
					}
				}, {
					key: 'testUpdateField',
					value: function testUpdateField(e) {
						var model = e.model;
						model.set('lineItems.' + model.lineIndex + '.record.' + model.fieldName, 'updated');
					}
				}, {
					key: 'testUpdateLine',
					value: function testUpdateLine(e) {
						e.model.set('line.record.SBQQ__Quantity__c', 99);
					}
				}]);

				return LineItems;
			}());

			_export('LineItems', LineItems);

			Polymer(LineItems);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJMaW5lSXRlbXMuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('quotes/sb-segmented-line-items/SegmentedLineItems.js', [], function (_export, _context) {
	var _createClass, ICON_RIGHT, ICON_DOWN, SegmentedLineItems;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			ICON_RIGHT = 'sf-icon-right';
			ICON_DOWN = 'sf-icon-down';

			_export('SegmentedLineItems', SegmentedLineItems = function () {
				function SegmentedLineItems() {
					_classCallCheck(this, SegmentedLineItems);
				}

				_createClass(SegmentedLineItems, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-segmented-line-items';
						this.properties = {
							editorModel: {
								type: Object,
								observer: '_editorModelChanged'
							},
							actionsOnTheLeft: {
								type: Boolean,
								computed: 'getActionsColumnPosition(editorModel)'
							},
							groups: {
								type: Object
							},
							group: Object,
							selected: {
								type: Number,
								value: 0
							}
						};
					}
				}, {
					key: '_editorModelChanged',
					value: function _editorModelChanged() {
						if (this.editorModel && this.editorModel.quote) {}
					}
				}, {
					key: 'getField',
					value: function getField(change, path) {
						return this.get('record.' + path, change);
					}
				}, {
					key: 'getSegmentRowTotal',
					value: function getSegmentRowTotal(change, path) {
						return this.get(path.segmentKey, change.multiSegmentRowTotals);
					}
				}, {
					key: 'getMultiSegmentColumns',
					value: function getMultiSegmentColumns(dimension) {
						return this.group.multiSegmentColumns[dimension.type];
					}
				}, {
					key: 'getMultiSegmentColumnTotal',
					value: function getMultiSegmentColumnTotal(change, dimensionType, path) {
						return change[dimensionType][path];
					}
				}, {
					key: 'getNetMultiSegmentTotal',
					value: function getNetMultiSegmentTotal(change, dimensionType) {
						return change[dimensionType];
					}
				}, {
					key: 'getActionsColumnPosition',
					value: function getActionsColumnPosition(editorModel) {
						return editorModel.settings ? editorModel.settings.actionsColumnPlacement == 'Left' : false;
					}
				}, {
					key: 'getLeftColumnCount',
					value: function getLeftColumnCount() {
						var count = 1;
						if (this.actionsOnTheLeft) count++;
						if (this.editorModel.settings.multiLineDeleteEnabled) count++;
						return count += this.editorModel.multiSegmentLineSummaryFieldNames.length;
					}
				}, {
					key: 'getRightColumnCount',
					value: function getRightColumnCount() {
						return this.actionsOnTheLeft ? 1 : 2;
					}
				}, {
					key: 'getClassName',
					value: function getClassName(expanded) {
						return expanded ? 'expanded' : '';
					}
				}, {
					key: 'toggleSegmentExpansion',
					value: function toggleSegmentExpansion(e) {
						var model = e.model;
						model.set('segmentedLine.expanded', !model.segmentedLine.expanded);
						model.set('segmentedLine.expansionIcon', model.segmentedLine.expanded ? ICON_DOWN : ICON_RIGHT);
					}
				}, {
					key: 'toggleDimensionExpansion',
					value: function toggleDimensionExpansion(e) {
						var model = e.model;
						model.dimension.expanded = !model.dimension.expanded;
						model.set('dimension.segmentsExpansionIcon', model.dimension.expanded ? ICON_DOWN : ICON_RIGHT);

						for (var i = 0; i < model.dimension.lineItems.length; i++) {
							model.set('dimension.lineItems.' + i + '.expanded', model.dimension.expanded);
							model.set('dimension.lineItems.' + i + '.expansionIcon', model.dimension.expanded ? ICON_DOWN : ICON_RIGHT);
						}
					}
				}]);

				return SegmentedLineItems;
			}());

			_export('SegmentedLineItems', SegmentedLineItems);

			Polymer(SegmentedLineItems);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJTZWdtZW50ZWRMaW5lSXRlbXMuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('common/oauth/OAuth.js', ['common/oauth/oauth.local.js'], function (_export, _context) {
    var OAUTH_KEY, OAUTH_SECRET, _createClass, oauth2, OAuth;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [function (_commonOauthOauthLocalJs) {
            OAUTH_KEY = _commonOauthOauthLocalJs.OAUTH_KEY;
            OAUTH_SECRET = _commonOauthOauthLocalJs.OAUTH_SECRET;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            oauth2 = {
                clientId: OAUTH_KEY,
                clientSecret: OAUTH_SECRET,
                redirectUri: 'http://localhost:' + location.port + '/common/oauth/callback',
                proxyUrl: 'https://brick-rest-proxy.herokuapp.com/proxy/'
            };

            _export('OAuth', OAuth = function () {
                function OAuth() {
                    _classCallCheck(this, OAuth);

                    if (!oauth2.clientId || !oauth2.clientSecret) throw Error(this._getNoOAuthClientKeyMessage());

                    var storeTokens = jsforce.browser.Client.prototype._storeTokens.bind(jsforce.browser);

                    jsforce.browser.Client.prototype._storeTokens = function (params) {
                        storeTokens(params);
                        localStorage.setItem(this._prefix + '_refresh_token', params.refresh_token);
                    }.bind(jsforce.browser);

                    var removeTokens = jsforce.browser.Client.prototype._removeTokens.bind(jsforce.browser);

                    jsforce.browser.Client.prototype._removeTokens = function () {
                        removeTokens();
                        localStorage.removeItem(this._prefix + '_refresh_token');
                    }.bind(jsforce.browser);

                    var getTokens = jsforce.browser.Client.prototype._getTokens.bind(jsforce.browser);

                    jsforce.browser.Client.prototype._getTokens = function () {
                        var tokens = getTokens();
                        if (tokens) tokens.refreshToken = localStorage.getItem(this._prefix + '_refresh_token');
                        return tokens;
                    }.bind(jsforce.browser);

                    var isLoggedIn = jsforce.browser.Client.prototype.isLoggedIn.bind(jsforce.browser);

                    jsforce.browser.Client.prototype.isLoggedIn = function () {
                        if (!isLoggedIn()) return false;
                        return this.connection.refreshToken;
                    }.bind(jsforce.browser);

                    (function () {
                        localStorage.setItem(this._prefix + '_issued_at', new Date().getTime());
                        document.cookie = this._prefix + '_loggedin=true;';
                    }).bind(jsforce.browser)();
                    jsforce.browser.init(oauth2);
                }

                _createClass(OAuth, [{
                    key: 'login',
                    value: function login() {
                        jsforce.browser.login();
                    }
                }, {
                    key: 'getConnection',
                    value: function getConnection() {
                        if (!jsforce.browser.isLoggedIn()) return Promise.reject('Please login before establishing a connection at http://localhost:' + location.port + '/common/oauth');
                        return new Promise(function (resolve, reject) {
                            jsforce.browser.on('connect', function (conn) {
                                var createRequestParams = conn.apex._createRequestParams.bind(conn.apex);

                                conn.apex._createRequestParams = function (method, path, body) {
                                    var params = createRequestParams(method, path, body);
                                    params.headers = params.headers || {};
                                    params.headers['X-Authorization'] = conn.refreshToken;
                                    return params;
                                };

                                resolve(conn);
                            });
                            jsforce.browser.init(oauth2);
                        });
                    }
                }, {
                    key: '_getNoOAuthClientKeyMessage',
                    value: function _getNoOAuthClientKeyMessage() {
                        return 'Need to add a \'.env.json\' file in the CPQ dir whose contents contains the Consumer Key and Consumer Secret of the Steelbrick CPQ Connected App, and then execute a gulp compile.\n' + '{"oauth_key": "<Consumer Key>, "oauth_secret": "<Consumer Secret>"}';
                    }
                }, {
                    key: 'accessToken',
                    set: function set(accessToken) {
                        localStorage.setItem(jsforce.browser._prefix + '_access_token', accessToken);
                    }
                }, {
                    key: 'tokens',
                    get: function get() {
                        return jsforce.browser._getTokens();
                    },
                    set: function set(tokens) {
                        jsforce.browser._storeTokens(tokens);
                    }
                }]);

                return OAuth;
            }());

            _export('OAuth', OAuth);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJPQXV0aC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/oauth/oauth.local.js', [], function (_export, _context) {
  var OAUTH_KEY, OAUTH_SECRET;
  return {
    setters: [],
    execute: function () {
      _export('OAUTH_KEY', OAUTH_KEY = '3MVG9yZ.WNe6byQBf3KaROSnAINMpMlCRNXj2YJ3NfuFlQ3W5MNuK89Wldb3FsiUK3kdxgMStp.7aOMpdeThJ');

      _export('OAUTH_KEY', OAUTH_KEY);

      _export('OAUTH_SECRET', OAUTH_SECRET = '8653803322759571172');

      _export('OAUTH_SECRET', OAUTH_SECRET);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJvYXV0aC5sb2NhbC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/entities/sb-entity-detail/EntityDetail.js', ['../../core/Page.js'], function (_export, _context) {
	var Page, _createClass, EntityDetail;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	return {
		setters: [function (_corePageJs) {
			Page = _corePageJs.Page;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('EntityDetail', EntityDetail = function (_Page) {
				_inherits(EntityDetail, _Page);

				function EntityDetail() {
					_classCallCheck(this, EntityDetail);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(EntityDetail).apply(this, arguments));
				}

				_createClass(EntityDetail, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-entity-detail';
						this.properties = Polymer.Base.extend({
							model: String,
							modelClass: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							id: {
								type: String,
								value: function value() {
									return '';
								}
							},
							isNew: {
								type: Boolean,
								value: function value() {
									return true;
								}
							},
							layout: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							obj: {
								type: Object,
								value: function value() {
									return {};
								}
							}
						}, Page.properties);
					}
				}, {
					key: 'ready',
					value: function ready() {
						this.model = this.ctx.pathParams.type;
						this.modelClass = this.$.db[this.model];
						this.fields = this.modelClass.schema.properties;
						this.layout = this.$.db.objectLayouts[this.model].detail['default'];
						this.isNew = this.ctx.params.id ? false : true;
						this.id = this.ctx.params.id;
					}
				}, {
					key: 'getEntityField',
					value: function getEntityField(viewField) {
						return this.fields[viewField.name];
					}
				}, {
					key: 'getObjTitleLabel',
					value: function getObjTitleLabel(obj, layout) {
						return this.obj[layout.titleAttr];
					}
				}, {
					key: 'getObjFieldLabel',
					value: function getObjFieldLabel(viewField) {
						return this.getEntityField(viewField).title;
					}
				}, {
					key: 'getFieldValue',
					value: function getFieldValue(viewField) {
						return this.obj[viewField.name];
					}
				}, {
					key: 'isViewable',
					value: function isViewable(field) {
						var f = this.fields[field.name];
						if (!this.isNew || this.isNew && f.$_type != 'formula' && f.$_type != 'autonumber') return true;
						return false;
					}
				}, {
					key: 'cancel',
					value: function cancel() {
						this.nav('/entities/' + this.model);
					}
				}, {
					key: 'preview',
					value: function preview() {
						this.nav('/docgen/preview?id=' + this.obj.id);
					}
				}, {
					key: 'save',
					value: function save(e, detail, sender, navUrl) {
						return this.obj.save().then(function (o) {
							this.nav(navUrl ? navUrl : '/entities/' + this.model + '/detail?id=' + o.id);
						}.bind(this));
					}
				}, {
					key: 'saveNew',
					value: function saveNew(e, detail, sender) {
						this.save(e, detail, sender, '/entities/' + this.model + '/new').then(function () {
							window.dispatchEvent(new HashChangeEvent("hashchange"));
						});
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return EntityDetail;
			}(Page));

			_export('EntityDetail', EntityDetail);

			Polymer(EntityDetail);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJFbnRpdHlEZXRhaWwuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('common/entities/sb-entity-field/EntityField.js', ['../../core/Page.js'], function (_export, _context) {
	var Page, _createClass, INPUT, CHECKBOX, DATE, TEXTAREA, EntityField;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [function (_corePageJs) {
			Page = _corePageJs.Page;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			INPUT = '<input is="iron-input">';
			CHECKBOX = '<paper-checkbox></paper-checkbox>';
			DATE = '<input is="iron-input" type="date">';
			TEXTAREA = '<textarea is="iron-autogrow-textarea"></textarea>';

			_export('EntityField', EntityField = function () {
				function EntityField() {
					_classCallCheck(this, EntityField);
				}

				_createClass(EntityField, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-entity-field';
						this.properties = Polymer.Base.extend({
							field: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							viewField: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							object: {
								type: Object,
								value: function value() {
									return undefined;
								}
							},
							refRows: {
								type: Array,
								value: function value() {
									return [];
								}
							}
						}, Page.properties);
					}
				}, {
					key: 'render',
					value: function render() {
						var type = this.field ? this.field.$_type : undefined,
						    dValue = this.field ? this.field.defaultValue : undefined,
						    con = Polymer.dom(this.$.f);
						if (this.object && !this.object.id && this.field && this.field.id) this.object[this.field.id] = this.field.defaultValue;

						switch (type) {
							case 'boolean':
								var el = this.createBaseElement(CHECKBOX);
								el.checked = this.object[this.field.id];
								el.addEventListener('change', function (e) {
									if (this.object && this.field) this.object[this.field.id] = el.checked ? true : false;
								}.bind(this));
								break;

							case 'date':
							case 'datetime':
								el = this.createBaseElement(DATE, 'value');
								el.addEventListener('bind-value-changed', function (e) {
									if (this.object && this.field) this.object[this.field.id] = e.detail.value ? e.detail.value : null;
								}.bind(this));
								break;

							case 'number':
							case 'currency':
							case 'percent':
								el = this.createBaseElement(INPUT, 'value');
								el.addEventListener('bind-value-changed', function (e) {
									if (this.object && this.field) this.object[this.field.id] = e.detail.value ? parseFloat(e.detail.value) : null;
								}.bind(this));
								break;

							case 'autonumber':
								con.textContent = this.object[this.field.id];
								break;

							case 'enum':
								var none = !this.field.required && !this.viewField.required ? '-- None --' : '',
								    len = this.field.enum ? this.field.enum.length : 0,
								    html = '<select>' + (none ? '<option value>' + none + '</option>' : '');
								if (this.field.defaultValue && !this.object.id) this.object[this.field.id] = this.field.enum[i].value;

								for (var _i = 0; _i < len; _i++) {
									var selected = this.object[this.field.id] === this.field.enum[_i] ? true : false;
									html += '<option value="' + this.field.enum[_i] + '"' + (selected ? ' selected' : '') + '>' + this.field.enum[_i] + '</option>';
								}

								html += '</select>';
								el = this.createBaseElement(html);
								el.addEventListener('change', function (e) {
									if (this.object && this.field) this.object[this.field.id] = el.value ? el.value : null;
								}.bind(this));
								break;

							case 'lookup':
								break;

							case 'autonumber':
								con.textContent = this.object[this.field.id];
								break;

							case 'string':
								if (this.field.maxLength > 255 || this.field.format === 'multiline') {
									el = this.createBaseElement(TEXTAREA, 'value');
									el.addEventListener('bind-value-changed', function (e) {
										if (this.object && this.field) this.object[this.field.id] = e.detail.value ? e.detail.value : null;
									}.bind(this));
								} else {
									var _el = this.createBaseElement(INPUT, 'value');

									_el.addEventListener('bind-value-changed', function (e) {
										if (this.object && this.field) this.object[this.field.id] = e.detail.value ? e.detail.value : null;
									}.bind(this));
								}

								break;
						}
					}
				}, {
					key: 'createBaseElement',
					value: function createBaseElement(html, valueProp) {
						Polymer.dom(this.$.f).innerHTML = html;
						var el = this.$$('#f > *');
						if (valueProp && this.field && this.field.id && this.object[this.field.id]) el[valueProp] = this.object[this.field.id];
						return el;
					}
				}, {
					key: 'setDefaultValue',
					value: function setDefaultValue(v) {
						if (this.value == undefined) this.value = v;
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}, {
					key: 'observers',
					get: function get() {
						return ['render( field, object, viewField )'];
					}
				}]);

				return EntityField;
			}());

			_export('EntityField', EntityField);

			Polymer(EntityField);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJFbnRpdHlGaWVsZC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/entities/sb-entity-list/EntityList.js', ['../../core/Page.js'], function (_export, _context) {
	var Page, _typeof, _createClass, EntityList;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	return {
		setters: [function (_corePageJs) {
			Page = _corePageJs.Page;
		}],
		execute: function () {
			_typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
				return typeof obj;
			} : function (obj) {
				return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj;
			};

			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('EntityList', EntityList = function (_Page) {
				_inherits(EntityList, _Page);

				function EntityList() {
					_classCallCheck(this, EntityList);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(EntityList).apply(this, arguments));
				}

				_createClass(EntityList, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-entity-list';
						this.properties = Polymer.Base.extend({
							rows: {
								type: Array,
								notify: true,
								value: function value() {
									return [];
								},
								observer: '_rowsChanged'
							},
							hasRows: {
								type: Number,
								computed: 'getHasRows(rows)'
							},
							entity: {
								type: Object,
								value: function value() {
									return {};
								}
							},
							entityType: String,
							layout: {
								type: Object,
								value: function value() {
									return {};
								}
							}
						}, Page.properties);
					}
				}, {
					key: '_rowsChanged',
					value: function _rowsChanged() {
						var op = this.rows && this.rows.length ? 'remove' : 'add';
						this.$.new.classList[op]('end');
					}
				}, {
					key: 'columnLabel',
					value: function columnLabel(col, e) {
						return this.fields[col.field].title;
					}
				}, {
					key: 'getHasRows',
					value: function getHasRows(rows) {
						return rows ? rows.length > 0 : false;
					}
				}, {
					key: 'ready',
					value: function ready() {
						this.model = this.ctx.pathParams.type;
						this.modelClass = this.$.db[this.model];
						this.fields = this.modelClass.schema.properties;
						this.layout = this.$.db.objectLayouts[this.model] ? this.$.db.objectLayouts[this.model].list['all'] : {};
						this.$.db.get();
					}
				}, {
					key: 'checkAll',
					value: function checkAll(e, detail, sender) {
						var boxes = Polymer.dom(this.$.list).querySelectorAll('paper-checkbox'),
						    len = boxes ? boxes.length : 0;

						for (var i = 0; i < len; i++) {
							boxes[i].checked = e.currentTarget.checked;
						}
					}
				}, {
					key: 'linkUrl',
					value: function linkUrl(col, row) {
						var value = row && col ? row[col.field] : null,
						    obj = value && value.id ? value : row,
						    link = obj && obj.type && obj.id ? '#/entities/' + obj.constructor.schema.id + '/detail?id=' + obj.id : '';
						return link;
					}
				}, {
					key: 'getCell',
					value: function getCell(col, row) {
						var h = row && col ? row[col.field] : null;
						return this._format(h, col.field);
					}
				}, {
					key: '_format',
					value: function _format(value, field) {
						var ret = value,
						    type = field && this.fields[field] ? this.fields[field].type : null;

						switch (type) {
							case 'boolean':
								ret = value ? this.l('Yes') : '';
								break;

							case 'date':
							case 'datetime':
								ret = this.format(value, {
									date: true
								});
								break;

							case 'reference':
								if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value) {
									if (value.type === 'user') ret = value.Lastname + ', ' + value.Firstname;else ret = value.Name;
								}

						}

						return ret;
					}
				}, {
					key: 'goNew',
					value: function goNew(e, detail, sender) {
						this.nav('/entities/' + this.model + '/new');
					}
				}, {
					key: 'delete',
					value: function _delete(e, detail, sender) {
						var sel = Polymer.dom(this.$.list).querySelectorAll('paper-checkbox'),
						    len = sel ? sel.length : 0,
						    toDel = [],
						    toDelIdx = {};

						for (var i = 0; i < len; i++) {
							if (sel[i].checked) toDel.push(this.rows[i]);
						}

						if (toDel.length) return this.$.db.remove(toDel);else return Promise.resolve();
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return EntityList;
			}(Page));

			_export('EntityList', EntityList);

			Polymer(EntityList);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJFbnRpdHlMaXN0LmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
"use strict";

System.register("common/data/cache/Cache.js", [], function (_export, _context) {
    var _createClass, map, Cache;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            map = {};

            _export("Cache", Cache = function () {
                function Cache() {
                    _classCallCheck(this, Cache);
                }

                _createClass(Cache, null, [{
                    key: "add",
                    value: function add(name, id, object) {
                        if (!name || !id || !object) return;
                        if (map[name] && !map[name][id]) delete map[name];
                        if (!map[name]) map[name] = {};
                        map[name][id] = object;
                    }
                }, {
                    key: "get",
                    value: function get(name, id) {
                        if (!name || !id) return null;
                        var cache = map[name];
                        if (!cache) return null;
                        return cache[id];
                    }
                }]);

                return Cache;
            }());

            _export("Cache", Cache);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJDYWNoZS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/data/client/RemoteClient.js', [], function (_export, _context) {
    var _createClass, RemoteClient;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('RemoteClient', RemoteClient = function () {
                function RemoteClient() {
                    _classCallCheck(this, RemoteClient);
                }

                _createClass(RemoteClient, [{
                    key: 'read',
                    value: function read(prefix, reader, uid) {
                        this.prefix = prefix;
                        return this._remote('read', reader, uid);
                    }
                }, {
                    key: 'load',
                    value: function load(prefix, loader, uid, context) {
                        this.prefix = prefix;
                        return this._remote('load', loader, uid, JSON.stringify(context));
                    }
                }, {
                    key: 'save',
                    value: function save(prefix, saver, model) {
                        this.prefix = prefix;
                        return this._remote('save', saver, JSON.stringify(model));
                    }
                }, {
                    key: '_remote',
                    value: function _remote(method, provider, input, context) {
                        var action = this._getAction() + '.' + method;
                        if (context) return new Promise(function (resolve, reject) {
                            Visualforce.remoting.Manager.invokeAction(action, provider, input, context, function (obj, event) {
                                this._callback(obj, event, resolve, reject);
                            }.bind(this));
                        }.bind(this));
                        return new Promise(function (resolve, reject) {
                            Visualforce.remoting.Manager.invokeAction(action, provider, input, function (obj, event) {
                                this._callback(obj, event, resolve, reject);
                            }.bind(this));
                        }.bind(this));
                    }
                }, {
                    key: '_getAction',
                    value: function _getAction() {
                        return this._getPrefix() + 'ServiceRouter';
                    }
                }, {
                    key: '_getPrefix',
                    value: function _getPrefix() {
                        return this.prefix ? this.prefix + '.' : '';
                    }
                }, {
                    key: '_callback',
                    value: function _callback(obj, event, resolve, reject) {
                        if (!event.status) reject(event.message);else resolve(this._parse(obj));
                    }
                }, {
                    key: '_parse',
                    value: function _parse(obj) {
                        obj = obj.replace(/&quot;/g, '"');

                        try {
                            return JSON.parse(obj);
                        } catch (e) {
                            return obj;
                        }
                    }
                }]);

                return RemoteClient;
            }());

            _export('RemoteClient', RemoteClient);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJSZW1vdGVDbGllbnQuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('common/data/client/RestClient.js', ['common/oauth/OAuth.js'], function (_export, _context) {
    var OAuth, _createClass, RestClient;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [function (_commonOauthOAuthJs) {
            OAuth = _commonOauthOAuthJs.OAuth;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('RestClient', RestClient = function () {
                function RestClient() {
                    _classCallCheck(this, RestClient);
                }

                _createClass(RestClient, [{
                    key: 'read',
                    value: function read(prefix, reader, uid) {
                        this.prefix = prefix;
                        return new Promise(function (resolve, reject) {
                            this._getApex().then(function (apex) {
                                apex.get(this._getEndpoint() + '?reader=' + reader + '&uid=' + uid).then(function (result) {
                                    this._handleResult(resolve, reject, result);
                                }.bind(this), function (err) {
                                    reject(err.message || err);
                                });
                            }.bind(this), function (err) {
                                reject(err.message || err);
                            });
                        }.bind(this));
                    }
                }, {
                    key: 'load',
                    value: function load(prefix, loader, uid, context) {
                        this.prefix = prefix;
                        return new Promise(function (resolve, reject) {
                            this._getApex().then(function (apex) {
                                apex.patch(this._getEndpoint() + '?loader=' + loader + '&uid=' + uid, {
                                    context: JSON.stringify(context)
                                }).then(function (result) {
                                    this._handleResult(resolve, reject, result);
                                }.bind(this), function (err) {
                                    reject(err.message || err);
                                });
                            }.bind(this), function (err) {
                                reject(err.message || err);
                            });
                        }.bind(this));
                    }
                }, {
                    key: 'save',
                    value: function save(prefix, saver, model) {
                        this.prefix = prefix;
                        return new Promise(function (resolve, reject) {
                            this._getApex().then(function (apex) {
                                apex.post(this._getEndpoint(), {
                                    saver: saver,
                                    model: JSON.stringify(model)
                                }).then(function (result) {
                                    this._handleResult(resolve, reject, result);
                                }.bind(this), function (err) {
                                    reject(err.message || err);
                                });
                            }.bind(this), function (err) {
                                reject(err.message || err);
                            });
                        }.bind(this));
                    }
                }, {
                    key: 'setConnection',
                    value: function setConnection(conn) {
                        this.connection = conn;
                    }
                }, {
                    key: '_getApex',
                    value: function _getApex() {
                        if (this.connection) return Promise.resolve(this.connection.apex);
                        if (typeof window === 'undefined') return Promise.reject('Connection not set');
                        this.oauth = this.oauth || new OAuth();
                        return this._getConnection(this.oauth);
                    }
                }, {
                    key: '_getConnection',
                    value: function _getConnection(oauth) {
                        return new Promise(function (resolve, reject) {
                            oauth.getConnection().then(function (conn) {
                                this.connection = conn;
                                resolve(this.connection.apex);
                            }.bind(this), function (err) {
                                reject(err.message || err);
                            });
                        }.bind(this));
                    }
                }, {
                    key: '_getEndpoint',
                    value: function _getEndpoint() {
                        return this._getPrefix() + '/ServiceRouter';
                    }
                }, {
                    key: '_getPrefix',
                    value: function _getPrefix() {
                        return this.prefix ? '/' + this.prefix : '';
                    }
                }, {
                    key: '_handleResult',
                    value: function _handleResult(resolve, reject, result) {
                        if (result.proxy) {
                            this._handleProxyResult(resolve, reject, result.proxy);

                            return;
                        }

                        resolve(parse(result));
                    }
                }, {
                    key: '_handleProxyResult',
                    value: function _handleProxyResult(resolve, reject, proxyResult) {
                        if (proxyResult.error) {
                            this._handleProxyErrorResult(reject, proxyResult.error);

                            return;
                        }

                        if (this.oauth && proxyResult.accessToken) this.oauth.accessToken = proxyResult.accessToken;
                        resolve(this._parse(proxyResult.response));
                    }
                }, {
                    key: '_handleProxyErrorResult',
                    value: function _handleProxyErrorResult(reject, error) {
                        console.warn('Service Proxy Exception: ' + this._adjustProxyErrorMessage(error));
                        reject(error);
                    }
                }, {
                    key: '_adjustProxyErrorMessage',
                    value: function _adjustProxyErrorMessage(errorMessage) {
                        if (errorMessage === 'expired access/refresh token') errorMessage += ' - to authorize go to http://localhost:' + location.port + '/common/oauth';
                        return errorMessage;
                    }
                }, {
                    key: '_parse',
                    value: function _parse(obj) {
                        try {
                            return JSON.parse(obj);
                        } catch (e) {
                            return obj;
                        }
                    }
                }]);

                return RestClient;
            }());

            _export('RestClient', RestClient);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJSZXN0Q2xpZW50LmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/data/client/ServiceClient.js', ['common/data/client/RemoteClient.js', 'common/data/client/RestClient.js'], function (_export, _context) {
    var RemoteClient, RestClient, _createClass, ServiceClient;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [function (_commonDataClientRemoteClientJs) {
            RemoteClient = _commonDataClientRemoteClientJs.RemoteClient;
        }, function (_commonDataClientRestClientJs) {
            RestClient = _commonDataClientRestClientJs.RestClient;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('ServiceClient', ServiceClient = function () {
                function ServiceClient() {
                    _classCallCheck(this, ServiceClient);

                    this.client = typeof Visualforce !== 'undefined' ? new RemoteClient() : new RestClient();
                }

                _createClass(ServiceClient, [{
                    key: 'read',
                    value: function read(prefix, reader, uid) {
                        return this.client.read(prefix, reader, uid);
                    }
                }, {
                    key: 'load',
                    value: function load(prefix, loader, uid, context) {
                        return this.client.load(prefix, loader, uid, context);
                    }
                }, {
                    key: 'save',
                    value: function save(prefix, saver, model) {
                        return this.client.save(prefix, saver, model);
                    }
                }, {
                    key: 'setConnection',
                    value: function setConnection(conn) {
                        if (typeof this.client.setConnection === 'function') this.client.setConnection(conn);
                    }
                }]);

                return ServiceClient;
            }());

            _export('ServiceClient', ServiceClient);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJTZXJ2aWNlQ2xpZW50LmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/data/sb-db/Db.js', ['common/data/sb-db/Metadata.js'], function (_export, _context) {
	var Metadata, _createClass, ID_DELIM, JS_DEF, REL_PROP, md, Db, Model;

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function enhanceProperties(obj) {
		if (obj && obj.properties) {
			var requiredProps = {};

			for (var p in obj.required) {
				requiredProps[obj.required[p]] = true;
			}

			for (var prop in obj.properties) {
				var p = obj.properties[prop],
				    type = p.type;
				p.id = p.id ? p.id : prop;
				if (requiredProps[prop]) p.required = true;

				switch (p.type) {
					case 'array':
						if (p.items && p.items.enum) type = 'enum';else if (p.items && p.items.$ref) type = p.$_md ? 'md' : 'lookup';
						break;

					case 'string':
						switch (p.format) {
							case 'date':
								type = 'date';
								break;

							case 'date-time':
								type = 'datetime';
								break;

							case 'email':
								type = 'email';
								break;

							case 'html':
								type = 'richstring';
								break;

							case 'uri':
								type = 'url';
								break;

							case 'phone':
								type = 'phone';
								break;

							case 'autonumber':
								type = 'autonumber';
								break;
						}

						break;

					case 'integer':
						type = 'number';
						break;

					case 'number':
						switch (p.format) {
							case 'currency':
								type = 'currency';
								break;

							case 'percent':
								type = 'percent';
								break;

							case 'rollup':
								type = 'rollup';
								break;
						}

						break;
				}

				if (p.$ref) type = p.$_md ? 'md' : 'lookup';
				type = p.enum ? 'enum' : type;
				type = p.$_formula ? 'formula' : type;
				p.$_type = type;
			}
		}
	}

	function initRelationships(obj, defs) {
		if (obj.schema && obj.schema.properties) {
			for (var p in obj.schema.properties) {
				var $ref = obj.schema.properties[p].$ref,
				    isArray = obj.schema.properties[p].type === 'array',
				    items = obj.schema.properties[p].items;

				if ($ref || isArray && items && items.$ref) {
					var rels = obj.schema[REL_PROP] || {};
					rels[p] = {
						obj: $ref
					};

					if (isArray) {
						rels[p].obj = items.$ref;
						rels[p].isMany = true;
					}

					obj.schema[REL_PROP] = rels;
				}
			}
		}
	}

	return {
		setters: [function (_commonDataSbDbMetadataJs) {
			Metadata = _commonDataSbDbMetadataJs;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			ID_DELIM = '_';
			JS_DEF = '#/definitions/';
			REL_PROP = '$_relations';
			md = {
				schema: Metadata.schema,
				objectLayouts: Metadata.objectLayouts
			};

			_export('Db', Db = function () {
				function Db() {
					_classCallCheck(this, Db);
				}

				_createClass(Db, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-db';
						this.properties = {
							item: {
								type: Object,
								notify: true
							},
							uid: String,
							items: {
								type: Array,
								notify: true
							},
							model: {
								type: String,
								observer: '_modelChanged'
							},
							modelClass: {
								type: Object
							}
						};
						Db.initObjectLayouts(md.objectLayouts, this);
						Db.fromSchema(md.schema, this);
					}
				}, {
					key: 'get',
					value: function get() {
						if (!this.modelClass) throw new Error('sb-db cannot get all records because modelClass is null');
						return this.modelClass.get().then(function (records) {
							var len = records ? records.length : 0;

							for (var i = 0; i < len; i++) {
								records[i] = new this.modelClass(records[i]);
							}

							this.items = records;
							this.foo = records;
						}.bind(this));
					}
				}, {
					key: 'save',
					value: function save() {}
				}, {
					key: 'remove',
					value: function remove(o) {
						if (Array.isArray(o)) {
							for (var obj in o) {
								o[obj]._deleted = true;
							}

							return this.modelClass.remove(o).then(function () {
								this.items = this.items.filter(function (n) {
									return !n._deleted;
								});
							}.bind(this));
						} else if (o && o.id && o.remove) {
							return o.remove().then(function () {
								this.item = {};
							});
						}
					}
				}, {
					key: '_get',
					value: function _get(modelClass, id) {
						if (modelClass && id && typeof id === 'string') {
							modelClass.get(id).then(function (item) {
								this.item = new modelClass(item);
							}.bind(this));
						}
					}
				}, {
					key: '_getNew',
					value: function _getNew(modelClass, item) {
						if (item && !item.id && modelClass && item.constructor !== modelClass) {
							this.item = new modelClass(item);
						}
					}
				}, {
					key: '_modelChanged',
					value: function _modelChanged(nv, ov) {
						if (!this.modelClass) this.modelClass = Db[nv];
					}
				}, {
					key: 'observers',
					get: function get() {
						return ['_get( modelClass, uid )', '_getNew( modelClass, item )'];
					}
				}], [{
					key: 'initObjectLayouts',
					value: function initObjectLayouts(layouts, con) {
						Db.objectLayouts = md.objectLayouts = layouts;
						if (con) con.objectLayouts = layouts;
					}
				}, {
					key: 'fromSchema',
					value: function fromSchema(schema, con) {
						if (schema && schema.definitions) {
							md.schema = schema;

							for (var d in schema.definitions) {
								var clazz = function (_Model) {
									_inherits(DomainObject, _Model);

									function DomainObject() {
										_classCallCheck(this, DomainObject);

										return _possibleConstructorReturn(this, Object.getPrototypeOf(DomainObject).apply(this, arguments));
									}

									return DomainObject;
								}(Model);

								clazz.schema = schema.definitions[d];
								clazz.db = Db;
								enhanceProperties(clazz.schema);
								initRelationships(clazz);
								Db[d] = clazz;
								if (con) con[d] = clazz;
							}
						}
					}
				}]);

				return Db;
			}());

			_export('Db', Db);

			Model = function () {
				function Model(obj) {
					_classCallCheck(this, Model);

					var keys = Object.keys(obj),
					    len = keys ? keys.length : 0;

					for (var i = 0; i < len; i++) {
						var key = keys[i];
						if (key !== 'save' && key !== 'remove') this[key] = obj[key];
					}
				}

				_createClass(Model, [{
					key: 'save',
					value: function save() {
						return this.constructor.db.adapter.save(this);
					}
				}, {
					key: 'remove',
					value: function remove() {
						return this.constructor.db.adapter.remove(this);
					}
				}], [{
					key: 'save',
					value: function save(objs) {
						return this.db.adapter.save(objs);
					}
				}, {
					key: 'remove',
					value: function remove(objs) {
						return this.db.adapter.remove(objs);
					}
				}, {
					key: 'get',
					value: function get(id) {
						return this.db.adapter.get(id, this);
					}
				}, {
					key: 'md',
					value: function md() {
						return this.schema;
					}
				}, {
					key: 'relationships',
					value: function relationships() {
						return this.schema[REL_PROP];
					}
				}]);

				return Model;
			}();

			Polymer(Db);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJEYi5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
"use strict";

System.register("common/data/sb-db/Metadata.js", [], function (_export, _context) {
	var schema, objectLayouts;
	return {
		setters: [],
		execute: function () {
			_export("schema", schema = {
				"$schema": "http://json-schema.org/draft-04/schema#",
				"id": "/",
				"definitions": {
					"Product": {
						"id": "Product",
						"title": "Product",
						"titlePlural": "Products",
						"type": "object",
						"properties": {
							"id": {
								"title": "ID",
								"type": "string"
							},
							"name": {
								"title": "Name",
								"type": "string"
							},
							"code": {
								"title": "Code",
								"type": "string"
							},
							"createdBy": {
								"title": "Created By",
								"$ref": "User"
							},
							"createdDate": {
								"title": "Created Date",
								"type": "string",
								"format": "date-time"
							},
							"lastModifiedBy": {
								"title": "Modified By",
								"$ref": "User"
							},
							"lastModified": {
								"title": "Last Modified Date",
								"type": "string",
								"format": "date-time"
							}
						},
						"required": ["id", "createdBy", "createdDate", "lastModifiedBy", "lastModifiedDate", "name"]
					},
					"Opportunity": {
						"id": "Opportunity",
						"title": "Opportunity",
						"titlePlural": "Opportunities",
						"type": "object",
						"properties": {
							"id": {
								"title": "ID",
								"type": "string"
							},
							"name": {
								"title": "Name",
								"type": "string"
							},
							"createdBy": {
								"title": "Created By",
								"$ref": "User"
							},
							"createdDate": {
								"title": "Created Date",
								"type": "string",
								"format": "date-time"
							},
							"lastModifiedBy": {
								"title": "Modified By",
								"$ref": "User"
							},
							"lastModified": {
								"title": "Last Modified Date",
								"type": "string",
								"format": "date-time"
							},
							"account": {
								"title": "Account",
								"$ref": "Account"
							},
							"amount": {
								"title": "Amount",
								"type": "number"
							},
							"description": {
								"title": "Description",
								"type": "string",
								"maxLength": 32000
							},
							"probability": {
								"title": "Probability",
								"type": "number"
							},
							"closeDate": {
								"title": "Close Date",
								"type": "string",
								"format": "date-time"
							},
							"nextStep": {
								"title": "Next Step",
								"type": "string"
							},
							"stageName": {
								"title": "Stage Name",
								"enum": ["Open", "Closed"]
							},
							"leadSource": {
								"title": "Lead Source",
								"enum": ["Web", "Phone Inquiry", "Partner Retai", "Purchased List", "Other"]
							},
							"type": {
								"title": "Type",
								"enum": ["Existing Customer - Upgrade", "Existing Customer - Replacement", "Existing Customer - Downgrade", "New Customer"]
							},
							"stageName": {
								"title": "Stage",
								"enum": ["Prospecting", "Qualification", "Needs Analysis", "Value Proposition", "Id. Decision Makers", "Perception Analysis", "Proposal/Price Quote", "Negotiation/Review", "Closed Won", "Closed Lost"]
							},
							"owner": {
								"title": "Owner",
								"$ref": "User"
							},
							"primaryQuote": {
								"title": "Primary Quote",
								"$ref": "Quote"
							},
							"quotePricebookId": {
								"title": "Quote Pricebook ID",
								"type": "string"
							},
							"renewal": {
								"title": "Renewal",
								"type": "boolean"
							},
							"contracted": {
								"title": "Contracted",
								"type": "boolean"
							},
							"renewedContract": {
								"title": "Renewed Contract",
								"$ref": "Quote"
							}
						},
						"required": ["id", "createdBy", "createdDate", "lastModifiedBy", "lastModifiedDate", "name"]
					},
					"User": {
						"id": "User",
						"title": "User",
						"titlePlural": "Users",
						"type": "object",
						"properties": {
							"id": {
								"title": "ID",
								"type": "string"
							},
							"lastname": {
								"title": "Last Name",
								"type": "string"
							},
							"firstname": {
								"title": "First Name",
								"type": "string"
							},
							"fullname": {
								"title": "Full Name",
								"type": "string"
							},
							"email": {
								"title": "Email",
								"type": "string",
								"format": "email"
							},
							"username": {
								"title": "Username",
								"type": "string"
							},
							"active": {
								"title": "Active",
								"type": "boolean"
							}
						},
						"required": ["id", "name", "username"]
					},
					"Quote": {
						"id": "Quote",
						"title": "Quote",
						"titlePlural": "Quotes",
						"type": "object",
						"properties": {
							"additionalDiscount": {
								"title": "Additional Discount",
								"type": "number"
							},
							"createdBy": {
								"title": "Created By",
								"$ref": "User"
							},
							"createdDate": {
								"title": "Created Date",
								"type": "string",
								"format": "date-time"
							},
							"endDate": {
								"title": "End Date",
								"type": "string",
								"format": "date-time"
							},
							"lastModifiedBy": {
								"title": "Modified By",
								"$ref": "User"
							},
							"lastModified": {
								"title": "Last Modified Date",
								"type": "string",
								"format": "date-time"
							},
							"lineItemCount": {
								"title": "Line Item Count",
								"type": "integer",
								"minimum": 0
							},
							"lines": {
								"title": "Lines",
								"type": "array",
								"items": {
									"$ref": "QuoteLine"
								},
								"$_md": true
							},
							"name": {
								"title": "Name",
								"type": "string"
							},
							"note": {
								"title": "Note",
								"type": "string"
							},
							"opportunity": {
								"title": "Opportunity",
								"$ref": "Opportunity"
							},
							"startDate": {
								"title": "Start Date",
								"type": "string",
								"format": "date-time"
							},
							"status": {
								"title": "Status",
								"enum": ["Draft", "In Review", "Approved", "Denied", "Presented", "Accepted", "Rejected"]
							},
							"paymentTerms": {
								"title": "Payment Terms",
								"enum": ["Due on Receipt", "Net 15", "Net 30", "Net 45", "Net 60", "Net 90"]
							},
							"type": {
								"title": "Type",
								"enum": ["Quote", "Renewal", "Amendment", "Change Order"]
							}
						}
					},
					"QuoteLine": {
						"id": "QuoteLine",
						"title": "Quote Line",
						"titlePlural": "Quote Lines",
						"type": "object",
						"properties": {
							"additionalDiscount": {
								"title": "Additional Discount",
								"type": "number"
							},
							"createdBy": {
								"title": "Created By",
								"$ref": "User"
							},
							"createdDate": {
								"title": "Created Date",
								"type": "string",
								"format": "date-time"
							},
							"endDate": {
								"title": "End Date",
								"type": "string",
								"format": "date-time"
							},
							"netUnitPrice": {
								"title": "Net Unit Price",
								"type": "number",
								"multipleOf": "0.01"
							},
							"netTotal": {
								"title": "Net Total",
								"type": "number",
								"multipleOf": "0.01",
								"$_formula": "netUnitPrice * quantity"
							},
							"lastModifiedBy": {
								"title": "Modified By",
								"$ref": "User"
							},
							"lastModified": {
								"title": "Last Modified Date",
								"type": "string",
								"format": "date-time"
							},
							"listUnitPrice": {
								"title": "List Unit Price",
								"type": "number",
								"multipleOf": "0.01"
							},
							"product": {
								"title": "Product",
								"$ref": "Product"
							},
							"productCode": {
								"title": "Product Code",
								"type": "string",
								"$_formula": "product.code"
							},
							"productName": {
								"title": "Product Name",
								"type": "string",
								"$_formula": "product.name"
							},
							"quantity": {
								"title": "Quantity",
								"type": "number",
								"multipleOf": "0.01"
							},
							"quote": {
								"title": "Quote",
								"$ref": "Quote",
								"$_md": true
							},
							"startDate": {
								"title": "Start Date",
								"type": "string",
								"format": "date-time"
							}
						}
					}
				}
			});

			_export("schema", schema);

			_export("objectLayouts", objectLayouts = {
				Quote: {
					list: {
						'all': {
							label: 'All',
							columns: [{
								field: 'name',
								link: true
							}, {
								field: 'Opportunity',
								link: true
							}, {
								field: 'type'
							}, {
								field: 'primary'
							}, {
								field: 'lineItemsGrouped'
							}, {
								field: 'netAmount'
							}, {
								field: 'status'
							}, {
								field: 'expirationDate'
							}, {
								field: 'lastModifiedDate'
							}, {
								field: 'lastModifiedBy'
							}]
						}
					},
					detail: {
						'default': {
							titleAttr: 'Name',
							sections: [{
								label: 'Information',
								fields: [[{
									name: 'name'
								}, {
									name: 'Primary'
								}, {
									name: 'Status',
									required: true
								}, {
									name: 'ExpirationDate'
								}, {
									name: 'SalesRep'
								}, {
									name: 'PrimaryContact'
								}, {
									name: 'SubscriptionTerm'
								}, {
									name: 'DeliveryMethod'
								}, {
									name: 'MasterContract'
								}], [{
									name: 'Opportunity'
								}, {
									name: 'NetAmount'
								}, {
									name: 'CustomerAmount'
								}, {
									name: 'RegularAmount'
								}, {
									name: 'ListAmount'
								}, {
									name: 'Type',
									required: true
								}, {
									name: 'PaymentTerms'
								}]]
							}, {
								label: 'Discount Information',
								fields: []
							}]
						}
					}
				},
				Opportunity: {
					list: {
						'all': {
							label: 'All',
							columns: [{
								field: 'name',
								link: true
							}, {
								field: 'account',
								link: true
							}, {
								field: 'amount'
							}, {
								field: 'closeDate'
							}, {
								field: 'stageName'
							}, {
								field: 'owner'
							}]
						}
					},
					detail: {
						'default': {
							titleAttr: 'name',
							sections: [{
								label: 'Opportunity Information',
								fields: [[{
									name: 'owner',
									editable: false
								}, {
									name: 'name',
									required: true
								}, {
									name: 'account'
								}, {
									name: 'type'
								}, {
									name: 'leadSource'
								}], [{
									name: 'closeDate',
									required: true
								}, {
									name: 'stageName',
									required: true
								}, {
									name: 'nextStep'
								}, {
									name: 'probability'
								}, {
									name: 'amount'
								}]]
							}, {
								label: 'Description Information',
								fields: [[{
									name: 'description'
								}]]
							}, {
								label: 'SteelBrick Information',
								fields: [[{
									name: 'primaryQuote'
								}, {
									name: 'quotePricebookId'
								}], [{
									name: 'contracted'
								}, {
									name: 'renewal'
								}, {
									name: 'renewedContract'
								}]]
							}],
							relatedLists: [{
								entity: 'quote'
							}, {
								entity: 'quotedoc'
							}]
						}
					}
				},
				User: {
					list: {
						'all': {
							label: 'All',
							columns: [{
								field: 'Username',
								link: true
							}, {
								field: 'Firstname'
							}, {
								field: 'Lastname'
							}, {
								field: 'Active'
							}, {
								field: 'Alias'
							}]
						}
					},
					detail: {
						'default': {
							titleAttr: 'Username',
							sections: [{
								label: 'General Information',
								fields: [[{
									name: 'Id',
									editable: false
								}, {
									name: 'Username'
								}, {
									name: 'Firstname'
								}, {
									name: 'Lastname'
								}, {
									name: 'Email'
								}, {
									name: 'Alias'
								}, {
									name: 'Active'
								}]]
							}]
						}
					}
				}
			});

			_export("objectLayouts", objectLayouts);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJNZXRhZGF0YS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/data/sb-metadata/Metadata.js', [], function (_export, _context) {
  var _createClass, db, Metadata;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  return {
    setters: [],
    execute: function () {
      _createClass = function () {
        function defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        return function (Constructor, protoProps, staticProps) {
          if (protoProps) defineProperties(Constructor.prototype, protoProps);
          if (staticProps) defineProperties(Constructor, staticProps);
          return Constructor;
        };
      }();

      db = undefined;

      _export('Metadata', Metadata = function () {
        function Metadata() {
          _classCallCheck(this, Metadata);
        }

        _createClass(Metadata, [{
          key: 'beforeRegister',
          value: function beforeRegister() {
            this.is = 'sb-metadata';
            this.properties = {
              types: {
                type: Object,
                readOnly: true,
                value: function value() {
                  return {
                    quote: 'quote',
                    Quote: 'quote',
                    opportunity: 'opportunity',
                    Opportunity: 'opportunity',
                    user: 'user',
                    User: 'user'
                  };
                }
              },
              entities: {
                type: Object,
                readOnly: true,
                value: function value() {
                  return {
                    quote: sb.ui.md.quote,
                    opportunity: sb.ui.md.opportunity,
                    user: {
                      label: 'User',
                      labelPlural: 'Users',
                      type: 'user',
                      fields: {
                        Id: {
                          type: 'id',
                          label: 'ID',
                          nillable: false
                        },
                        Lastname: {
                          type: 'string',
                          label: 'Last Name',
                          length: 200,
                          nillable: false
                        },
                        Firstname: {
                          type: 'string',
                          label: 'First Name',
                          length: 200,
                          nillable: true
                        },
                        Fullname: {
                          type: 'string',
                          label: 'Full Name',
                          length: 400,
                          nillable: false
                        },
                        Email: {
                          type: 'string',
                          label: 'Email',
                          length: 400,
                          nillable: true
                        },
                        Username: {
                          type: 'string',
                          label: 'Username',
                          length: 400,
                          nillable: false
                        },
                        Alias: {
                          type: 'string',
                          label: 'Alias',
                          length: 100,
                          nillable: false
                        },
                        Active: {
                          type: 'boolean',
                          label: 'Active',
                          nillable: true,
                          defaultValue: true
                        }
                      }
                    },
                    quotedoc: {
                      label: 'Quote Document',
                      labelPlural: 'Quote Documents',
                      type: 'quotedoc',
                      fields: {
                        Id: {
                          type: 'id',
                          label: 'ID',
                          nillable: false
                        },
                        Name: {
                          type: 'string',
                          label: 'Document Name',
                          length: 200,
                          nillable: false
                        },
                        Quote: {
                          type: 'reference',
                          label: 'Quote',
                          referenceTo: ['quote']
                        },
                        Version: {
                          type: 'number',
                          label: 'Version',
                          length: 10,
                          precision: 0,
                          nillable: false
                        }
                      }
                    }
                  };
                }
              },
              layouts: {
                type: Object,
                readOnly: true,
                value: function value() {
                  return {
                    quote: {
                      list: {
                        'all': {
                          label: 'All',
                          columns: [{
                            field: 'Name',
                            link: true
                          }, {
                            field: 'Opportunity__c',
                            link: true
                          }, {
                            field: 'Type__c'
                          }, {
                            field: 'Primary__c'
                          }, {
                            field: 'LineItemsGrouped__c'
                          }, {
                            field: 'NetAmount__c'
                          }, {
                            field: 'Status__c'
                          }, {
                            field: 'ExpirationDate__c'
                          }, {
                            field: 'LastModifiedDate'
                          }, {
                            field: 'LastModifiedById'
                          }]
                        }
                      },
                      detail: {
                        'default': {
                          titleAttr: 'Name',
                          sections: [{
                            label: 'Information',
                            fields: [[{
                              name: 'Name'
                            }, {
                              name: 'Primary__c'
                            }, {
                              name: 'Status__c',
                              required: true
                            }, {
                              name: 'ExpirationDate__c'
                            }, {
                              name: 'SalesRep__c'
                            }, {
                              name: 'PrimaryContact__c'
                            }, {
                              name: 'SubscriptionTerm__c'
                            }, {
                              name: 'DeliveryMethod__c'
                            }, {
                              name: 'MasterContract__c'
                            }], [{
                              name: 'Opportunity__c'
                            }, {
                              name: 'NetAmount__c'
                            }, {
                              name: 'CustomerAmount__c'
                            }, {
                              name: 'RegularAmount__c'
                            }, {
                              name: 'ListAmount__c'
                            }, {
                              name: 'Type__c',
                              required: true
                            }, {
                              name: 'PaymentTerms__c'
                            }]]
                          }, {
                            label: 'Discount Information',
                            fields: []
                          }]
                        }
                      }
                    },
                    opportunity: {
                      list: {
                        'all': {
                          label: 'All',
                          columns: [{
                            field: 'Name',
                            link: true
                          }, {
                            field: 'AccountId',
                            link: true
                          }, {
                            field: 'Amount'
                          }, {
                            field: 'CloseDate'
                          }, {
                            field: 'StageName'
                          }, {
                            field: 'OwnerId'
                          }]
                        }
                      },
                      detail: {
                        'default': {
                          titleAttr: 'Name',
                          sections: [{
                            label: 'Opportunity Information',
                            fields: [[{
                              name: 'OwnerId',
                              editable: false
                            }, {
                              name: 'Name',
                              required: true
                            }, {
                              name: 'AccountId'
                            }, {
                              name: 'Type'
                            }, {
                              name: 'LeadSource'
                            }], [{
                              name: 'CloseDate',
                              required: true
                            }, {
                              name: 'StageName',
                              required: true
                            }, {
                              name: 'NextStep'
                            }, {
                              name: 'Probability'
                            }, {
                              name: 'Amount'
                            }]]
                          }, {
                            label: 'Description Information',
                            fields: [[{
                              name: 'Description'
                            }]]
                          }, {
                            label: 'SteelBrick Information',
                            fields: [[{
                              name: 'PrimaryQuote__c'
                            }, {
                              name: 'QuotePricebookId__c'
                            }], [{
                              name: 'Contracted__c'
                            }, {
                              name: 'Renewal__c'
                            }, {
                              name: 'RenewedContract__c'
                            }]]
                          }],
                          relatedLists: [{
                            entity: 'quote'
                          }, {
                            entity: 'quotedoc'
                          }]
                        }
                      }
                    },
                    user: {
                      list: {
                        'all': {
                          label: 'All',
                          columns: [{
                            field: 'Username',
                            link: true
                          }, {
                            field: 'Firstname'
                          }, {
                            field: 'Lastname'
                          }, {
                            field: 'Active'
                          }, {
                            field: 'Alias'
                          }]
                        }
                      },
                      detail: {
                        'default': {
                          titleAttr: 'Username',
                          sections: [{
                            label: 'General Information',
                            fields: [[{
                              name: 'Id',
                              editable: false
                            }, {
                              name: 'Username'
                            }, {
                              name: 'Firstname'
                            }, {
                              name: 'Lastname'
                            }, {
                              name: 'Email'
                            }, {
                              name: 'Alias'
                            }, {
                              name: 'Active'
                            }]]
                          }]
                        }
                      }
                    }
                  };
                }
              }
            };
          }
        }]);

        return Metadata;
      }());

      _export('Metadata', Metadata);

      Polymer(Metadata);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJNZXRhZGF0YS5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/data/sb-model/Model.js', ['../../core/Page.js'], function (_export, _context) {
  var Page, _typeof, _createClass, ID_DELIM, INCLUDE_ALL, AUTO_FORMAT, AUTO_FORMAT_REGEX, AUTO_FORMAT_VALUE_START_POS, Model;

  function _classCallCheck(instance, Constructor) {
    if (!(instance instanceof Constructor)) {
      throw new TypeError("Cannot call a class as a function");
    }
  }

  function _possibleConstructorReturn(self, call) {
    if (!self) {
      throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    }

    return call && (typeof call === "object" || typeof call === "function") ? call : self;
  }

  function _inherits(subClass, superClass) {
    if (typeof superClass !== "function" && superClass !== null) {
      throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
    }

    subClass.prototype = Object.create(superClass && superClass.prototype, {
      constructor: {
        value: subClass,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
  }

  function pad(n, width, z) {
    z = z || '0';
    n = n + '';
    return n.length >= width ? n : new Array(width - n.length + 1).join(z) + n;
  }

  function genAutoNumber(o, entity, modelInstance) {
    return new Promise(function (resolve, reject) {
      if (o && entity) {
        (function () {
          var keys = entity.fields ? Object.keys(entity.fields) : null,
              len = keys ? keys.length : 0,
              num = 0;

          if (len) {
            modelInstance.read('*', false, {
              endkey: entity.type + ID_DELIM,
              startkey: entity.type + ID_DELIM + '',
              descending: true
            }).then(function (lastCreatedObj) {
              for (var i = 0; i < len; i++) {
                if (entity.fields[keys[i]].autoNumber) {
                  var m = AUTO_FORMAT.match(AUTO_FORMAT_REGEX)[0];
                  m = m.substring(1, m.length - 1);
                  var newNum = entity.label.substring(0, 1) + '-' + m;

                  if (lastCreatedObj && lastCreatedObj.length && lastCreatedObj[0][keys[i]]) {
                    var oldNum = parseInt(lastCreatedObj[0][keys[i]].substring(AUTO_FORMAT_VALUE_START_POS));
                    newNum = entity.label.substring(0, 1) + '-' + pad(oldNum + 1, m.length);
                  }

                  o[keys[i]] = newNum;
                }
              }

              resolve(o);
            });
          } else {
            resolve(o);
          }
        })();
      } else {
        resolve(o);
      }
    });
  }

  function processRelationships(docs, entity, relatedDocs) {
    var ex = [],
        exMap = {},
        len = docs ? docs.length : 0;

    if (len && entity) {
      for (var i = 0; i < len; i++) {
        var d = docs[i],
            keys = Object.keys(d),
            keyLen = keys ? keys.length : 0;

        for (var k = 0; k < keyLen; k++) {
          var f = keys[k],
              field = entity.fields[f];

          if (d[f] && field && field.type === 'reference' && field.referenceTo && field.referenceTo.length) {
            if (relatedDocs) {
              d[f] = relatedDocs[d[f]] ? relatedDocs[d[f]] : d[f];
            } else if (!exMap[d[f]]) {
              ex.push(d[f]);
              exMap[d[f]] = true;
            }
          }
        }
      }
    }

    return ex;
  }

  return {
    setters: [function (_corePageJs) {
      Page = _corePageJs.Page;
    }],
    execute: function () {
      _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
        return typeof obj;
      } : function (obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj;
      };

      _createClass = function () {
        function defineProperties(target, props) {
          for (var i = 0; i < props.length; i++) {
            var descriptor = props[i];
            descriptor.enumerable = descriptor.enumerable || false;
            descriptor.configurable = true;
            if ("value" in descriptor) descriptor.writable = true;
            Object.defineProperty(target, descriptor.key, descriptor);
          }
        }

        return function (Constructor, protoProps, staticProps) {
          if (protoProps) defineProperties(Constructor.prototype, protoProps);
          if (staticProps) defineProperties(Constructor, staticProps);
          return Constructor;
        };
      }();

      ID_DELIM = '_';
      INCLUDE_ALL = '$ALL';
      AUTO_FORMAT = '$-{000000}';
      AUTO_FORMAT_REGEX = /{.*}/;
      AUTO_FORMAT_VALUE_START_POS = 2;

      _export('Model', Model = function (_Page) {
        _inherits(Model, _Page);

        function Model() {
          _classCallCheck(this, Model);

          return _possibleConstructorReturn(this, Object.getPrototypeOf(Model).apply(this, arguments));
        }

        _createClass(Model, [{
          key: 'beforeRegister',
          value: function beforeRegister() {
            this.is = 'sb-model';
            this.properties = Polymer.Base.extend({
              db: {
                type: Object,
                readOnly: false
              },
              entityType: {
                type: String
              },
              includes: Object,
              model: {
                type: Object,
                notify: true
              },
              rows: {
                type: Array,
                notify: true
              }
            }, Page.properties);
          }
        }, {
          key: 'ready',
          value: function ready() {
            this.db = this.$.pouch.db;
            this.db.put({
              _id: this.user.id,
              Id: this.user.id,
              Lastname: this.user.lastname,
              Firstname: this.user.firstname,
              Fullname: this.user.fullname,
              Username: this.user.username,
              Active: true
            }).then(function (response) {}).catch(function (err) {});
          }
        }, {
          key: 'create',
          value: function create(o, entity) {
            if (!this.entityType) return Promise.reject('UKNOWN ENTITY TYPE');
            var now = Date.now();
            o.CreatedDate = now.toString();
            o.CreatedById = this.user.id;
            o.LastModifiedDate = now.toString();
            o.LastModifiedById = this.user.id;
            o._id = this.entityType + ID_DELIM + now;
            o.Id = o._id;
            return genAutoNumber(o, entity, this).then(function (o) {
              return this.db.put(o);
            }.bind(this));
          }
        }, {
          key: 'update',
          value: function update(o) {
            var now = new Date().getTime();
            console.log('Updating instance of: ' + this.entityType);
            o.modified = now.toString();
            return this.db.put(o);
          }
        }, {
          key: 'destroy',
          value: function destroy(o) {
            if (Array.isArray(o)) {
              for (var doc in o) {
                o[doc]._deleted = true;
              }

              return this.db.bulkDocs(o).then(function () {
                this.rows = this.rows.filter(function (n) {
                  return !n._deleted;
                });
              }.bind(this));
            } else if (o && (typeof o === 'undefined' ? 'undefined' : _typeof(o)) === 'object') {
              o._deleted = true;
              return this.db.destroy(o).then(function () {
                this.model = {};
              });
            }
          }
        }, {
          key: 'read',
          value: function read(params, onlyOne, options, skipBinding) {
            return new Promise(function (resolve, reject) {
              if (onlyOne) {
                this.db.get(params.id).then(function (doc) {
                  doc.id = doc._id;
                  if (!skipBinding) this.model = doc;
                  resolve(doc);
                }.bind(this));
              } else {
                var opts = {
                  startkey: this.entityType + ID_DELIM,
                  endkey: this.entityType + ID_DELIM + '',
                  include_docs: true
                };
                opts = Polymer.Base.extend(opts, options);
                if (options && options.startkey === null) opts.startkey = undefined;
                if (options && options.endkey === null) opts.endkey = undefined;
                this.db.allDocs(opts).then(function (rows) {
                  var docs = [],
                      map = {};

                  for (var r in rows.rows) {
                    rows.rows[r].doc.id = rows.rows[r].doc._id;
                    if (params && params.map) map[rows.rows[r].doc.id] = rows.rows[r].doc;else docs.push(rows.rows[r].doc);
                  }

                  if (this.includes && this.includes[INCLUDE_ALL]) {
                    this.readRelated(docs).then(function (docs) {
                      if (!skipBinding) this.rows = docs;
                      resolve(params && params.map ? map : docs);
                    }.bind(this));
                  } else {
                    if (!skipBinding) this.rows = docs;
                    resolve(params && params.map ? map : docs);
                  }
                }.bind(this));
              }
            }.bind(this));
          }
        }, {
          key: 'readRelated',
          value: function readRelated(docs) {
            return new Promise(function (resolve, reject) {
              var _this2 = this;

              if (docs && docs.length) {
                (function () {
                  var md = _this2.$.md,
                      entity = md.entities[md.types[_this2.entityType]],
                      allIds = {};

                  if (entity) {
                    var ex = processRelationships(docs, entity, null);

                    _this2.read({
                      map: true
                    }, false, {
                      keys: ex,
                      startkey: null,
                      endkey: null
                    }, true).then(function (relatedDocs) {
                      processRelationships(docs, entity, relatedDocs);
                      resolve(docs);
                    });
                  } else {
                    resolve(docs);
                  }
                })();
              } else {
                resolve(docs);
              }
            }.bind(this));
          }
        }, {
          key: 'exec',
          value: function exec() {
            if (this.entityType) {
              var find = this.getAttribute('find');

              if (this.hasAttribute('fid') && this.ctx.params.id) {
                this.read({
                  id: this.ctx.params.id
                }, true);
              } else if (this.hasAttribute('model') && find) {
                this.read(find, true);
              } else if (find) {
                this.read(find, false);
              }
            }
          }
        }, {
          key: 'behaviors',
          get: function get() {
            return [sb.common.core.Page];
          }
        }, {
          key: 'observers',
          get: function get() {
            return ['exec( ctx, entityType, db )'];
          }
        }]);

        return Model;
      }(Page));

      _export('Model', Model);

      Polymer(Model);
    }
  };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJNb2RlbC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/data/sb-service/Service.js', ['common/data/client/ServiceClient.js', 'common/data/cache/Cache.js'], function (_export, _context) {
    var ServiceClient, Cache, _createClass, Service;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [function (_commonDataClientServiceClientJs) {
            ServiceClient = _commonDataClientServiceClientJs.ServiceClient;
        }, function (_commonDataCacheCacheJs) {
            Cache = _commonDataCacheCacheJs.Cache;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('Service', Service = function () {
                function Service() {
                    _classCallCheck(this, Service);
                }

                _createClass(Service, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-service';
                        this.properties = {
                            prefix: String,
                            reader: String,
                            loader: String,
                            saver: String,
                            uid: String,
                            model: Object,
                            context: Object,
                            cache: String,
                            waiting: {
                                type: Boolean,
                                notify: true
                            },
                            response: {
                                type: Object,
                                notify: true
                            },
                            error: {
                                type: String,
                                notify: true
                            },
                            client: {
                                type: Object,
                                value: function value() {
                                    return new ServiceClient();
                                }
                            }
                        };
                    }
                }, {
                    key: 'read',
                    value: function read(request) {
                        Polymer.Base.extend(this, request);
                        var cachedResponse = Cache.get(this.cache, this.uid);
                        if (cachedResponse) return this._response(Promise.resolve(cachedResponse));
                        return this._response(this.client.read(this.prefix, this.reader, this.uid));
                    }
                }, {
                    key: 'load',
                    value: function load(request) {
                        Polymer.Base.extend(this, request);
                        var cachedResponse = Cache.get(this.cache, this.uid);
                        if (cachedResponse) return this._response(Promise.resolve(cachedResponse));
                        return this._response(this.client.load(this.prefix, this.loader, this.uid, this.context));
                    }
                }, {
                    key: 'save',
                    value: function save(request) {
                        Polymer.Base.extend(this, request);
                        return this._response(this.client.save(this.prefix, this.saver, this.model));
                    }
                }, {
                    key: '_read',
                    value: function _read() {
                        this.read().then(function () {}, function () {});
                    }
                }, {
                    key: '_load',
                    value: function _load() {
                        this.load().then(function () {}, function () {});
                    }
                }, {
                    key: '_save',
                    value: function _save() {
                        this.save().then(function () {}, function () {});
                        ;
                    }
                }, {
                    key: '_response',
                    value: function _response(promise) {
                        this.waiting = true;
                        return new Promise(function (resolve, reject) {
                            promise.then(function (res) {
                                this.waiting = false;
                                if (res) this.response = res;
                                resolve(this.response);
                            }.bind(this), function (err) {
                                this.waiting = false;
                                if (err) this.error = err.message || err;
                                reject(this.error);
                            }.bind(this));
                        }.bind(this));
                    }
                }, {
                    key: '_cache',
                    value: function _cache() {
                        Cache.add(this.cache, this.uid, this.response);
                    }
                }, {
                    key: 'listeners',
                    get: function get() {
                        return {
                            'response-changed': '_cache'
                        };
                    }
                }, {
                    key: 'observers',
                    get: function get() {
                        return ['_read(prefix, reader, uid)', '_save(prefix, saver, model)', '_load(prefix, loader, uid, context)'];
                    }
                }]);

                return Service;
            }());

            _export('Service', Service);

            Polymer(Service);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJTZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/forms/sb-datepicker/Datepicker.js', [], function (_export, _context) {
	var _createClass, user, Datepicker;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			user = {
				lang: 'en',
				locale: 'en-US',
				id: 'user_123456789',
				fullname: 'Joe User',
				username: 'joe@user.com'
			};

			_export('Datepicker', Datepicker = function () {
				function Datepicker() {
					_classCallCheck(this, Datepicker);
				}

				_createClass(Datepicker, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-datepicker';
						this.properties = {
							selectedDate: {
								type: Date,
								value: function value() {
									return new Date();
								},
								observer: 'selectedDateChanged'
							},
							range: {
								type: Number,
								value: 5
							}
						};
					}
				}, {
					key: 'ready',
					value: function ready() {
						this.isActive = false;
						this.weeks = [];
						this.weekDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
						this.months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
						this.year = this.date.getFullYear();
						this.month = this.date.getMonth();
						this.monthName = this.months[this.month].toUpperCase();
						this.day = this.date.getDate();
						this.years = [];
						var start = this.year - this.range;
						var end = this.year + this.range + 1;

						for (var i = start; i < end; i++) {
							this.push('years', i);
						}

						this.invalidInput = false;
						this.parseDateTimePattern();
						Polymer.dom.flush();
						this.yearSelection = this.$.years;
						this.yearSelection.selectedOptions[0].selected = '';
						this.yearSelection.options[this.range].selected = 'selected';
					}
				}, {
					key: 'getDate',
					value: function getDate(date) {
						return date.getDate();
					}
				}, {
					key: 'getClass',
					value: function getClass(day) {
						var className = '';

						if (day.getMonth() !== this.month) {
							className += 'notCurrent';
						} else {
							if (day.getFullYear() === this.selectedDate.getFullYear() && day.getMonth() === this.selectedDate.getMonth() && day.getDate() === this.selectedDate.getDate()) {
								className += 'selected';
							}

							if (day.getFullYear() === this.year && day.getMonth() === this.month && day.getDate() === this.date.getDate()) {
								className += ' current';
							}
						}

						return className;
					}
				}, {
					key: 'selectedDateChanged',
					value: function selectedDateChanged() {
						this.date = new Date(this.selectedDate);
						this.dateFormatted = this.date.toLocaleDateString(user.locale);
						this.updateVariables();
					}
				}, {
					key: 'showCalendar',
					value: function showCalendar() {
						this.isActive = true;
						this.updateCalendar();
						this.$.open.focus();
					}
				}, {
					key: 'hideCalendar',
					value: function hideCalendar() {
						this.isActive = false;
						this.$.dateInput.blur();
					}
				}, {
					key: 'findToday',
					value: function findToday() {
						this.date = new Date();
						this.updateYearSelection(this.year, this.date.getFullYear());
						this.updateVariables();
						this.updateCalendar();
						this.$.open.focus();
					}
				}, {
					key: 'changeYear',
					value: function changeYear() {
						var selectedYear = parseInt(this.yearSelection.selectedOptions[0].text);
						this.date = new Date(selectedYear, this.month, this.day);
						this.updateVariables();
						this.updateCalendar();
						this.$.open.focus();
					}
				}, {
					key: 'decreaseMonth',
					value: function decreaseMonth() {
						this.date = new Date(this.year, this.month - 1, this.day);
						this.updateYearSelection(this.year, this.date.getFullYear());
						this.updateVariables();
						this.updateCalendar();
						this.$.open.focus();
					}
				}, {
					key: 'increaseMonth',
					value: function increaseMonth() {
						this.date = new Date(this.year, this.month + 1, this.day);
						this.updateYearSelection(this.year, this.date.getFullYear());
						this.updateVariables();
						this.updateCalendar();
						this.$.open.focus();
					}
				}, {
					key: 'selectDay',
					value: function selectDay(e) {
						this.selectedDate = e.model ? e.model.day : this.date;
						this.hideCalendar();
						this.$.open.blur();
					}
				}, {
					key: 'updateYearSelection',
					value: function updateYearSelection(oldValue, newValue) {
						if (oldValue !== newValue) {
							var selectedYearIdx = this.yearSelection.selectedIndex;
							var index = selectedYearIdx + (newValue - oldValue);
							this.yearSelection.options[selectedYearIdx].selected = '';
							this.yearSelection.options[index].selected = 'selected';
						}
					}
				}, {
					key: 'updateVariables',
					value: function updateVariables() {
						this.year = this.date.getFullYear();
						this.month = this.date.getMonth();
						this.monthName = this.months ? this.months[this.month].toUpperCase() : '';
						this.day = this.date.getDate();
					}
				}, {
					key: 'updateDate',
					value: function updateDate(increment) {
						this.date.setDate(this.date.getDate() + increment);
						this.updateYearSelection(this.year, this.date.getFullYear());
						this.updateVariables();
						this.updateCalendar();
					}
				}, {
					key: 'updateCalendar',
					value: function updateCalendar() {
						this.weeks = [];
						var firstDay = new Date(this.date.getFullYear(), this.month, 1);
						var index = firstDay.getDay();
						var numOfDays = 6 * 7;
						var week = [];
						var dayIdx = 0;

						for (var i = 0; i < numOfDays; i++) {
							var day = new Date(firstDay);
							day.setDate(firstDay.getDate() + (i - index));
							week[dayIdx] = day;
							dayIdx++;

							if ((i + 1) % 7 === 0 || i + 1 === numOfDays) {
								this.push('weeks', week);
								week = [];
								dayIdx = 0;
							}
						}
					}
				}, {
					key: 'parseDateTimePattern',
					value: function parseDateTimePattern() {
						var dateTimeFormat = Intl.DateTimeFormat(user.locale).resolved.pattern;
						var dateTimeFormatSimple = dateTimeFormat.replace(new RegExp('[dD]+'), 'D').replace(new RegExp('[mM]+'), 'M').replace(new RegExp('[yY]+'), 'Y');
						this.separator = dateTimeFormatSimple.match(new RegExp('[\/.-]'))[0];
						this.dateTimeElements = dateTimeFormatSimple.split(this.separator);
						this.dateIdx = this.dateTimeElements.indexOf('D');
						this.monthIdx = this.dateTimeElements.indexOf('M');
						this.yearIdx = this.dateTimeElements.indexOf('Y');
					}
				}, {
					key: 'validateInput',
					value: function validateInput() {
						this.invalidInput = true;
						var dateString = this.$.dateInput.value;

						if (dateString !== this.date.toLocaleDateString(user.locale)) {
							var elements = dateString.split(this.separator),
							    day = elements[this.dateIdx],
							    month = elements[this.monthIdx],
							    year = elements[this.yearIdx];

							if (year && year.length == 4 && month && month.length > 0 && month.length <= 2 && day && day.length > 0 && day.length <= 2) {
								day = parseInt(day);
								month = parseInt(month);
								year = parseInt(year);

								if (elements.length && !isNaN(year) && !isNaN(month) && !isNaN(day)) {
									if (year >= this.year - this.range && year <= this.year + this.range) {
										if (month >= 1 && month <= 12) {
											var monthEnd = 31;

											if (month == 2) {
												monthEnd = 28;

												if (year % 4 == 0) {
													if (year % 100 != 0) {
														monthEnd = 29;
													} else {
														if (year % 400 == 0) {
															monthEnd = 29;
														}
													}
												}
											} else {
												if (month == 4 || month == 6 || month == 9 || month == 11) {
													monthEnd = 30;
												}
											}

											if (day >= 1 && day <= monthEnd) {
												this.invalidInput = false;
											}
										}
									}
								}

								if (!this.invalidInput) {
									this.updateYearSelection(this.year, year);
									this.selectedDate = new Date(year, month - 1, day);
									this.updateVariables();
								}
							}
						} else {
							this.invalidInput = false;
						}
					}
				}, {
					key: 'navigate',
					value: function navigate(e) {
						e.preventDefault();

						switch (e.keyCode) {
							case 13:
								this.selectDay(e);
								break;

							case 27:
								this.hideCalendar();
								break;

							case 37:
								this.updateDate(-1);
								break;

							case 38:
								this.updateDate(-7);
								break;

							case 39:
								this.updateDate(+1);
								break;

							case 40:
								this.updateDate(+7);
								break;

							default:
								break;
						}
					}
				}]);

				return Datepicker;
			}());

			_export('Datepicker', Datepicker);

			Polymer(Datepicker);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJEYXRlcGlja2VyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/forms/sb-typeahead/Typeahead.js', [], function (_export, _context) {
	var _createClass, wildCards, resultLimit, Typeahead;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			wildCards = new RegExp('[*_%]+');
			resultLimit = 10;

			_export('Typeahead', Typeahead = function () {
				function Typeahead() {
					_classCallCheck(this, Typeahead);
				}

				_createClass(Typeahead, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-typeahead';
						this.properties = {
							items: {
								type: Array
							},
							selectedItem: {
								type: Object
							},
							itemsList: {
								type: Array,
								observer: 'itemsListChanged'
							},
							labels: {
								type: String,
								value: function value() {
									return this.getAttribute('labels') || ['label'];
								}
							},
							labelValue: {
								type: String
							},
							value: {
								type: String
							},
							delimiter: {
								type: String
							},
							savedLabelValue: {
								type: String
							},
							invalidLabel: {
								type: Boolean,
								value: function value() {
									return false;
								}
							},
							hasList: {
								type: Boolean,
								value: function value() {
									return false;
								}
							},
							hasLabel: {
								type: Boolean,
								value: function value() {
									return false;
								}
							},
							optionIndex: {
								type: Number,
								value: 0
							}
						};
						this.observers = ['itemsChanged(items, selectedItem, value)'];
					}
				}, {
					key: 'itemsChanged',
					value: function itemsChanged() {
						this.itemsList = this.items;
						var len = this.items.length;

						if (len && this.selectedItem) {
							this.valueAttr = this.value ? this.value : 'value';
							this.$.itemLabel.value = this.selectedItem[this.valueAttr];
						}
					}
				}, {
					key: 'itemsListChanged',
					value: function itemsListChanged() {
						Polymer.dom.flush();
						var options = this.$.selector.querySelectorAll('.option'),
						    numOfOptions = options.length,
						    numOfLabels = this.labels.length;

						if (numOfOptions > 0) {
							options[0].setAttribute('selected', '');

							for (var i = 0; i < numOfOptions; i++) {
								var item = this.itemsList[i],
								    html = '';

								for (var j = 0; j < numOfLabels; j++) {
									var label = '_' + this.labels[j],
									    delimiter = j === 0 ? '' : this.delimiter,
									    labelValue = item[label] ? item[label] : item[this.labels[j]];
									html += delimiter + labelValue;
								}

								options[i].innerHTML = html;
							}
						}
					}
				}, {
					key: 'getSelectedItemValue',
					value: function getSelectedItemValue() {
						return this.selectedItem ? this.selectedItem[this.valueAttr] : '';
					}
				}, {
					key: 'revert',
					value: function revert() {
						this.labelValue = this.selectedItem[this.valueAttr];
						this.$.itemLabel.blur();
					}
				}, {
					key: 'clear',
					value: function clear() {
						this.labelValue = '';
						this.$.itemLabel.focus();
						this.hide();
					}
				}, {
					key: 'hide',
					value: function hide() {
						this.hasList = false;
						this.hasLabel = false;
						this.invalidLabel = false;
						this.optionIndex = 0;
					}
				}, {
					key: 'cloneItem',
					value: function cloneItem(item) {
						var clone = {},
						    keys = Object.keys(item),
						    len = keys.length;

						for (var i = 0; i < len; i++) {
							var key = keys[i];
							clone[key] = item[key];
						}

						return clone;
					}
				}, {
					key: 'updateItem',
					value: function updateItem(item) {
						var keys = Object.keys(this.selectedItem),
						    len = keys.length;

						for (var i = 0; i < len; i++) {
							var key = keys[i];
							this.selectedItem[key] = item[key];
						}

						var labelValue = '',
						    numOfLabels = this.labels.length;

						for (var j = 0; j < numOfLabels; j++) {
							var delimiter = j === 0 ? '' : this.delimiter;
							labelValue += delimiter + this.selectedItem[this.labels[j]];
						}

						this.labelValue = labelValue;
					}
				}, {
					key: 'submitItem',
					value: function submitItem(e) {
						this.updateItem(e.model.item);
						this.hide();
					}
				}, {
					key: 'selectAdjacentItem',
					value: function selectAdjacentItem(keyCode) {
						var len = this.itemsList.length;

						if (this.optionIndex >= 0 && this.optionIndex < len) {
							this.$.selector.children[this.optionIndex].removeAttribute('selected');

							if (keyCode === 38) {
								this.optionIndex = this.optionIndex === 0 ? len - 1 : this.optionIndex - 1;
							} else if (keyCode === 40) {
								this.optionIndex = this.optionIndex === len - 1 ? 0 : this.optionIndex + 1;
							}

							this.$.selector.children[this.optionIndex].setAttribute('selected', '');
						}
					}
				}, {
					key: 'updateItemsList',
					value: function updateItemsList() {
						var result = [],
						    highlighted = false;

						if (this.labelValue) {
							var searchLabel = this.labelValue.replace(wildCards, '.+'),
							    searchText = new RegExp(searchLabel, 'i');
							var numOfItems = this.items.length,
							    numOfLabels = this.labels.length;

							for (var i = 0; i < numOfItems; i++) {
								var item = this.items[i],
								    clone = this.cloneItem(item);

								for (var j = 0; j < numOfLabels; j++) {
									var itemLabel = item[this.labels[j]];

									if (searchText.test(itemLabel)) {
										var label = '_' + this.labels[j];
										clone[label] = itemLabel.replace(searchText, '<span style="font-weight:bold;">$&</span>');
										highlighted = true;
									}
								}

								if (highlighted) {
									result.push(clone);
									highlighted = false;
								}

								if (result.length >= resultLimit) {
									break;
								}
							}
						}

						return result;
					}
				}, {
					key: 'suggest',
					value: function suggest(e) {
						switch (e.keyCode) {
							case 13:
								this.updateItem(this.itemsList[this.optionIndex]);
								this.$.itemLabel.blur();
								this.hide();
								break;

							case 27:
								this.revert();
								this.hide();
								break;

							case 38:
							case 40:
								this.selectAdjacentItem(e.keyCode);
								break;

							default:
								this.invalidLabel = false;

								if (this.labelValue) {
									this.hasList = true;
									this.hasLabel = true;
								}

								this.itemsList = this.updateItemsList();

								if (this.itemsList.length === 0) {
									if (this.labelValue) {
										this.invalidLabel = true;
									} else {
										this.hasLabel = false;
									}

									this.hasList = false;
								}

								break;
						}
					}
				}]);

				return Typeahead;
			}());

			_export('Typeahead', Typeahead);

			Polymer(Typeahead);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJUeXBlYWhlYWQuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('common/services/sb-line-editor-read/LineEditorReader.js', [], function (_export, _context) {
    var _createClass, LineEditorReader;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('LineEditorReader', LineEditorReader = function () {
                function LineEditorReader() {
                    _classCallCheck(this, LineEditorReader);
                }

                _createClass(LineEditorReader, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-line-editor-read';
                        this.properties = {
                            quoteId: String,
                            lineEditorModel: {
                                type: Object,
                                notify: true
                            },
                            error: {
                                type: String,
                                notify: true
                            }
                        };
                    }
                }, {
                    key: 'ready',
                    value: function ready() {
                        this.$.service.addEventListener('response-changed', function (e) {
                            if (e.detail.value) this.lineEditorModel = e.detail.value;
                        }.bind(this));
                        this.$.service.addEventListener('error-changed', function (e) {
                            if (e.detail.value) this.error = e.detail.value;
                        }.bind(this));
                    }
                }, {
                    key: 'read',
                    value: function read() {
                        this.$.service.uid = this.quoteId;
                    }
                }, {
                    key: 'observers',
                    get: function get() {
                        return ['read(quoteId)'];
                    }
                }]);

                return LineEditorReader;
            }());

            _export('LineEditorReader', LineEditorReader);

            Polymer(LineEditorReader);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJMaW5lRWRpdG9yUmVhZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/core/sb-i18n/I18n.js', ['../Page.js'], function (_export, _context) {
	var Page, _createClass, I18n;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function _possibleConstructorReturn(self, call) {
		if (!self) {
			throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
		}

		return call && (typeof call === "object" || typeof call === "function") ? call : self;
	}

	function _inherits(subClass, superClass) {
		if (typeof superClass !== "function" && superClass !== null) {
			throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
		}

		subClass.prototype = Object.create(superClass && superClass.prototype, {
			constructor: {
				value: subClass,
				enumerable: false,
				writable: true,
				configurable: true
			}
		});
		if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
	}

	return {
		setters: [function (_PageJs) {
			Page = _PageJs.Page;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('I18n', I18n = function (_Page) {
				_inherits(I18n, _Page);

				function I18n() {
					_classCallCheck(this, I18n);

					return _possibleConstructorReturn(this, Object.getPrototypeOf(I18n).apply(this, arguments));
				}

				_createClass(I18n, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-i18n';
						this.properties = {
							locale: {
								type: String,
								notify: false,
								value: function value() {
									return '';
								}
							},
							key: {
								type: String,
								notify: false
							}
						};
					}
				}, {
					key: 'attached',
					value: function attached() {
						var key = this.key ? this.key : this.innerHTML;
						this.innerHTML = this.l(key);
					}
				}, {
					key: 'behaviors',
					get: function get() {
						return [sb.common.core.Page];
					}
				}]);

				return I18n;
			}(Page));

			_export('I18n', I18n);

			Polymer(I18n);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJJMThuLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/core/sb-loading-spinner/LoadingSpinner.js', [], function (_export, _context) {
	var _createClass, LoadingSpinner;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('LoadingSpinner', LoadingSpinner = function () {
				function LoadingSpinner() {
					_classCallCheck(this, LoadingSpinner);
				}

				_createClass(LoadingSpinner, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-loading-spinner';
						this.properties = {
							show: {
								type: Boolean,
								value: false
							}
						};
					}
				}]);

				return LoadingSpinner;
			}());

			_export('LoadingSpinner', LoadingSpinner);

			Polymer(LoadingSpinner);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJMb2FkaW5nU3Bpbm5lci5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/core/sb-page-container/PageContainer.js', ['common/core/Page.js'], function (_export, _context) {
	var Page, _createClass, bpS, bpM, bpL, bpXL, mqS, mqM, mqMOnly, mqL, mqLOnly, mqXL, PageContainer;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [function (_commonCorePageJs) {
			Page = _commonCorePageJs;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			bpS = '0';
			bpM = '768px';
			bpL = '1024px';
			bpXL = '1200px';
			mqS = window.matchMedia('screen and (max-width: ' + bpM + ')');
			mqM = window.matchMedia('screen and (min-width: ' + bpM + ')');
			mqMOnly = window.matchMedia('screen and (min-width: ' + bpM + ') and (max-width: ' + bpL + ')');
			mqL = window.matchMedia('screen and (min-width: ' + bpL + ')');
			mqLOnly = window.matchMedia('screen and (min-width: ' + bpL + ') and (max-width: ' + bpXL + ')');
			mqXL = window.matchMedia('screen and (min-width: ' + bpXL + ')');

			_export('PageContainer', PageContainer = function () {
				function PageContainer() {
					_classCallCheck(this, PageContainer);
				}

				_createClass(PageContainer, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-page-container';
						this.properties = {
							route: String,
							allRoutes: {
								type: Object,
								value: function value() {
									return {};
								},
								observer: '_allRoutesChanged'
							},
							viewport: {
								type: Object,
								observer: '_viewportChanged',
								value: function value() {
									return this._buildViewport(mqS.matches, mqMOnly.matches, mqLOnly.matches, mqXL.matches);
								}
							}
						};
					}
				}, {
					key: '_buildViewport',
					value: function _buildViewport(s, m, l, xl) {
						var v = {
							S: {},
							M: {},
							L: {},
							XL: {}
						};
						v.S.only = s && !m && !l && !xl;
						v.S.down = v.S.only;
						v.S.up = s || m || l || xl;
						v.M.only = !s && m && !l && !xl;
						v.M.down = (s || m) && !l && !xl;
						v.M.up = !s && (m || l || xl);
						v.L.only = !s && !m && l && !xl;
						v.L.down = (s || m || l) && !xl;
						v.L.up = !s && !m && (l || xl);
						v.XL.only = !s && !m && !l && xl;
						v.XL.down = true;
						v.XL.up = v.XL.only;
						return v;
					}
				}, {
					key: 'ready',
					value: function ready() {
						this._setupViewportListeners();
					}
				}, {
					key: 'renderPage',
					value: function renderPage(e, detail, sender) {
						var _this = this;

						if (detail.route.comp && detail.route.comp != '') {
							(function () {
								var ctx = {};
								ctx.params = detail.params;
								ctx.pathParams = detail.pathParams;
								var html = '<' + detail.route.comp + ' ctx=\'' + JSON.stringify(ctx) + '\'></' + detail.route.comp + '>';

								if (detail.route.mod) {
									System.import(detail.route.mod).then(function (m) {
										this.$.content.innerHTML = html;

										this._viewportChanged();

										Polymer.updateStyles();
									}.bind(_this));
								} else {
									_this.$.content.innerHTML = html;
									Polymer.updateStyles();
								}
							})();
						} else {
							this.$.ajax.url = detail.route.view;
							if (this.$.ajax.url) this.$.ajax.go();
						}
					}
				}, {
					key: '_allRoutesChanged',
					value: function _allRoutesChanged(nv) {
						this.$.router.init(nv);
					}
				}, {
					key: '_viewportChanged',
					value: function _viewportChanged() {
						var el = this.$.content.querySelector('*:first-child');
						if (el) el.viewport = this.viewport;
						this.fire('sb-viewport-changed', {
							viewport: this.viewport
						});
					}
				}, {
					key: '_setupViewportListeners',
					value: function _setupViewportListeners() {
						var self = this;

						function build(m) {
							if (m.matches) self.viewport = self._buildViewport(mqS.matches, mqMOnly.matches, mqLOnly.matches, mqXL.matches);
						}

						;
						mqS.addListener(build);
						mqMOnly.addListener(build);
						mqLOnly.addListener(build);
						mqXL.addListener(build);
					}
				}]);

				return PageContainer;
			}());

			_export('PageContainer', PageContainer);

			PageContainer.domId = 'sbPageContainer';
			Polymer(PageContainer);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQYWdlQ29udGFpbmVyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/core/sb-page-header/PageHeader.js', ['common/core/sb-page-container/PageContainer.js'], function (_export, _context) {
	var PageContainer, _createClass, PageHeader;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [function (_commonCoreSbPageContainerPageContainerJs) {
			PageContainer = _commonCoreSbPageContainerPageContainerJs.PageContainer;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			_export('PageHeader', PageHeader = function () {
				function PageHeader() {
					_classCallCheck(this, PageHeader);
				}

				_createClass(PageHeader, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-page-header';
						this.properties = {
							viewport: Object
						};
					}
				}, {
					key: 'ready',
					value: function ready() {
						var con = document.querySelector('#' + PageContainer.domId);

						if (con) {
							con.addEventListener('sb-viewport-changed', function (e) {
								this.viewport = e.detail.viewport;
							}.bind(this));
						}
					}
				}, {
					key: '_openDialog',
					value: function _openDialog() {
						var actions = this.querySelector('.actions');
						var dialog = Polymer.dom(this.root).querySelector('#dialog');

						if (actions) {
							dialog.appendChild(actions);
						}

						dialog.open();
					}
				}]);

				return PageHeader;
			}());

			_export('PageHeader', PageHeader);

			Polymer(PageHeader);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQYWdlSGVhZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('common/core/sb-router/Router.js', [], function (_export, _context) {
	var _createClass, private_router, routes, PATH_PARAM_REGEX, Router;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	return {
		setters: [],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			private_router = undefined;
			routes = undefined;
			PATH_PARAM_REGEX = /:[a-z0-9_$]*/g;

			_export('Router', Router = function () {
				function Router() {
					_classCallCheck(this, Router);
				}

				_createClass(Router, [{
					key: 'beforeRegister',
					value: function beforeRegister() {
						this.is = 'sb-router';
						this.properties = {
							autoHash: {
								type: Boolean,
								value: function value() {
									return false;
								}
							},
							route: {
								type: String,
								observer: 'routeChanged'
							},
							router: {
								type: Object,
								readOnly: true,
								value: function value() {
									if (!private_router) {
										private_router = new window.Router();
										private_router.init();
									}

									return private_router;
								}
							}
						};
					}
				}, {
					key: 'init',
					value: function init(allRoutes) {
						var _this = this;

						var modules = Object.keys(allRoutes);

						if (!routes && modules.length) {
							routes = allRoutes;
							var router = this.router,
							    len = modules ? modules.length : 0;

							for (var i = 0; i < len; i++) {
								var mod = modules[i],
								    modulePaths = Object.keys(routes[mod]),
								    pLen = modulePaths ? modulePaths.length : 0;

								var _loop = function _loop(p) {
									var path = modulePaths[p],
									    pathParams = path ? path.match(PATH_PARAM_REGEX) : null,
									    paramNames = [],
									    paramMap = {};

									if (pathParams) {
										paramNames = pathParams.map(function (val, index) {
											var p = val.substring(1);
											paramMap[p] = null;
											return p;
										});
									}

									router.on(mod + path, function (m, p, paramNames, paramMap) {
										var pathParams = JSON.parse(JSON.stringify(paramMap)),
										    params = Array.prototype.slice.call(arguments, 4),
										    paramsLen = params ? params.length : 0;

										for (var j = 0; j < paramsLen; j++) {
											pathParams[paramNames[j]] = params[j];
										}

										this.routeHandler(m, p, pathParams);
									}.bind(_this, mod, path, paramNames, paramMap));
								};

								for (var p = 0; p < pLen; p++) {
									_loop(p);
								}
							}

							router.on('/*', function () {
								console.log('got an unknown route. need to show 404 here');
							});
							router.on('', function () {
								console.log('Got the <empty> route');
							});
						}
					}
				}, {
					key: 'routeHandler',
					value: function routeHandler(mod, path, params) {
						var hash = window.location.hash.slice(1),
						    pos = hash.indexOf('?'),
						    qsParams = {};

						if (pos >= 0 && hash.length > pos) {
							qsParams = queryString.parse(hash.substring(pos + 1));
						}

						this.fire('sb-route-complete', {
							mod: mod,
							path: path,
							route: routes[mod][path],
							pathParams: params,
							params: qsParams
						});
					}
				}, {
					key: 'routeChanged',
					value: function routeChanged(nv, ov) {
						if (this.autoHash && nv) {
							var same = window.location.hash.slice(1) == this.route;
							window.location.hash = this.route;
							if (same) window.dispatchEvent(new HashChangeEvent("hashchange"));
						}
					}
				}]);

				return Router;
			}());

			_export('Router', Router);

			Polymer(Router);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJSb3V0ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6W119
'use strict';

System.register('products/services/sb-pc-product-load/ProductLoader.js', [], function (_export, _context) {
    var _createClass, ProductLoader;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('ProductLoader', ProductLoader = function () {
                function ProductLoader() {
                    _classCallCheck(this, ProductLoader);
                }

                _createClass(ProductLoader, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-pc-product-load';
                        this.properties = {
                            productId: String,
                            quote: Object,
                            featureProducts: {
                                type: Array,
                                value: []
                            },
                            product: {
                                type: Object,
                                notify: true
                            },
                            error: {
                                type: String,
                                notify: true
                            }
                        };
                    }
                }, {
                    key: 'ready',
                    value: function ready() {
                        this.$.service.addEventListener('response-changed', function (e) {
                            this.product = e.detail && e.detail.value && e.detail.value.length > 0 ? e.detail.value[0] : null;
                        }.bind(this));
                        this.$.service.addEventListener('error-changed', function (e) {
                            this.error = e.detail;
                            console.log(e.detail);
                        }.bind(this));
                    }
                }, {
                    key: 'load',
                    value: function load() {
                        this.$.service.uid = this.productId;
                        this.$.service.context = {
                            quote: JSON.stringify(this.quote),
                            featureProducts: this.featureProducts
                        };
                    }
                }, {
                    key: 'observers',
                    get: function get() {
                        return ['load(productId, quote, featureProducts)'];
                    }
                }]);

                return ProductLoader;
            }());

            _export('ProductLoader', ProductLoader);

            Polymer(ProductLoader);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJQcm9kdWN0TG9hZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==
'use strict';

System.register('products/services/sb-pl-sm-load/SearchModelLoader.js', [], function (_export, _context) {
    var _createClass, SearchModelLoader;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('SearchModelLoader', SearchModelLoader = function () {
                function SearchModelLoader() {
                    _classCallCheck(this, SearchModelLoader);
                }

                _createClass(SearchModelLoader, [{
                    key: 'beforeRegister',
                    value: function beforeRegister() {
                        this.is = 'sb-pl-sm-load';
                        this.properties = {
                            quote: Object,
                            processId: {
                                type: String,
                                value: null
                            },
                            actionId: {
                                type: String,
                                value: null
                            },
                            searchModel: {
                                type: Object,
                                notify: true
                            },
                            error: {
                                type: String,
                                notify: true
                            }
                        };
                    }
                }, {
                    key: 'ready',
                    value: function ready() {
                        this.$.service.addEventListener('response-changed', function (e) {
                            this.searchModel = e.detail.value;
                        }.bind(this));
                        this.$.service.addEventListener('error-changed', function (e) {
                            this.error = e.detail;
                            console.log(e.detail);
                        }.bind(this));
                    }
                }, {
                    key: 'load',
                    value: function load() {
                        this.$.service.uid = null;
                        this.$.service.context = {
                            quote: JSON.stringify(this.quote),
                            processId: this.processId,
                            actionId: this.actionId
                        };
                    }
                }, {
                    key: 'observers',
                    get: function get() {
                        return ['load(quote, processId, actionId)'];
                    }
                }]);

                return SearchModelLoader;
            }());

            _export('SearchModelLoader', SearchModelLoader);

            Polymer(SearchModelLoader);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJTZWFyY2hNb2RlbExvYWRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/data/sb-service/test/Setup.js', ['../../../oauth/OAuth.js'], function (_export, _context) {
    var OAuth, _createClass, ORG_URL, ORG_ID, REFRESH_TOKEN, LOGIN_URL, Setup;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [function (_oauthOAuthJs) {
            OAuth = _oauthOAuthJs.OAuth;
        }],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            ORG_URL = 'https://na34.salesforce.com';
            ORG_ID = '00D61000000dwYmEAI';
            REFRESH_TOKEN = '5Aep861tbt360sO1.vax81FWRk4cQc8WdhWW6kMjRQMgJ9b1jteX3l7jVd3LSm7t4gQ_hpEpnzuwwbwM1elEQhq';
            LOGIN_URL = 'https://login.salesforce.com';

            _export('Setup', Setup = function () {
                function Setup(orgUrl, orgId, refreshToken) {
                    _classCallCheck(this, Setup);

                    this.orgUrl = orgUrl || ORG_URL;
                    this.orgId = orgId || ORG_ID;
                    this.refreshToken = refreshToken || REFRESH_TOKEN;
                    this.id = LOGIN_URL + '/id/' + this.orgId;
                    this.oauth = new OAuth();
                }

                _createClass(Setup, [{
                    key: 'setup',
                    value: function setup() {
                        var tokens = {
                            instance_url: this.orgUrl,
                            id: this.id,
                            refresh_token: this.refreshToken
                        };
                        this.tokens = this.oauth.tokens;
                        this.oauth.tokens = tokens;
                    }
                }, {
                    key: 'cleanup',
                    value: function cleanup() {
                        if (!this.tokens || !this.tokens.refreshToken) return;
                        var tokens = {
                            instance_url: this.tokens.instanceUrl,
                            id: this.tokens.userInfo.url,
                            refresh_token: this.tokens.refreshToken,
                            access_token: this.tokens.accessToken
                        };
                        this.oauth.tokens = tokens;
                    }
                }]);

                return Setup;
            }());

            _export('Setup', Setup);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJTZXR1cC5qcyIsInNvdXJjZXNDb250ZW50IjpbXX0=
'use strict';

System.register('common/data/sb-db/adapter/leveljs/LevelAdapter.js', ['common/Util.js'], function (_export, _context) {
	var Util, _createClass, ID, ID_DELIM, LevelAdapter;

	function _classCallCheck(instance, Constructor) {
		if (!(instance instanceof Constructor)) {
			throw new TypeError("Cannot call a class as a function");
		}
	}

	function getRelatedId(ref) {
		var id = null;
		if (ref && typeof ref === 'string') id = ref;else if (ref && ref.id) id = ref.id;
		return id;
	}

	function getAll(db, model) {
		if (!model) return Promise.reject('Cannot query all records without model');
		return new Promise(function (resolve, reject) {
			var it = db.iterator({
				'gte': model.schema.id + ID_DELIM,
				'lte': model.schema.id + ID_DELIM + '',
				'valueAsBuffer': false
			});
			next(it, []).then(function (records) {
				resolve(records);
			}).catch(function (err) {
				reject(err);
			});
		});
	}

	function next(it, records) {
		return new Promise(function (resolve, reject) {
			it.next(function (err, key, value) {
				if (err) {
					reject(err);
				} else {
					if (!key && !value) {
						resolve(records);
					} else {
						records.push(value);
						next(it, records).then(function (newRecords) {
							resolve(newRecords);
						}).catch(function (err) {
							reject(err);
						});
					}
				}
			});
		});
	}

	function getOne(db, id) {
		if (!id) return Promise.resolve();
		return new Promise(function (resolve, reject) {
			db.get(id, {
				asBuffer: false
			}, function (err, obj) {
				if (err) reject(err);else resolve(obj);
			});
		});
	}

	function toArray(x) {
		return x == null || Array.isArray(x) ? x : [x];
	}

	function hasProp(x) {
		if (!x) return false;

		for (var p in x) {
			return true;
		}

		return false;
	}

	return {
		setters: [function (_commonUtilJs) {
			Util = _commonUtilJs.Util;
		}],
		execute: function () {
			_createClass = function () {
				function defineProperties(target, props) {
					for (var i = 0; i < props.length; i++) {
						var descriptor = props[i];
						descriptor.enumerable = descriptor.enumerable || false;
						descriptor.configurable = true;
						if ("value" in descriptor) descriptor.writable = true;
						Object.defineProperty(target, descriptor.key, descriptor);
					}
				}

				return function (Constructor, protoProps, staticProps) {
					if (protoProps) defineProperties(Constructor.prototype, protoProps);
					if (staticProps) defineProperties(Constructor, staticProps);
					return Constructor;
				};
			}();

			ID = 'id';
			ID_DELIM = '_';

			_export('LevelAdapter', LevelAdapter = function () {
				function LevelAdapter() {
					_classCallCheck(this, LevelAdapter);
				}

				_createClass(LevelAdapter, [{
					key: 'open',
					value: function open(name) {
						this.db = new window.Level(name);
						return new Promise(function (resolve, reject) {
							this.db.open(function (err) {
								if (err) reject(err);else resolve(this.db);
							}.bind(this));
						}.bind(this));
					}
				}, {
					key: 'save',
					value: function save(objs) {
						if (objs == null) return Promise.reject('Cannot save a null object');
						var ops = [],
						    self = this,
						    wasArray = Array.isArray(objs),
						    now = Date.now(),
						    nowStr = Util.toIsoDate(now),
						    user = 1;
						objs = toArray(objs);
						var _iteratorNormalCompletion = true;
						var _didIteratorError = false;
						var _iteratorError = undefined;

						try {
							for (var _iterator = objs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
								var obj = _step.value;

								if (hasProp(obj)) {
									for (var r in obj.constructor.relationships()) {
										var ref = obj[r];

										if (Array.isArray(ref)) {
											var len = ref.length;

											for (var i = 0; i < len; i++) {
												ref[i] = getRelatedId(ref[i]);
											}

											obj[r] = ref.filter(function (v) {
												return v != null;
											});
											if (!obj[r].length) delete obj[r];
										} else {
											obj[r] = getRelatedId(ref);
											if (!obj[r]) delete obj[r];
										}
									}

									if (!obj.id) {
										obj.id = obj.constructor.schema.id + ID_DELIM + now;
										obj.createdDate = nowStr;
										obj.createdBy = user;
									}

									obj.lastModifiedDate = nowStr;
									obj.lastModifiedBy = user;
									ops.push({
										type: 'put',
										key: obj.id,
										value: obj
									});
								}
							}
						} catch (err) {
							_didIteratorError = true;
							_iteratorError = err;
						} finally {
							try {
								if (!_iteratorNormalCompletion && _iterator.return) {
									_iterator.return();
								}
							} finally {
								if (_didIteratorError) {
									throw _iteratorError;
								}
							}
						}

						return new Promise(function (resolve, reject) {
							this.db.batch(ops, function (err) {
								if (err) {
									reject(err);
								} else {
									resolve(wasArray ? objs : objs[0]);
								}
							}.bind(this));
						}.bind(this));
					}
				}, {
					key: 'remove',
					value: function remove(objs) {
						if (objs == null) return Promise.reject('Cannot remove a null object');
						var ops = [];
						objs = toArray(objs);
						var _iteratorNormalCompletion2 = true;
						var _didIteratorError2 = false;
						var _iteratorError2 = undefined;

						try {
							for (var _iterator2 = objs[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
								var obj = _step2.value;

								if (obj) {
									ops.push({
										type: 'del',
										key: obj.id ? obj.id : obj
									});
								}
							}
						} catch (err) {
							_didIteratorError2 = true;
							_iteratorError2 = err;
						} finally {
							try {
								if (!_iteratorNormalCompletion2 && _iterator2.return) {
									_iterator2.return();
								}
							} finally {
								if (_didIteratorError2) {
									throw _iteratorError2;
								}
							}
						}

						return new Promise(function (resolve, reject) {
							this.db.batch(ops, function (err) {
								if (err) {
									reject(err);
								} else {
									resolve();
								}
							});
						}.bind(this));
					}
				}, {
					key: 'get',
					value: function get(id, model) {
						if (id) {
							return getOne(this.db, id);
						} else {
							return getAll(this.db, model);
						}
					}
				}]);

				return LevelAdapter;
			}());

			_export('LevelAdapter', LevelAdapter);
		}
	};
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkxldmVsQWRhcHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzRCQXFDa0IsSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzZCQStESixJQUFJIiwiZmlsZSI6IkxldmVsQWRhcHRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VXRpbH0gZnJvbSAnY29tbW9uL1V0aWwuanMnO1xuXG5sZXQgSUQgPSAnaWQnLCAvLyBjb25maWd1cmFibGUvZmxleGlibCBpbiB0aGUgZnV0dXJlP1xuSURfREVMSU0gPSAnXyc7XG5cbi8vIEEgdHJhbnNmb3JtZXIvYnJpZGdlL2FkYXB0ZXIgZnJvbSBvdXIgTW9kZWwgQVBJIHRvIExldmVsRE9XTlxuZXhwb3J0IGNsYXNzIExldmVsQWRhcHRlciB7XG5cblx0b3BlbiggbmFtZSApIHtcblx0XHR0aGlzLmRiID0gbmV3IHdpbmRvdy5MZXZlbCggbmFtZSApOyAvLyBUT0RPOiAgbnNwISFcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0XHR0aGlzLmRiLm9wZW4oIGZ1bmN0aW9uKCBlcnIgKSB7XG5cdFx0XHRcdGlmKCBlcnIgKVxuXHRcdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXNvbHZlKHRoaXMuZGIpO1xuXHRcdFx0fS5iaW5kKHRoaXMpKTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9XG5cblx0LyoqXG5cdCogQ3JlYXRlIG9yIHVwZGF0ZSB0aGlzIG9iamVjdChzKSB0byBkYlxuXHQqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBvYmpzIHRoZSBvYmplY3RzXG5cdCogQHJldHVybiB7UHJvbWlzZS48QXJyYXl8T2JqZWN0Pn0gdGhlIG5ld2x5IGNyZWF0ZWQgb3IgdXBkYXRlZCBvYmplY3Rcblx0Ki9cblx0c2F2ZSggb2JqcyApIHtcblx0XHRpZiggb2JqcyA9PSBudWxsIClcblx0XHRcdHJldHVybiBQcm9taXNlLnJlamVjdCggJ0Nhbm5vdCBzYXZlIGEgbnVsbCBvYmplY3QnICk7XG5cblx0XHRsZXQgb3BzID0gW10sIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHR3YXNBcnJheSA9IEFycmF5LmlzQXJyYXkoIG9ianMgKSxcblx0XHRcdFx0bm93ID0gRGF0ZS5ub3coKSxcblx0XHRcdFx0bm93U3RyID0gVXRpbC50b0lzb0RhdGUoIG5vdyApLFxuXHRcdFx0XHR1c2VyID0gMTsgIC8vIFRPRE86IGdldCBjdXJyZW50IHVzZXIgaWRcblxuXHRcdG9ianMgPSB0b0FycmF5KCBvYmpzICk7XG5cblx0XHRmb3IoIGxldCBvYmogb2Ygb2JqcyApIHtcblx0XHRcdGlmKCBoYXNQcm9wKCBvYmogKSApIHtcblx0XHRcdFx0Ly8gc2F2ZSByZWxhdGlvbnMgZmlyc3QuICBJZiBzdHJpbmcgdGhlbiBhc3N1bWUgaXQgaXMgSUQuICBJZiBvYmplY3QsIHNhdmUgb25seSBJRC5cblx0XHRcdFx0Zm9yKCBsZXQgciBpbiBvYmouY29uc3RydWN0b3IucmVsYXRpb25zaGlwcygpICkge1xuXHRcdFx0XHRcdGxldCByZWYgPSBvYmpbcl07XG5cdFx0XHRcdFx0aWYoIEFycmF5LmlzQXJyYXkoIHJlZiApICkge1xuXHRcdFx0XHRcdFx0bGV0IGxlbiA9IHJlZi5sZW5ndGg7XG5cdFx0XHRcdFx0XHRmb3IoIGxldCBpPTA7IGkgPCBsZW47IGkrKyApXG5cdFx0XHRcdFx0XHRcdHJlZltpXSA9IGdldFJlbGF0ZWRJZCggcmVmW2ldICk7XG5cblx0XHRcdFx0XHRcdG9ialtyXSA9IHJlZi5maWx0ZXIoIGZ1bmN0aW9uKHYpIHsgcmV0dXJuIHYgIT0gbnVsbCB9ICk7XG5cblx0XHRcdFx0XHRcdGlmKCAhb2JqW3JdLmxlbmd0aCApXG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSBvYmpbcl07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2Uge1xuXHRcdFx0XHRcdFx0b2JqW3JdID0gZ2V0UmVsYXRlZElkKCByZWYgKTtcblx0XHRcdFx0XHRcdGlmKCAhb2JqW3JdIClcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIG9ialtyXTsgIC8vIGRvbid0IGtub3cgd2hhdCB0aGlzIGlzIHNvIGlnbm9yZSBpdFxuXHRcdFx0XHRcdFx0Ly8gZnV0dXJlIGVuaDogc3VwcG9ydCBjcmVhdGlvbiBvZiByZWxhdGVkIG9iamVjdHMgYXQgc2FtZSB0aW1lIGFzIHRoaXMgb2JqZWN0XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoICFvYmouaWQgKSB7XG5cdFx0XHRcdFx0b2JqLmlkID0gb2JqLmNvbnN0cnVjdG9yLnNjaGVtYS5pZCArIElEX0RFTElNICsgbm93O1xuXHRcdFx0XHRcdG9iai5jcmVhdGVkRGF0ZSA9IG5vd1N0cjtcblx0XHRcdFx0XHRvYmouY3JlYXRlZEJ5ID0gdXNlcjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdG9iai5sYXN0TW9kaWZpZWREYXRlID0gbm93U3RyO1xuXHRcdFx0XHRvYmoubGFzdE1vZGlmaWVkQnkgPSB1c2VyO1xuXG5cdFx0XHRcdG9wcy5wdXNoKCB7XG5cdFx0XHRcdFx0dHlwZTogJ3B1dCcsXG5cdFx0XHRcdFx0a2V5OiBvYmouaWQsXG5cdFx0XHRcdFx0dmFsdWU6IG9ialxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0XHR0aGlzLmRiLmJhdGNoKCBvcHMsIGZ1bmN0aW9uKCBlcnIgKSB7XG5cdFx0XHRcdGlmKCBlcnIgKSB7XG5cdFx0XHRcdFx0cmVqZWN0KCBlcnIgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRyZXNvbHZlKCB3YXNBcnJheSA/IG9ianMgOiBvYmpzWzBdICk7XG5cdFx0XHRcdH1cblx0XHRcdH0uYmluZCh0aGlzKSk7XG5cdFx0fS5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdC8qKlxuXHQqIERlbGV0ZSB0aGUgb2JqZWN0KHMpIGZyb20gdGhlIGRiXG5cdCogQHBhcmFtIHtBcnJheXxPYmplY3R8U3RyaW5nfSBvYmpzIHRoZSBvYmplY3QgaW5zdGFuY2UocykgdG8gZGVsZXRlLCBvciB0aGUgaWRzIG9mIHRoZSBpbnN0YW5jZXMgKFN0cmluZylcblx0KiBAcmV0dXJuIHtQcm9taXNlfVxuXHQqL1xuXHRyZW1vdmUoIG9ianMgKSB7XG5cdFx0aWYoIG9ianMgPT0gbnVsbCApXG5cdFx0cmV0dXJuIFByb21pc2UucmVqZWN0KCAnQ2Fubm90IHJlbW92ZSBhIG51bGwgb2JqZWN0JyApO1xuXG5cdFx0bGV0IG9wcyA9IFtdO1xuXHRcdG9ianMgPSB0b0FycmF5KCBvYmpzICk7XG5cdFx0Zm9yKCBsZXQgb2JqIG9mIG9ianMgKSB7XG5cdFx0XHRpZiggb2JqICkge1xuXHRcdFx0XHQvLyBUT0RPOiByZW1vdmUgcmVsYXRpb25zIGZpcnN0XG5cdFx0XHRcdG9wcy5wdXNoKCB7XG5cdFx0XHRcdFx0dHlwZTogJ2RlbCcsXG5cdFx0XHRcdFx0a2V5OiBvYmouaWQgPyBvYmouaWQgOiBvYmogIC8vIGNhbiBiZSBzdHJpbmdcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdFx0dGhpcy5kYi5iYXRjaCggb3BzLCBmdW5jdGlvbiggZXJyICkge1xuXHRcdFx0XHRpZiggZXJyICkge1xuXHRcdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0cmVzb2x2ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9LmJpbmQodGhpcykpO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0cmlldmVzIHRoZSBpbnN0YW5jZSAocmVjb3JkKSBmcm9tIHRoZSBkYlxuXHQqIEBwYXJhbSAge1N0cmluZ30gaWQgdGhlIGlkIG9mIHRoZSBpbnN0YW5jZSAocmVjb3JkKVxuXHQqIEByZXR1cm4ge1Byb21pc2UuPE9iamVjdD59ICAgIFtkZXNjcmlwdGlvbl1cblx0Ki9cblx0Z2V0KCBpZCwgbW9kZWwgKSB7XG5cdFx0aWYoIGlkICkge1xuXHRcdFx0cmV0dXJuIGdldE9uZSggdGhpcy5kYiwgaWQgKTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRyZXR1cm4gZ2V0QWxsKCB0aGlzLmRiLCBtb2RlbCApO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiogUmV0dXJucyB0aGUgaWQgb2YgdGhlIHJlbGF0ZWQgb2JqZWN0XG4qIEBwYXJhbSAge1N0cmluZ3xPYmplY3R9IHJlZiB0aGUgcmVmZXJlbmNlIHRvIHRoZSByZWxhdGVkIG9iamVjdCwgb3IgdGhlIHJlbGF0ZWQgb2JqZWN0IElEIGl0c2VsZlxuKiBAcmV0dXJuIHtTdHJpbmd9ICAgICB0aGUgcmVsYXRlZCBvYmplY3QncyBpZCBvciBudWxsIGlmIG5vdCBrbm93blxuKi9cbmZ1bmN0aW9uIGdldFJlbGF0ZWRJZCggcmVmICkge1xuXHRsZXQgaWQgPSBudWxsO1xuXG5cdGlmKCByZWYgJiYgdHlwZW9mIHJlZiA9PT0gJ3N0cmluZycgKVxuXHRcdGlkID0gcmVmO1xuXHRlbHNlIGlmKCByZWYgJiYgcmVmLmlkIClcblx0XHRpZCA9IHJlZi5pZDtcblxuXHRyZXR1cm4gaWQ7XG59XG5cbmZ1bmN0aW9uIGdldEFsbCggZGIsIG1vZGVsICkge1xuXHRpZiggIW1vZGVsIClcblx0XHRyZXR1cm4gUHJvbWlzZS5yZWplY3QoICdDYW5ub3QgcXVlcnkgYWxsIHJlY29yZHMgd2l0aG91dCBtb2RlbCcgKTtcblxuXHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0bGV0IGl0ID0gZGIuaXRlcmF0b3Ioe1xuXHRcdFx0J2d0ZSc6IG1vZGVsLnNjaGVtYS5pZCArIElEX0RFTElNLFxuXHRcdFx0J2x0ZSc6IG1vZGVsLnNjaGVtYS5pZCArIElEX0RFTElNICsgJ1xcdWZmZmYnLFxuXHRcdFx0J3ZhbHVlQXNCdWZmZXInOiBmYWxzZVxuXHRcdH0pO1xuXG5cdFx0bmV4dCggaXQsIFtdICkudGhlbiggZnVuY3Rpb24oIHJlY29yZHMgKSB7XG5cdFx0XHRyZXNvbHZlKCByZWNvcmRzICk7XG5cdFx0fSkuY2F0Y2goIGZ1bmN0aW9uKGVycikge1xuXHRcdFx0cmVqZWN0KCBlcnIgKTtcblx0XHR9KTtcblx0fSk7XG59XG5cbi8vIEdldHMgbmV4dCBvZiBpdGVyYXRvciwgcmV0dXJucyBhIHByb21pc2VcbmZ1bmN0aW9uIG5leHQoIGl0LCByZWNvcmRzICkge1xuXHRyZXR1cm4gbmV3IFByb21pc2UoIGZ1bmN0aW9uKCByZXNvbHZlLCByZWplY3QgKSB7XG5cdFx0aXQubmV4dCggZnVuY3Rpb24oIGVyciwga2V5LCB2YWx1ZSApIHtcblx0XHRcdGlmKCBlcnIgKSB7XG5cdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0aWYoICFrZXkgJiYgIXZhbHVlICkge1xuXHRcdFx0XHRcdHJlc29sdmUoIHJlY29yZHMgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRyZWNvcmRzLnB1c2goIHZhbHVlICk7XG5cdFx0XHRcdFx0bmV4dCggaXQsIHJlY29yZHMgKS50aGVuKCBmdW5jdGlvbiggbmV3UmVjb3JkcyApIHtcblx0XHRcdFx0XHRcdHJlc29sdmUoIG5ld1JlY29yZHMgKTtcblx0XHRcdFx0XHR9KS5jYXRjaCggZnVuY3Rpb24oIGVyciApIHtcblx0XHRcdFx0XHRcdHJlamVjdCggZXJyICk7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gZ2V0T25lKCBkYiwgaWQgKSB7XG5cdGlmKCAhaWQgKVxuXHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG5cblx0cmV0dXJuIG5ldyBQcm9taXNlKCBmdW5jdGlvbiggcmVzb2x2ZSwgcmVqZWN0ICkge1xuXHRcdGRiLmdldCggaWQsIHthc0J1ZmZlcjogZmFsc2V9LCBmdW5jdGlvbiggZXJyLCBvYmogKSB7XG5cdFx0XHRpZiggZXJyIClcblx0XHRcdFx0cmVqZWN0KCBlcnIgKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXNvbHZlKCBvYmogKTtcblx0XHR9KVxuXHR9KTtcbn1cblxuLyoqXG4qIE1ha2UgYW4gYXJyYXkgaWYgbm90IGFscmVhZHkgYW4gYXJyYXlcbiogQHBhcmFtICB7T2JqZWN0fSB4IHRoZSBvYmplY3Qgb3IgYXJyYXlcbiogQHJldHVybiB7QXJyYXl9IGFycmF5IG9yIG51bGwgaWYgeCB3YXMgbnVsbC91bmRlZmluZWRcbiovXG5mdW5jdGlvbiB0b0FycmF5KCB4ICkge1xuXHRyZXR1cm4geCA9PSBudWxsIHx8IEFycmF5LmlzQXJyYXkoIHggKSA/IHggOiBbeF07XG59XG5cbi8qKlxuKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBoYXMgYXQgbGVhc3Qgb25lIHByb3BlcnR5LCBpLmUuIGl0IGlzIFwicGVyc2lzdGFibGVcIlxuKiBAcGFyYW0gIHtPYmplY3R9ICB4IHRoZSBvYmplY3RcbiogQHJldHVybiB7Qm9vbGVhbn0gICAgIHRydWUgaWYgaXQgaGFzIGF0IGxlYXN0IG9uZSBwcm9wZXJ0eSwgZmFsc2Ugb3RoZXJ3aXNlXG4qL1xuZnVuY3Rpb24gaGFzUHJvcCggeCApIHtcblx0aWYoICF4ICkgLy8gd2FudCB0byB1c2UgdHlwZW9mIGJ1dCBidWcgaW4gQmFiZWwgcHJldmVudHMgaXQgZm9yIG5vdyAoaHR0cHM6Ly9waGFicmljYXRvci5iYWJlbGpzLmlvL1Q2Nzc3KVxuXHRcdHJldHVybiBmYWxzZTtcblxuXHRmb3IoIGxldCBwIGluIHggKVxuXHRcdHJldHVybiB0cnVlO1xuXG5cdHJldHVybiBmYWxzZTtcbn1cbiJdfQ==
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
window.Level = require( '../../../../../../node_modules/level-js/index.js' );

},{"../../../../../../node_modules/level-js/index.js":14}],2:[function(require,module,exports){
(function (process){
/* Copyright (c) 2013 Rod Vagg, MIT License */

function AbstractChainedBatch (db) {
  this._db         = db
  this._operations = []
  this._written    = false
}

AbstractChainedBatch.prototype._checkWritten = function () {
  if (this._written)
    throw new Error('write() already called on this batch')
}

AbstractChainedBatch.prototype.put = function (key, value) {
  this._checkWritten()

  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer)
  if (err) throw err
  err = this._db._checkKeyValue(value, 'value', this._db._isBuffer)
  if (err) throw err

  if (!this._db._isBuffer(key)) key = String(key)
  if (!this._db._isBuffer(value)) value = String(value)

  if (typeof this._put == 'function' )
    this._put(key, value)
  else
    this._operations.push({ type: 'put', key: key, value: value })

  return this
}

AbstractChainedBatch.prototype.del = function (key) {
  this._checkWritten()

  var err = this._db._checkKeyValue(key, 'key', this._db._isBuffer)
  if (err) throw err

  if (!this._db._isBuffer(key)) key = String(key)

  if (typeof this._del == 'function' )
    this._del(key)
  else
    this._operations.push({ type: 'del', key: key })

  return this
}

AbstractChainedBatch.prototype.clear = function () {
  this._checkWritten()

  this._operations = []

  if (typeof this._clear == 'function' )
    this._clear()

  return this
}

AbstractChainedBatch.prototype.write = function (options, callback) {
  this._checkWritten()

  if (typeof options == 'function')
    callback = options
  if (typeof callback != 'function')
    throw new Error('write() requires a callback argument')
  if (typeof options != 'object')
    options = {}

  this._written = true

  if (typeof this._write == 'function' )
    return this._write(callback)

  if (typeof this._db._batch == 'function')
    return this._db._batch(this._operations, options, callback)

  process.nextTick(callback)
}

module.exports = AbstractChainedBatch
}).call(this,require('_process'))
},{"_process":23}],3:[function(require,module,exports){
(function (process){
/* Copyright (c) 2013 Rod Vagg, MIT License */

function AbstractIterator (db) {
  this.db = db
  this._ended = false
  this._nexting = false
}

AbstractIterator.prototype.next = function (callback) {
  var self = this

  if (typeof callback != 'function')
    throw new Error('next() requires a callback argument')

  if (self._ended)
    return callback(new Error('cannot call next() after end()'))
  if (self._nexting)
    return callback(new Error('cannot call next() before previous next() has completed'))

  self._nexting = true
  if (typeof self._next == 'function') {
    return self._next(function () {
      self._nexting = false
      callback.apply(null, arguments)
    })
  }

  process.nextTick(function () {
    self._nexting = false
    callback()
  })
}

AbstractIterator.prototype.end = function (callback) {
  if (typeof callback != 'function')
    throw new Error('end() requires a callback argument')

  if (this._ended)
    return callback(new Error('end() already called on iterator'))

  this._ended = true

  if (typeof this._end == 'function')
    return this._end(callback)

  process.nextTick(callback)
}

module.exports = AbstractIterator

}).call(this,require('_process'))
},{"_process":23}],4:[function(require,module,exports){
(function (Buffer,process){
/* Copyright (c) 2013 Rod Vagg, MIT License */

var xtend                = require('xtend')
  , AbstractIterator     = require('./abstract-iterator')
  , AbstractChainedBatch = require('./abstract-chained-batch')

function AbstractLevelDOWN (location) {
  if (!arguments.length || location === undefined)
    throw new Error('constructor requires at least a location argument')

  if (typeof location != 'string')
    throw new Error('constructor requires a location string argument')

  this.location = location
}

AbstractLevelDOWN.prototype.open = function (options, callback) {
  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('open() requires a callback argument')

  if (typeof options != 'object')
    options = {}

  if (typeof this._open == 'function')
    return this._open(options, callback)

  process.nextTick(callback)
}

AbstractLevelDOWN.prototype.close = function (callback) {
  if (typeof callback != 'function')
    throw new Error('close() requires a callback argument')

  if (typeof this._close == 'function')
    return this._close(callback)

  process.nextTick(callback)
}

AbstractLevelDOWN.prototype.get = function (key, options, callback) {
  var err

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('get() requires a callback argument')

  if (err = this._checkKeyValue(key, 'key', this._isBuffer))
    return callback(err)

  if (!this._isBuffer(key))
    key = String(key)

  if (typeof options != 'object')
    options = {}

  if (typeof this._get == 'function')
    return this._get(key, options, callback)

  process.nextTick(function () { callback(new Error('NotFound')) })
}

AbstractLevelDOWN.prototype.put = function (key, value, options, callback) {
  var err

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('put() requires a callback argument')

  if (err = this._checkKeyValue(key, 'key', this._isBuffer))
    return callback(err)

  if (err = this._checkKeyValue(value, 'value', this._isBuffer))
    return callback(err)

  if (!this._isBuffer(key))
    key = String(key)

  // coerce value to string in node, don't touch it in browser
  // (indexeddb can store any JS type)
  if (!this._isBuffer(value) && !process.browser)
    value = String(value)

  if (typeof options != 'object')
    options = {}

  if (typeof this._put == 'function')
    return this._put(key, value, options, callback)

  process.nextTick(callback)
}

AbstractLevelDOWN.prototype.del = function (key, options, callback) {
  var err

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('del() requires a callback argument')

  if (err = this._checkKeyValue(key, 'key', this._isBuffer))
    return callback(err)

  if (!this._isBuffer(key))
    key = String(key)

  if (typeof options != 'object')
    options = {}

  if (typeof this._del == 'function')
    return this._del(key, options, callback)

  process.nextTick(callback)
}

AbstractLevelDOWN.prototype.batch = function (array, options, callback) {
  if (!arguments.length)
    return this._chainedBatch()

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('batch(array) requires a callback argument')

  if (!Array.isArray(array))
    return callback(new Error('batch(array) requires an array argument'))

  if (typeof options != 'object')
    options = {}

  var i = 0
    , l = array.length
    , e
    , err

  for (; i < l; i++) {
    e = array[i]
    if (typeof e != 'object')
      continue

    if (err = this._checkKeyValue(e.type, 'type', this._isBuffer))
      return callback(err)

    if (err = this._checkKeyValue(e.key, 'key', this._isBuffer))
      return callback(err)

    if (e.type == 'put') {
      if (err = this._checkKeyValue(e.value, 'value', this._isBuffer))
        return callback(err)
    }
  }

  if (typeof this._batch == 'function')
    return this._batch(array, options, callback)

  process.nextTick(callback)
}

//TODO: remove from here, not a necessary primitive
AbstractLevelDOWN.prototype.approximateSize = function (start, end, callback) {
  if (   start == null
      || end == null
      || typeof start == 'function'
      || typeof end == 'function') {
    throw new Error('approximateSize() requires valid `start`, `end` and `callback` arguments')
  }

  if (typeof callback != 'function')
    throw new Error('approximateSize() requires a callback argument')

  if (!this._isBuffer(start))
    start = String(start)

  if (!this._isBuffer(end))
    end = String(end)

  if (typeof this._approximateSize == 'function')
    return this._approximateSize(start, end, callback)

  process.nextTick(function () {
    callback(null, 0)
  })
}

AbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {
  var self = this

  options = xtend(options)

  ;[ 'start', 'end', 'gt', 'gte', 'lt', 'lte' ].forEach(function (o) {
    if (options[o] && self._isBuffer(options[o]) && options[o].length === 0)
      delete options[o]
  })

  options.reverse = !!options.reverse

  // fix `start` so it takes into account gt, gte, lt, lte as appropriate
  if (options.reverse && options.lt)
    options.start = options.lt
  if (options.reverse && options.lte)
    options.start = options.lte
  if (!options.reverse && options.gt)
    options.start = options.gt
  if (!options.reverse && options.gte)
    options.start = options.gte

  if ((options.reverse && options.lt && !options.lte)
    || (!options.reverse && options.gt && !options.gte))
    options.exclusiveStart = true // start should *not* include matching key

  return options
}

AbstractLevelDOWN.prototype.iterator = function (options) {
  if (typeof options != 'object')
    options = {}

  options = this._setupIteratorOptions(options)

  if (typeof this._iterator == 'function')
    return this._iterator(options)

  return new AbstractIterator(this)
}

AbstractLevelDOWN.prototype._chainedBatch = function () {
  return new AbstractChainedBatch(this)
}

AbstractLevelDOWN.prototype._isBuffer = function (obj) {
  return Buffer.isBuffer(obj)
}

AbstractLevelDOWN.prototype._checkKeyValue = function (obj, type) {

  if (obj === null || obj === undefined)
    return new Error(type + ' cannot be `null` or `undefined`')

  if (this._isBuffer(obj)) {
    if (obj.length === 0)
      return new Error(type + ' cannot be an empty Buffer')
  } else if (String(obj) === '')
    return new Error(type + ' cannot be an empty String')
}

module.exports.AbstractLevelDOWN    = AbstractLevelDOWN
module.exports.AbstractIterator     = AbstractIterator
module.exports.AbstractChainedBatch = AbstractChainedBatch

}).call(this,{"isBuffer":require("../is-buffer/index.js")},require('_process'))
},{"../is-buffer/index.js":12,"./abstract-chained-batch":2,"./abstract-iterator":3,"_process":23,"xtend":5}],5:[function(require,module,exports){
module.exports = extend

function extend() {
    var target = {}

    for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i]

        for (var key in source) {
            if (source.hasOwnProperty(key)) {
                target[key] = source[key]
            }
        }
    }

    return target
}

},{}],6:[function(require,module,exports){
var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

;(function (exports) {
	'use strict';

  var Arr = (typeof Uint8Array !== 'undefined')
    ? Uint8Array
    : Array

	var PLUS   = '+'.charCodeAt(0)
	var SLASH  = '/'.charCodeAt(0)
	var NUMBER = '0'.charCodeAt(0)
	var LOWER  = 'a'.charCodeAt(0)
	var UPPER  = 'A'.charCodeAt(0)
	var PLUS_URL_SAFE = '-'.charCodeAt(0)
	var SLASH_URL_SAFE = '_'.charCodeAt(0)

	function decode (elt) {
		var code = elt.charCodeAt(0)
		if (code === PLUS ||
		    code === PLUS_URL_SAFE)
			return 62 // '+'
		if (code === SLASH ||
		    code === SLASH_URL_SAFE)
			return 63 // '/'
		if (code < NUMBER)
			return -1 //no match
		if (code < NUMBER + 10)
			return code - NUMBER + 26 + 26
		if (code < UPPER + 26)
			return code - UPPER
		if (code < LOWER + 26)
			return code - LOWER + 26
	}

	function b64ToByteArray (b64) {
		var i, j, l, tmp, placeHolders, arr

		if (b64.length % 4 > 0) {
			throw new Error('Invalid string. Length must be a multiple of 4')
		}

		// the number of equal signs (place holders)
		// if there are two placeholders, than the two characters before it
		// represent one byte
		// if there is only one, then the three characters before it represent 2 bytes
		// this is just a cheap hack to not do indexOf twice
		var len = b64.length
		placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0

		// base64 is 4/3 + up to two characters of the original data
		arr = new Arr(b64.length * 3 / 4 - placeHolders)

		// if there are placeholders, only get up to the last complete 4 chars
		l = placeHolders > 0 ? b64.length - 4 : b64.length

		var L = 0

		function push (v) {
			arr[L++] = v
		}

		for (i = 0, j = 0; i < l; i += 4, j += 3) {
			tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))
			push((tmp & 0xFF0000) >> 16)
			push((tmp & 0xFF00) >> 8)
			push(tmp & 0xFF)
		}

		if (placeHolders === 2) {
			tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)
			push(tmp & 0xFF)
		} else if (placeHolders === 1) {
			tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)
			push((tmp >> 8) & 0xFF)
			push(tmp & 0xFF)
		}

		return arr
	}

	function uint8ToBase64 (uint8) {
		var i,
			extraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes
			output = "",
			temp, length

		function encode (num) {
			return lookup.charAt(num)
		}

		function tripletToBase64 (num) {
			return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)
		}

		// go through the array every three bytes, we'll deal with trailing stuff later
		for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
			temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
			output += tripletToBase64(temp)
		}

		// pad the end with zeros, but make sure to not forget the extra bytes
		switch (extraBytes) {
			case 1:
				temp = uint8[uint8.length - 1]
				output += encode(temp >> 2)
				output += encode((temp << 4) & 0x3F)
				output += '=='
				break
			case 2:
				temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])
				output += encode(temp >> 10)
				output += encode((temp >> 4) & 0x3F)
				output += encode((temp << 2) & 0x3F)
				output += '='
				break
		}

		return output
	}

	exports.toByteArray = b64ToByteArray
	exports.fromByteArray = uint8ToBase64
}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))

},{}],7:[function(require,module,exports){
(function (global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

var base64 = require('base64-js')
var ieee754 = require('ieee754')
var isArray = require('is-array')

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50
Buffer.poolSize = 8192 // not used by this implementation

var rootParent = {}

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property
 *     on objects.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

function typedArraySupport () {
  function Bar () {}
  try {
    var arr = new Uint8Array(1)
    arr.foo = function () { return 42 }
    arr.constructor = Bar
    return arr.foo() === 42 && // typed array instances can be augmented
        arr.constructor === Bar && // constructor can be set
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

/**
 * Class: Buffer
 * =============
 *
 * The Buffer constructor returns instances of `Uint8Array` that are augmented
 * with function properties for all the node `Buffer` API functions. We use
 * `Uint8Array` so that square bracket notation works as expected -- it returns
 * a single octet.
 *
 * By augmenting the instances, we can avoid modifying the `Uint8Array`
 * prototype.
 */
function Buffer (arg) {
  if (!(this instanceof Buffer)) {
    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.
    if (arguments.length > 1) return new Buffer(arg, arguments[1])
    return new Buffer(arg)
  }

  this.length = 0
  this.parent = undefined

  // Common case.
  if (typeof arg === 'number') {
    return fromNumber(this, arg)
  }

  // Slightly less common case.
  if (typeof arg === 'string') {
    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')
  }

  // Unusual.
  return fromObject(this, arg)
}

function fromNumber (that, length) {
  that = allocate(that, length < 0 ? 0 : checked(length) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < length; i++) {
      that[i] = 0
    }
  }
  return that
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'

  // Assumption: byteLength() return value is always < kMaxLength.
  var length = byteLength(string, encoding) | 0
  that = allocate(that, length)

  that.write(string, encoding)
  return that
}

function fromObject (that, object) {
  if (Buffer.isBuffer(object)) return fromBuffer(that, object)

  if (isArray(object)) return fromArray(that, object)

  if (object == null) {
    throw new TypeError('must start with number, buffer, array or string')
  }

  if (typeof ArrayBuffer !== 'undefined') {
    if (object.buffer instanceof ArrayBuffer) {
      return fromTypedArray(that, object)
    }
    if (object instanceof ArrayBuffer) {
      return fromArrayBuffer(that, object)
    }
  }

  if (object.length) return fromArrayLike(that, object)

  return fromJsonObject(that, object)
}

function fromBuffer (that, buffer) {
  var length = checked(buffer.length) | 0
  that = allocate(that, length)
  buffer.copy(that, 0, 0, length)
  return that
}

function fromArray (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

// Duplicate of fromArray() to keep fromArray() monomorphic.
function fromTypedArray (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  // Truncating the elements is probably not what people expect from typed
  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior
  // of the old Buffer constructor.
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array) {
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    array.byteLength
    that = Buffer._augment(new Uint8Array(array))
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromTypedArray(that, new Uint8Array(array))
  }
  return that
}

function fromArrayLike (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.
// Returns a zero-length buffer for inputs that don't conform to the spec.
function fromJsonObject (that, object) {
  var array
  var length = 0

  if (object.type === 'Buffer' && isArray(object.data)) {
    array = object.data
    length = checked(array.length) | 0
  }
  that = allocate(that, length)

  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
}

function allocate (that, length) {
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = Buffer._augment(new Uint8Array(length))
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that.length = length
    that._isBuffer = true
  }

  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1
  if (fromPool) that.parent = rootParent

  return that
}

function checked (length) {
  // Note: cannot use `length < kMaxLength` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (subject, encoding) {
  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)

  var buf = new Buffer(subject, encoding)
  delete buf.parent
  return buf
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  var i = 0
  var len = Math.min(x, y)
  while (i < len) {
    if (a[i] !== b[i]) break

    ++i
  }

  if (i !== len) {
    x = a[i]
    y = b[i]
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'binary':
    case 'base64':
    case 'raw':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')

  if (list.length === 0) {
    return new Buffer(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; i++) {
      length += list[i].length
    }
  }

  var buf = new Buffer(length)
  var pos = 0
  for (i = 0; i < list.length; i++) {
    var item = list[i]
    item.copy(buf, pos)
    pos += item.length
  }
  return buf
}

function byteLength (string, encoding) {
  if (typeof string !== 'string') string = '' + string

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'binary':
      // Deprecated
      case 'raw':
      case 'raws':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

// pre-set for values that may exist in the future
//Buffer.prototype.length = undefined
//Buffer.prototype.parent = undefined

function slowToString (encoding, start, end) {
  var loweredCase = false

  start = start | 0
  end = end === undefined || end === Infinity ? this.length : end | 0

  if (!encoding) encoding = 'utf8'
  if (start < 0) start = 0
  if (end > this.length) end = this.length
  if (end <= start) return ''

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'binary':
        return binarySlice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return 0
  return Buffer.compare(this, b)
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset) {
  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff
  else if (byteOffset < -0x80000000) byteOffset = -0x80000000
  byteOffset >>= 0

  if (this.length === 0) return -1
  if (byteOffset >= this.length) return -1

  // Negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)

  if (typeof val === 'string') {
    if (val.length === 0) return -1 // special case: looking for empty string always fails
    return String.prototype.indexOf.call(this, val, byteOffset)
  }
  if (Buffer.isBuffer(val)) {
    return arrayIndexOf(this, val, byteOffset)
  }
  if (typeof val === 'number') {
    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {
      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)
    }
    return arrayIndexOf(this, [ val ], byteOffset)
  }

  function arrayIndexOf (arr, val, byteOffset) {
    var foundIndex = -1
    for (var i = 0; byteOffset + i < arr.length; i++) {
      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex
      } else {
        foundIndex = -1
      }
    }
    return -1
  }

  throw new TypeError('val must be string, number or Buffer')
}

// `get` is deprecated
Buffer.prototype.get = function get (offset) {
  console.log('.get() is deprecated. Access using array indexes instead.')
  return this.readUInt8(offset)
}

// `set` is deprecated
Buffer.prototype.set = function set (v, offset) {
  console.log('.set() is deprecated. Access using array indexes instead.')
  return this.writeUInt8(v, offset)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new Error('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; i++) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) throw new Error('Invalid hex string')
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function binaryWrite (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    var swap = encoding
    encoding = offset
    offset = length | 0
    length = swap
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'binary':
        return binaryWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function binarySlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; i++) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = Buffer._augment(this.subarray(start, end))
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; i++) {
      newBuf[i] = this[i + start]
    }
  }

  if (newBuf.length) newBuf.parent = this.parent || this

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('value is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = value < 0 ? 1 : 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = value < 0 ? 1 : 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (value > max || value < min) throw new RangeError('value is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('index out of range')
  if (offset < 0) throw new RangeError('index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; i--) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; i++) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    target._set(this.subarray(start, start + len), targetStart)
  }

  return len
}

// fill(value, start=0, end=buffer.length)
Buffer.prototype.fill = function fill (value, start, end) {
  if (!value) value = 0
  if (!start) start = 0
  if (!end) end = this.length

  if (end < start) throw new RangeError('end < start')

  // Fill 0 bytes; we're done
  if (end === start) return
  if (this.length === 0) return

  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')
  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')

  var i
  if (typeof value === 'number') {
    for (i = start; i < end; i++) {
      this[i] = value
    }
  } else {
    var bytes = utf8ToBytes(value.toString())
    var len = bytes.length
    for (i = start; i < end; i++) {
      this[i] = bytes[i % len]
    }
  }

  return this
}

/**
 * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.
 * Added in Node 0.12. Only available in browsers that support ArrayBuffer.
 */
Buffer.prototype.toArrayBuffer = function toArrayBuffer () {
  if (typeof Uint8Array !== 'undefined') {
    if (Buffer.TYPED_ARRAY_SUPPORT) {
      return (new Buffer(this)).buffer
    } else {
      var buf = new Uint8Array(this.length)
      for (var i = 0, len = buf.length; i < len; i += 1) {
        buf[i] = this[i]
      }
      return buf.buffer
    }
  } else {
    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')
  }
}

// HELPER FUNCTIONS
// ================

var BP = Buffer.prototype

/**
 * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods
 */
Buffer._augment = function _augment (arr) {
  arr.constructor = Buffer
  arr._isBuffer = true

  // save reference to original Uint8Array set method before overwriting
  arr._set = arr.set

  // deprecated
  arr.get = BP.get
  arr.set = BP.set

  arr.write = BP.write
  arr.toString = BP.toString
  arr.toLocaleString = BP.toString
  arr.toJSON = BP.toJSON
  arr.equals = BP.equals
  arr.compare = BP.compare
  arr.indexOf = BP.indexOf
  arr.copy = BP.copy
  arr.slice = BP.slice
  arr.readUIntLE = BP.readUIntLE
  arr.readUIntBE = BP.readUIntBE
  arr.readUInt8 = BP.readUInt8
  arr.readUInt16LE = BP.readUInt16LE
  arr.readUInt16BE = BP.readUInt16BE
  arr.readUInt32LE = BP.readUInt32LE
  arr.readUInt32BE = BP.readUInt32BE
  arr.readIntLE = BP.readIntLE
  arr.readIntBE = BP.readIntBE
  arr.readInt8 = BP.readInt8
  arr.readInt16LE = BP.readInt16LE
  arr.readInt16BE = BP.readInt16BE
  arr.readInt32LE = BP.readInt32LE
  arr.readInt32BE = BP.readInt32BE
  arr.readFloatLE = BP.readFloatLE
  arr.readFloatBE = BP.readFloatBE
  arr.readDoubleLE = BP.readDoubleLE
  arr.readDoubleBE = BP.readDoubleBE
  arr.writeUInt8 = BP.writeUInt8
  arr.writeUIntLE = BP.writeUIntLE
  arr.writeUIntBE = BP.writeUIntBE
  arr.writeUInt16LE = BP.writeUInt16LE
  arr.writeUInt16BE = BP.writeUInt16BE
  arr.writeUInt32LE = BP.writeUInt32LE
  arr.writeUInt32BE = BP.writeUInt32BE
  arr.writeIntLE = BP.writeIntLE
  arr.writeIntBE = BP.writeIntBE
  arr.writeInt8 = BP.writeInt8
  arr.writeInt16LE = BP.writeInt16LE
  arr.writeInt16BE = BP.writeInt16BE
  arr.writeInt32LE = BP.writeInt32LE
  arr.writeInt32BE = BP.writeInt32BE
  arr.writeFloatLE = BP.writeFloatLE
  arr.writeFloatBE = BP.writeFloatBE
  arr.writeDoubleLE = BP.writeDoubleLE
  arr.writeDoubleBE = BP.writeDoubleBE
  arr.fill = BP.fill
  arr.inspect = BP.inspect
  arr.toArrayBuffer = BP.toArrayBuffer

  return arr
}

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; i++) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; i++) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"base64-js":6,"ieee754":9,"is-array":11}],8:[function(require,module,exports){
/*global window:false, self:false, define:false, module:false */

/**
 * @license IDBWrapper - A cross-browser wrapper for IndexedDB
 * Version 1.6.1
 * Copyright (c) 2011 - 2015 Jens Arps
 * http://jensarps.de/
 *
 * Licensed under the MIT (X11) license
 */

(function (name, definition, global) {
  if (typeof define === 'function') {
    define(definition);
  } else if (typeof module !== 'undefined' && module.exports) {
    module.exports = definition();
  } else {
    global[name] = definition();
  }
})('IDBStore', function () {

  'use strict';

  var defaultErrorHandler = function (error) {
    throw error;
  };
  var defaultSuccessHandler = function () {};

  var defaults = {
    storeName: 'Store',
    storePrefix: 'IDBWrapper-',
    dbVersion: 1,
    keyPath: 'id',
    autoIncrement: true,
    onStoreReady: function () {
    },
    onError: defaultErrorHandler,
    indexes: [],
    implementationPreference: [
      'indexedDB',
      'webkitIndexedDB',
      'mozIndexedDB',
      'shimIndexedDB'
    ]
  };

  /**
   *
   * The IDBStore constructor
   *
   * @constructor
   * @name IDBStore
   * @version 1.6.1
   *
   * @param {Object} [kwArgs] An options object used to configure the store and
   *  set callbacks
   * @param {String} [kwArgs.storeName='Store'] The name of the store
   * @param {String} [kwArgs.storePrefix='IDBWrapper-'] A prefix that is
   *  internally used to construct the name of the database, which will be
   *  kwArgs.storePrefix + kwArgs.storeName
   * @param {Number} [kwArgs.dbVersion=1] The version of the store
   * @param {String} [kwArgs.keyPath='id'] The key path to use. If you want to
   *  setup IDBWrapper to work with out-of-line keys, you need to set this to
   *  `null`
   * @param {Boolean} [kwArgs.autoIncrement=true] If set to true, IDBStore will
   *  automatically make sure a unique keyPath value is present on each object
   *  that is stored.
   * @param {Function} [kwArgs.onStoreReady] A callback to be called when the
   *  store is ready to be used.
   * @param {Function} [kwArgs.onError=throw] A callback to be called when an
   *  error occurred during instantiation of the store.
   * @param {Array} [kwArgs.indexes=[]] An array of indexData objects
   *  defining the indexes to use with the store. For every index to be used
   *  one indexData object needs to be passed in the array.
   *  An indexData object is defined as follows:
   * @param {Object} [kwArgs.indexes.indexData] An object defining the index to
   *  use
   * @param {String} kwArgs.indexes.indexData.name The name of the index
   * @param {String} [kwArgs.indexes.indexData.keyPath] The key path of the index
   * @param {Boolean} [kwArgs.indexes.indexData.unique] Whether the index is unique
   * @param {Boolean} [kwArgs.indexes.indexData.multiEntry] Whether the index is multi entry
   * @param {Array} [kwArgs.implementationPreference=['indexedDB','webkitIndexedDB','mozIndexedDB','shimIndexedDB']] An array of strings naming implementations to be used, in order or preference
   * @param {Function} [onStoreReady] A callback to be called when the store
   * is ready to be used.
   * @example
      // create a store for customers with an additional index over the
      // `lastname` property.
      var myCustomerStore = new IDBStore({
        dbVersion: 1,
        storeName: 'customer-index',
        keyPath: 'customerid',
        autoIncrement: true,
        onStoreReady: populateTable,
        indexes: [
          { name: 'lastname', keyPath: 'lastname', unique: false, multiEntry: false }
        ]
      });
   * @example
      // create a generic store
      var myCustomerStore = new IDBStore({
        storeName: 'my-data-store',
        onStoreReady: function(){
          // start working with the store.
        }
      });
   */
  var IDBStore = function (kwArgs, onStoreReady) {

    if (typeof onStoreReady == 'undefined' && typeof kwArgs == 'function') {
      onStoreReady = kwArgs;
    }
    if (Object.prototype.toString.call(kwArgs) != '[object Object]') {
      kwArgs = {};
    }

    for (var key in defaults) {
      this[key] = typeof kwArgs[key] != 'undefined' ? kwArgs[key] : defaults[key];
    }

    this.dbName = this.storePrefix + this.storeName;
    this.dbVersion = parseInt(this.dbVersion, 10) || 1;

    onStoreReady && (this.onStoreReady = onStoreReady);

    var env = typeof window == 'object' ? window : self;
    var availableImplementations = this.implementationPreference.filter(function (implName) {
      return implName in env;
    });
    this.implementation = availableImplementations[0];
    this.idb = env[this.implementation];
    this.keyRange = env.IDBKeyRange || env.webkitIDBKeyRange || env.mozIDBKeyRange;

    this.consts = {
      'READ_ONLY':         'readonly',
      'READ_WRITE':        'readwrite',
      'VERSION_CHANGE':    'versionchange',
      'NEXT':              'next',
      'NEXT_NO_DUPLICATE': 'nextunique',
      'PREV':              'prev',
      'PREV_NO_DUPLICATE': 'prevunique'
    };

    this.openDB();
  };

  IDBStore.prototype = /** @lends IDBStore */ {

    /**
     * A pointer to the IDBStore ctor
     *
     * @private
     * @type {Function}
     */
    constructor: IDBStore,

    /**
     * The version of IDBStore
     *
     * @type {String}
     */
    version: '1.6.1',

    /**
     * A reference to the IndexedDB object
     *
     * @type {Object}
     */
    db: null,

    /**
     * The full name of the IndexedDB used by IDBStore, composed of
     * this.storePrefix + this.storeName
     *
     * @type {String}
     */
    dbName: null,

    /**
     * The version of the IndexedDB used by IDBStore
     *
     * @type {Number}
     */
    dbVersion: null,

    /**
     * A reference to the objectStore used by IDBStore
     *
     * @type {Object}
     */
    store: null,

    /**
     * The store name
     *
     * @type {String}
     */
    storeName: null,

    /**
     * The prefix to prepend to the store name
     *
     * @type {String}
     */
    storePrefix: null,

    /**
     * The key path
     *
     * @type {String}
     */
    keyPath: null,

    /**
     * Whether IDBStore uses autoIncrement
     *
     * @type {Boolean}
     */
    autoIncrement: null,

    /**
     * The indexes used by IDBStore
     *
     * @type {Array}
     */
    indexes: null,

    /**
     * The implemantations to try to use, in order of preference
     *
     * @type {Array}
     */
    implementationPreference: null,

    /**
     * The actual implementation being used
     *
     * @type {String}
     */
    implementation: '',

    /**
     * The callback to be called when the store is ready to be used
     *
     * @type {Function}
     */
    onStoreReady: null,

    /**
     * The callback to be called if an error occurred during instantiation
     * of the store
     *
     * @type {Function}
     */
    onError: null,

    /**
     * The internal insertID counter
     *
     * @type {Number}
     * @private
     */
    _insertIdCount: 0,

    /**
     * Opens an IndexedDB; called by the constructor.
     *
     * Will check if versions match and compare provided index configuration
     * with existing ones, and update indexes if necessary.
     *
     * Will call this.onStoreReady() if everything went well and the store
     * is ready to use, and this.onError() is something went wrong.
     *
     * @private
     *
     */
    openDB: function () {

      var openRequest = this.idb.open(this.dbName, this.dbVersion);
      var preventSuccessCallback = false;

      openRequest.onerror = function (error) {

        var gotVersionErr = false;
        if ('error' in error.target) {
          gotVersionErr = error.target.error.name == 'VersionError';
        } else if ('errorCode' in error.target) {
          gotVersionErr = error.target.errorCode == 12;
        }

        if (gotVersionErr) {
          this.onError(new Error('The version number provided is lower than the existing one.'));
        } else {
          this.onError(error);
        }
      }.bind(this);

      openRequest.onsuccess = function (event) {

        if (preventSuccessCallback) {
          return;
        }

        if(this.db){
          this.onStoreReady();
          return;
        }

        this.db = event.target.result;

        if(typeof this.db.version == 'string'){
          this.onError(new Error('The IndexedDB implementation in this browser is outdated. Please upgrade your browser.'));
          return;
        }

        if(!this.db.objectStoreNames.contains(this.storeName)){
          // We should never ever get here.
          // Lets notify the user anyway.
          this.onError(new Error('Object store couldn\'t be created.'));
          return;
        }

        var emptyTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);
        this.store = emptyTransaction.objectStore(this.storeName);

        // check indexes
        var existingIndexes = Array.prototype.slice.call(this.getIndexList());
        this.indexes.forEach(function(indexData){
          var indexName = indexData.name;

          if(!indexName){
            preventSuccessCallback = true;
            this.onError(new Error('Cannot create index: No index name given.'));
            return;
          }

          this.normalizeIndexData(indexData);

          if(this.hasIndex(indexName)){
            // check if it complies
            var actualIndex = this.store.index(indexName);
            var complies = this.indexComplies(actualIndex, indexData);
            if(!complies){
              preventSuccessCallback = true;
              this.onError(new Error('Cannot modify index "' + indexName + '" for current version. Please bump version number to ' + ( this.dbVersion + 1 ) + '.'));
            }

            existingIndexes.splice(existingIndexes.indexOf(indexName), 1);
          } else {
            preventSuccessCallback = true;
            this.onError(new Error('Cannot create new index "' + indexName + '" for current version. Please bump version number to ' + ( this.dbVersion + 1 ) + '.'));
          }

        }, this);

        if (existingIndexes.length) {
          preventSuccessCallback = true;
          this.onError(new Error('Cannot delete index(es) "' + existingIndexes.toString() + '" for current version. Please bump version number to ' + ( this.dbVersion + 1 ) + '.'));
        }

        preventSuccessCallback || this.onStoreReady();
      }.bind(this);

      openRequest.onupgradeneeded = function(/* IDBVersionChangeEvent */ event){

        this.db = event.target.result;

        if(this.db.objectStoreNames.contains(this.storeName)){
          this.store = event.target.transaction.objectStore(this.storeName);
        } else {
          var optionalParameters = { autoIncrement: this.autoIncrement };
          if (this.keyPath !== null) {
            optionalParameters.keyPath = this.keyPath;
          }
          this.store = this.db.createObjectStore(this.storeName, optionalParameters);
        }

        var existingIndexes = Array.prototype.slice.call(this.getIndexList());
        this.indexes.forEach(function(indexData){
          var indexName = indexData.name;

          if(!indexName){
            preventSuccessCallback = true;
            this.onError(new Error('Cannot create index: No index name given.'));
          }

          this.normalizeIndexData(indexData);

          if(this.hasIndex(indexName)){
            // check if it complies
            var actualIndex = this.store.index(indexName);
            var complies = this.indexComplies(actualIndex, indexData);
            if(!complies){
              // index differs, need to delete and re-create
              this.store.deleteIndex(indexName);
              this.store.createIndex(indexName, indexData.keyPath, { unique: indexData.unique, multiEntry: indexData.multiEntry });
            }

            existingIndexes.splice(existingIndexes.indexOf(indexName), 1);
          } else {
            this.store.createIndex(indexName, indexData.keyPath, { unique: indexData.unique, multiEntry: indexData.multiEntry });
          }

        }, this);

        if (existingIndexes.length) {
          existingIndexes.forEach(function(_indexName){
            this.store.deleteIndex(_indexName);
          }, this);
        }

      }.bind(this);
    },

    /**
     * Deletes the database used for this store if the IDB implementations
     * provides that functionality.
     *
     * @param {Function} [onSuccess] A callback that is called if deletion
     *  was successful.
     * @param {Function} [onError] A callback that is called if deletion
     *  failed.
     */
    deleteDatabase: function (onSuccess, onError) {
      if (this.idb.deleteDatabase) {
        this.db.close();
        var deleteRequest = this.idb.deleteDatabase(this.dbName);
        deleteRequest.onsuccess = onSuccess;
        deleteRequest.onerror = onError;
      } else {
        onError(new Error('Browser does not support IndexedDB deleteDatabase!'));
      }
    },

    /*********************
     * data manipulation *
     *********************/

    /**
     * Puts an object into the store. If an entry with the given id exists,
     * it will be overwritten. This method has a different signature for inline
     * keys and out-of-line keys; please see the examples below.
     *
     * @param {*} [key] The key to store. This is only needed if IDBWrapper
     *  is set to use out-of-line keys. For inline keys - the default scenario -
     *  this can be omitted.
     * @param {Object} value The data object to store.
     * @param {Function} [onSuccess] A callback that is called if insertion
     *  was successful.
     * @param {Function} [onError] A callback that is called if insertion
     *  failed.
     * @returns {IDBTransaction} The transaction used for this operation.
     * @example
        // Storing an object, using inline keys (the default scenario):
        var myCustomer = {
          customerid: 2346223,
          lastname: 'Doe',
          firstname: 'John'
        };
        myCustomerStore.put(myCustomer, mySuccessHandler, myErrorHandler);
        // Note that passing success- and error-handlers is optional.
     * @example
        // Storing an object, using out-of-line keys:
       var myCustomer = {
         lastname: 'Doe',
         firstname: 'John'
       };
       myCustomerStore.put(2346223, myCustomer, mySuccessHandler, myErrorHandler);
      // Note that passing success- and error-handlers is optional.
     */
    put: function (key, value, onSuccess, onError) {
      if (this.keyPath !== null) {
        onError = onSuccess;
        onSuccess = value;
        value = key;
      }
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);

      var hasSuccess = false,
          result = null,
          putRequest;

      var putTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);
      putTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      putTransaction.onabort = onError;
      putTransaction.onerror = onError;

      if (this.keyPath !== null) { // in-line keys
        this._addIdPropertyIfNeeded(value);
        putRequest = putTransaction.objectStore(this.storeName).put(value);
      } else { // out-of-line keys
        putRequest = putTransaction.objectStore(this.storeName).put(value, key);
      }
      putRequest.onsuccess = function (event) {
        hasSuccess = true;
        result = event.target.result;
      };
      putRequest.onerror = onError;

      return putTransaction;
    },

    /**
     * Retrieves an object from the store. If no entry exists with the given id,
     * the success handler will be called with null as first and only argument.
     *
     * @param {*} key The id of the object to fetch.
     * @param {Function} [onSuccess] A callback that is called if fetching
     *  was successful. Will receive the object as only argument.
     * @param {Function} [onError] A callback that will be called if an error
     *  occurred during the operation.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    get: function (key, onSuccess, onError) {
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);

      var hasSuccess = false,
          result = null;

      var getTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);
      getTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      getTransaction.onabort = onError;
      getTransaction.onerror = onError;
      var getRequest = getTransaction.objectStore(this.storeName).get(key);
      getRequest.onsuccess = function (event) {
        hasSuccess = true;
        result = event.target.result;
      };
      getRequest.onerror = onError;

      return getTransaction;
    },

    /**
     * Removes an object from the store.
     *
     * @param {*} key The id of the object to remove.
     * @param {Function} [onSuccess] A callback that is called if the removal
     *  was successful.
     * @param {Function} [onError] A callback that will be called if an error
     *  occurred during the operation.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    remove: function (key, onSuccess, onError) {
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);

      var hasSuccess = false,
          result = null;

      var removeTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);
      removeTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      removeTransaction.onabort = onError;
      removeTransaction.onerror = onError;

      var deleteRequest = removeTransaction.objectStore(this.storeName)['delete'](key);
      deleteRequest.onsuccess = function (event) {
        hasSuccess = true;
        result = event.target.result;
      };
      deleteRequest.onerror = onError;

      return removeTransaction;
    },

    /**
     * Runs a batch of put and/or remove operations on the store.
     *
     * @param {Array} dataArray An array of objects containing the operation to run
     *  and the data object (for put operations).
     * @param {Function} [onSuccess] A callback that is called if all operations
     *  were successful.
     * @param {Function} [onError] A callback that is called if an error
     *  occurred during one of the operations.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    batch: function (dataArray, onSuccess, onError) {
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);

      if(Object.prototype.toString.call(dataArray) != '[object Array]'){
        onError(new Error('dataArray argument must be of type Array.'));
      } else if (dataArray.length === 0) {
        return onSuccess(true);
      }
      var batchTransaction = this.db.transaction([this.storeName] , this.consts.READ_WRITE);
      batchTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(hasSuccess);
      };
      batchTransaction.onabort = onError;
      batchTransaction.onerror = onError;

      var count = dataArray.length;
      var called = false;
      var hasSuccess = false;

      var onItemSuccess = function () {
        count--;
        if (count === 0 && !called) {
          called = true;
          hasSuccess = true;
        }
      };

      dataArray.forEach(function (operation) {
        var type = operation.type;
        var key = operation.key;
        var value = operation.value;

        var onItemError = function (err) {
          batchTransaction.abort();
          if (!called) {
            called = true;
            onError(err, type, key);
          }
        };

        if (type == 'remove') {
          var deleteRequest = batchTransaction.objectStore(this.storeName)['delete'](key);
          deleteRequest.onsuccess = onItemSuccess;
          deleteRequest.onerror = onItemError;
        } else if (type == 'put') {
          var putRequest;
          if (this.keyPath !== null) { // in-line keys
            this._addIdPropertyIfNeeded(value);
            putRequest = batchTransaction.objectStore(this.storeName).put(value);
          } else { // out-of-line keys
            putRequest = batchTransaction.objectStore(this.storeName).put(value, key);
          }
          putRequest.onsuccess = onItemSuccess;
          putRequest.onerror = onItemError;
        }
      }, this);

      return batchTransaction;
    },

    /**
     * Takes an array of objects and stores them in a single transaction.
     *
     * @param {Array} dataArray An array of objects to store
     * @param {Function} [onSuccess] A callback that is called if all operations
     *  were successful.
     * @param {Function} [onError] A callback that is called if an error
     *  occurred during one of the operations.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    putBatch: function (dataArray, onSuccess, onError) {
      var batchData = dataArray.map(function(item){
        return { type: 'put', value: item };
      });

      return this.batch(batchData, onSuccess, onError);
    },

    /**
     * Like putBatch, takes an array of objects and stores them in a single
     * transaction, but allows processing of the result values.  Returns the
     * processed records containing the key for newly created records to the
     * onSuccess calllback instead of only returning true or false for success.
     * In addition, added the option for the caller to specify a key field that
     * should be set to the newly created key.
     *
     * @param {Array} dataArray An array of objects to store
     * @param {Object} [options] An object containing optional options
     * @param {String} [options.keyField=this.keyPath] Specifies a field in the record to update
     *  with the auto-incrementing key. Defaults to the store's keyPath.
     * @param {Function} [onSuccess] A callback that is called if all operations
     *  were successful.
     * @param {Function} [onError] A callback that is called if an error
     *  occurred during one of the operations.
     * @returns {IDBTransaction} The transaction used for this operation.
     *
     */
    upsertBatch: function (dataArray, options, onSuccess, onError) {
      // handle `dataArray, onSuccess, onError` signature
      if (typeof options == 'function') {
        onSuccess = options;
        onError = onSuccess;
        options = {};
      }

      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);
      options || (options = {});

      if (Object.prototype.toString.call(dataArray) != '[object Array]') {
        onError(new Error('dataArray argument must be of type Array.'));
      }
      var batchTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);
      batchTransaction.oncomplete = function () {
        if (hasSuccess) {
          onSuccess(dataArray);
        } else {
          onError(false);
        }
      };
      batchTransaction.onabort = onError;
      batchTransaction.onerror = onError;

      var keyField = options.keyField || this.keyPath;
      var count = dataArray.length;
      var called = false;
      var hasSuccess = false;
      var index = 0; // assume success callbacks are executed in order

      var onItemSuccess = function (event) {
        var record = dataArray[index++];
        record[keyField] = event.target.result;

        count--;
        if (count === 0 && !called) {
          called = true;
          hasSuccess = true;
        }
      };

      dataArray.forEach(function (record) {
        var key = record.key;

        var onItemError = function (err) {
          batchTransaction.abort();
          if (!called) {
            called = true;
            onError(err);
          }
        };

        var putRequest;
        if (this.keyPath !== null) { // in-line keys
          this._addIdPropertyIfNeeded(record);
          putRequest = batchTransaction.objectStore(this.storeName).put(record);
        } else { // out-of-line keys
          putRequest = batchTransaction.objectStore(this.storeName).put(record, key);
        }
        putRequest.onsuccess = onItemSuccess;
        putRequest.onerror = onItemError;
      }, this);

      return batchTransaction;
    },

    /**
     * Takes an array of keys and removes matching objects in a single
     * transaction.
     *
     * @param {Array} keyArray An array of keys to remove
     * @param {Function} [onSuccess] A callback that is called if all operations
     *  were successful.
     * @param {Function} [onError] A callback that is called if an error
     *  occurred during one of the operations.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    removeBatch: function (keyArray, onSuccess, onError) {
      var batchData = keyArray.map(function(key){
        return { type: 'remove', key: key };
      });

      return this.batch(batchData, onSuccess, onError);
    },

    /**
     * Takes an array of keys and fetches matching objects
     *
     * @param {Array} keyArray An array of keys identifying the objects to fetch
     * @param {Function} [onSuccess] A callback that is called if all operations
     *  were successful.
     * @param {Function} [onError] A callback that is called if an error
     *  occurred during one of the operations.
     * @param {String} [arrayType='sparse'] The type of array to pass to the
     *  success handler. May be one of 'sparse', 'dense' or 'skip'. Defaults to
     *  'sparse'. This parameter specifies how to handle the situation if a get
     *  operation did not throw an error, but there was no matching object in
     *  the database. In most cases, 'sparse' provides the most desired
     *  behavior. See the examples for details.
     * @returns {IDBTransaction} The transaction used for this operation.
     * @example
     // given that there are two objects in the database with the keypath
     // values 1 and 2, and the call looks like this:
     myStore.getBatch([1, 5, 2], onError, function (data) {  }, arrayType);

     // this is what the `data` array will be like:

     // arrayType == 'sparse':
     // data is a sparse array containing two entries and having a length of 3:
       [Object, 2: Object]
         0: Object
         2: Object
         length: 3
         __proto__: Array[0]
     // calling forEach on data will result in the callback being called two
     // times, with the index parameter matching the index of the key in the
     // keyArray.

     // arrayType == 'dense':
     // data is a dense array containing three entries and having a length of 3,
     // where data[1] is of type undefined:
       [Object, undefined, Object]
         0: Object
         1: undefined
         2: Object
         length: 3
         __proto__: Array[0]
     // calling forEach on data will result in the callback being called three
     // times, with the index parameter matching the index of the key in the
     // keyArray, but the second call will have undefined as first argument.

     // arrayType == 'skip':
     // data is a dense array containing two entries and having a length of 2:
       [Object, Object]
         0: Object
         1: Object
         length: 2
         __proto__: Array[0]
     // calling forEach on data will result in the callback being called two
     // times, with the index parameter not matching the index of the key in the
     // keyArray.
     */
    getBatch: function (keyArray, onSuccess, onError, arrayType) {
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);
      arrayType || (arrayType = 'sparse');

      if (Object.prototype.toString.call(keyArray) != '[object Array]'){
        onError(new Error('keyArray argument must be of type Array.'));
      } else if (keyArray.length === 0) {
        return onSuccess([]);
      }
      var batchTransaction = this.db.transaction([this.storeName] , this.consts.READ_ONLY);
      batchTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      batchTransaction.onabort = onError;
      batchTransaction.onerror = onError;

      var data = [];
      var count = keyArray.length;
      var called = false;
      var hasSuccess = false;
      var result = null;

      var onItemSuccess = function (event) {
        if (event.target.result || arrayType == 'dense') {
          data.push(event.target.result);
        } else if (arrayType == 'sparse') {
          data.length++;
        }
        count--;
        if (count === 0) {
          called = true;
          hasSuccess = true;
          result = data;
        }
      };

      keyArray.forEach(function (key) {

        var onItemError = function (err) {
          called = true;
          result = err;
          onError(err);
          batchTransaction.abort();
        };

        var getRequest = batchTransaction.objectStore(this.storeName).get(key);
        getRequest.onsuccess = onItemSuccess;
        getRequest.onerror = onItemError;

      }, this);

      return batchTransaction;
    },

    /**
     * Fetches all entries in the store.
     *
     * @param {Function} [onSuccess] A callback that is called if the operation
     *  was successful. Will receive an array of objects.
     * @param {Function} [onError] A callback that will be called if an error
     *  occurred during the operation.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    getAll: function (onSuccess, onError) {
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);
      var getAllTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);
      var store = getAllTransaction.objectStore(this.storeName);
      if (store.getAll) {
        this._getAllNative(getAllTransaction, store, onSuccess, onError);
      } else {
        this._getAllCursor(getAllTransaction, store, onSuccess, onError);
      }

      return getAllTransaction;
    },

    /**
     * Implements getAll for IDB implementations that have a non-standard
     * getAll() method.
     *
     * @param {Object} getAllTransaction An open READ transaction.
     * @param {Object} store A reference to the store.
     * @param {Function} onSuccess A callback that will be called if the
     *  operation was successful.
     * @param {Function} onError A callback that will be called if an
     *  error occurred during the operation.
     * @private
     */
    _getAllNative: function (getAllTransaction, store, onSuccess, onError) {
      var hasSuccess = false,
          result = null;

      getAllTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      getAllTransaction.onabort = onError;
      getAllTransaction.onerror = onError;

      var getAllRequest = store.getAll();
      getAllRequest.onsuccess = function (event) {
        hasSuccess = true;
        result = event.target.result;
      };
      getAllRequest.onerror = onError;
    },

    /**
     * Implements getAll for IDB implementations that do not have a getAll()
     * method.
     *
     * @param {Object} getAllTransaction An open READ transaction.
     * @param {Object} store A reference to the store.
     * @param {Function} onSuccess A callback that will be called if the
     *  operation was successful.
     * @param {Function} onError A callback that will be called if an
     *  error occurred during the operation.
     * @private
     */
    _getAllCursor: function (getAllTransaction, store, onSuccess, onError) {
      var all = [],
          hasSuccess = false,
          result = null;

      getAllTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      getAllTransaction.onabort = onError;
      getAllTransaction.onerror = onError;

      var cursorRequest = store.openCursor();
      cursorRequest.onsuccess = function (event) {
        var cursor = event.target.result;
        if (cursor) {
          all.push(cursor.value);
          cursor['continue']();
        }
        else {
          hasSuccess = true;
          result = all;
        }
      };
      cursorRequest.onError = onError;
    },

    /**
     * Clears the store, i.e. deletes all entries in the store.
     *
     * @param {Function} [onSuccess] A callback that will be called if the
     *  operation was successful.
     * @param {Function} [onError] A callback that will be called if an
     *  error occurred during the operation.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    clear: function (onSuccess, onError) {
      onError || (onError = defaultErrorHandler);
      onSuccess || (onSuccess = defaultSuccessHandler);

      var hasSuccess = false,
          result = null;

      var clearTransaction = this.db.transaction([this.storeName], this.consts.READ_WRITE);
      clearTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      clearTransaction.onabort = onError;
      clearTransaction.onerror = onError;

      var clearRequest = clearTransaction.objectStore(this.storeName).clear();
      clearRequest.onsuccess = function (event) {
        hasSuccess = true;
        result = event.target.result;
      };
      clearRequest.onerror = onError;

      return clearTransaction;
    },

    /**
     * Checks if an id property needs to present on a object and adds one if
     * necessary.
     *
     * @param {Object} dataObj The data object that is about to be stored
     * @private
     */
    _addIdPropertyIfNeeded: function (dataObj) {
      if (typeof dataObj[this.keyPath] == 'undefined') {
        dataObj[this.keyPath] = this._insertIdCount++ + Date.now();
      }
    },

    /************
     * indexing *
     ************/

    /**
     * Returns a DOMStringList of index names of the store.
     *
     * @return {DOMStringList} The list of index names
     */
    getIndexList: function () {
      return this.store.indexNames;
    },

    /**
     * Checks if an index with the given name exists in the store.
     *
     * @param {String} indexName The name of the index to look for
     * @return {Boolean} Whether the store contains an index with the given name
     */
    hasIndex: function (indexName) {
      return this.store.indexNames.contains(indexName);
    },

    /**
     * Normalizes an object containing index data and assures that all
     * properties are set.
     *
     * @param {Object} indexData The index data object to normalize
     * @param {String} indexData.name The name of the index
     * @param {String} [indexData.keyPath] The key path of the index
     * @param {Boolean} [indexData.unique] Whether the index is unique
     * @param {Boolean} [indexData.multiEntry] Whether the index is multi entry
     */
    normalizeIndexData: function (indexData) {
      indexData.keyPath = indexData.keyPath || indexData.name;
      indexData.unique = !!indexData.unique;
      indexData.multiEntry = !!indexData.multiEntry;
    },

    /**
     * Checks if an actual index complies with an expected index.
     *
     * @param {Object} actual The actual index found in the store
     * @param {Object} expected An Object describing an expected index
     * @return {Boolean} Whether both index definitions are identical
     */
    indexComplies: function (actual, expected) {
      var complies = ['keyPath', 'unique', 'multiEntry'].every(function (key) {
        // IE10 returns undefined for no multiEntry
        if (key == 'multiEntry' && actual[key] === undefined && expected[key] === false) {
          return true;
        }
        // Compound keys
        if (key == 'keyPath' && Object.prototype.toString.call(expected[key]) == '[object Array]') {
          var exp = expected.keyPath;
          var act = actual.keyPath;

          // IE10 can't handle keyPath sequences and stores them as a string.
          // The index will be unusable there, but let's still return true if
          // the keyPath sequence matches.
          if (typeof act == 'string') {
            return exp.toString() == act;
          }

          // Chrome/Opera stores keyPath squences as DOMStringList, Firefox
          // as Array
          if ( ! (typeof act.contains == 'function' || typeof act.indexOf == 'function') ) {
            return false;
          }

          if (act.length !== exp.length) {
            return false;
          }

          for (var i = 0, m = exp.length; i<m; i++) {
            if ( ! ( (act.contains && act.contains(exp[i])) || act.indexOf(exp[i] !== -1) )) {
              return false;
            }
          }
          return true;
        }
        return expected[key] == actual[key];
      });
      return complies;
    },

    /**********
     * cursor *
     **********/

    /**
     * Iterates over the store using the given options and calling onItem
     * for each entry matching the options.
     *
     * @param {Function} onItem A callback to be called for each match
     * @param {Object} [options] An object defining specific options
     * @param {Object} [options.index=null] An IDBIndex to operate on
     * @param {String} [options.order=ASC] The order in which to provide the
     *  results, can be 'DESC' or 'ASC'
     * @param {Boolean} [options.autoContinue=true] Whether to automatically
     *  iterate the cursor to the next result
     * @param {Boolean} [options.filterDuplicates=false] Whether to exclude
     *  duplicate matches
     * @param {Object} [options.keyRange=null] An IDBKeyRange to use
     * @param {Boolean} [options.writeAccess=false] Whether grant write access
     *  to the store in the onItem callback
     * @param {Function} [options.onEnd=null] A callback to be called after
     *  iteration has ended
     * @param {Function} [options.onError=throw] A callback to be called
     *  if an error occurred during the operation.
     * @param {Number} [options.limit=Infinity] Limit the number of returned
     *  results to this number
     * @param {Number} [options.offset=0] Skip the provided number of results
     *  in the resultset
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    iterate: function (onItem, options) {
      options = mixin({
        index: null,
        order: 'ASC',
        autoContinue: true,
        filterDuplicates: false,
        keyRange: null,
        writeAccess: false,
        onEnd: null,
        onError: defaultErrorHandler,
        limit: Infinity,
        offset: 0
      }, options || {});

      var directionType = options.order.toLowerCase() == 'desc' ? 'PREV' : 'NEXT';
      if (options.filterDuplicates) {
        directionType += '_NO_DUPLICATE';
      }

      var hasSuccess = false;
      var cursorTransaction = this.db.transaction([this.storeName], this.consts[options.writeAccess ? 'READ_WRITE' : 'READ_ONLY']);
      var cursorTarget = cursorTransaction.objectStore(this.storeName);
      if (options.index) {
        cursorTarget = cursorTarget.index(options.index);
      }
      var recordCount = 0;

      cursorTransaction.oncomplete = function () {
        if (!hasSuccess) {
          options.onError(null);
          return;
        }
        if (options.onEnd) {
          options.onEnd();
        } else {
          onItem(null);
        }
      };
      cursorTransaction.onabort = options.onError;
      cursorTransaction.onerror = options.onError;

      var cursorRequest = cursorTarget.openCursor(options.keyRange, this.consts[directionType]);
      cursorRequest.onerror = options.onError;
      cursorRequest.onsuccess = function (event) {
        var cursor = event.target.result;
        if (cursor) {
          if (options.offset) {
            cursor.advance(options.offset);
            options.offset = 0;
          } else {
            onItem(cursor.value, cursor, cursorTransaction);
            recordCount++;
            if (options.autoContinue) {
              if (recordCount + options.offset < options.limit) {
                cursor['continue']();
              } else {
                hasSuccess = true;
              }
            }
          }
        } else {
          hasSuccess = true;
        }
      };

      return cursorTransaction;
    },

    /**
     * Runs a query against the store and passes an array containing matched
     * objects to the success handler.
     *
     * @param {Function} onSuccess A callback to be called when the operation
     *  was successful.
     * @param {Object} [options] An object defining specific options
     * @param {Object} [options.index=null] An IDBIndex to operate on
     * @param {String} [options.order=ASC] The order in which to provide the
     *  results, can be 'DESC' or 'ASC'
     * @param {Boolean} [options.filterDuplicates=false] Whether to exclude
     *  duplicate matches
     * @param {Object} [options.keyRange=null] An IDBKeyRange to use
     * @param {Function} [options.onError=throw] A callback to be called
     *  if an error occurred during the operation.
     * @param {Number} [options.limit=Infinity] Limit the number of returned
     *  results to this number
     * @param {Number} [options.offset=0] Skip the provided number of results
     *  in the resultset
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    query: function (onSuccess, options) {
      var result = [];
      options = options || {};
      options.autoContinue = true;
      options.writeAccess = false;
      options.onEnd = function () {
        onSuccess(result);
      };
      return this.iterate(function (item) {
        result.push(item);
      }, options);
    },

    /**
     *
     * Runs a query against the store, but only returns the number of matches
     * instead of the matches itself.
     *
     * @param {Function} onSuccess A callback to be called if the opration
     *  was successful.
     * @param {Object} [options] An object defining specific options
     * @param {Object} [options.index=null] An IDBIndex to operate on
     * @param {Object} [options.keyRange=null] An IDBKeyRange to use
     * @param {Function} [options.onError=throw] A callback to be called if an error
     *  occurred during the operation.
     * @returns {IDBTransaction} The transaction used for this operation.
     */
    count: function (onSuccess, options) {

      options = mixin({
        index: null,
        keyRange: null
      }, options || {});

      var onError = options.onError || defaultErrorHandler;

      var hasSuccess = false,
          result = null;

      var cursorTransaction = this.db.transaction([this.storeName], this.consts.READ_ONLY);
      cursorTransaction.oncomplete = function () {
        var callback = hasSuccess ? onSuccess : onError;
        callback(result);
      };
      cursorTransaction.onabort = onError;
      cursorTransaction.onerror = onError;

      var cursorTarget = cursorTransaction.objectStore(this.storeName);
      if (options.index) {
        cursorTarget = cursorTarget.index(options.index);
      }
      var countRequest = cursorTarget.count(options.keyRange);
      countRequest.onsuccess = function (evt) {
        hasSuccess = true;
        result = evt.target.result;
      };
      countRequest.onError = onError;

      return cursorTransaction;
    },

    /**************/
    /* key ranges */
    /**************/

    /**
     * Creates a key range using specified options. This key range can be
     * handed over to the count() and iterate() methods.
     *
     * Note: You must provide at least one or both of "lower" or "upper" value.
     *
     * @param {Object} options The options for the key range to create
     * @param {*} [options.lower] The lower bound
     * @param {Boolean} [options.excludeLower] Whether to exclude the lower
     *  bound passed in options.lower from the key range
     * @param {*} [options.upper] The upper bound
     * @param {Boolean} [options.excludeUpper] Whether to exclude the upper
     *  bound passed in options.upper from the key range
     * @param {*} [options.only] A single key value. Use this if you need a key
     *  range that only includes one value for a key. Providing this
     *  property invalidates all other properties.
     * @return {Object} The IDBKeyRange representing the specified options
     */
    makeKeyRange: function(options){
      /*jshint onecase:true */
      var keyRange,
          hasLower = typeof options.lower != 'undefined',
          hasUpper = typeof options.upper != 'undefined',
          isOnly = typeof options.only != 'undefined';

      switch(true){
        case isOnly:
          keyRange = this.keyRange.only(options.only);
          break;
        case hasLower && hasUpper:
          keyRange = this.keyRange.bound(options.lower, options.upper, options.excludeLower, options.excludeUpper);
          break;
        case hasLower:
          keyRange = this.keyRange.lowerBound(options.lower, options.excludeLower);
          break;
        case hasUpper:
          keyRange = this.keyRange.upperBound(options.upper, options.excludeUpper);
          break;
        default:
          throw new Error('Cannot create KeyRange. Provide one or both of "lower" or "upper" value, or an "only" value.');
      }

      return keyRange;

    }

  };

  /** helpers **/
  var empty = {};
  var mixin = function (target, source) {
    var name, s;
    for (name in source) {
      s = source[name];
      if (s !== empty[name] && s !== target[name]) {
        target[name] = s;
      }
    }
    return target;
  };

  IDBStore.version = IDBStore.prototype.version;

  return IDBStore;

}, this);

},{}],9:[function(require,module,exports){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

},{}],10:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],11:[function(require,module,exports){

/**
 * isArray
 */

var isArray = Array.isArray;

/**
 * toString
 */

var str = Object.prototype.toString;

/**
 * Whether or not the given `val`
 * is an array.
 *
 * example:
 *
 *        isArray([]);
 *        // > true
 *        isArray(arguments);
 *        // > false
 *        isArray('');
 *        // > false
 *
 * @param {mixed} val
 * @return {bool}
 */

module.exports = isArray || function (val) {
  return !! val && '[object Array]' == str.call(val);
};

},{}],12:[function(require,module,exports){
/**
 * Determine if an object is Buffer
 *
 * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * License:  MIT
 *
 * `npm install is-buffer`
 */

module.exports = function (obj) {
  return !!(obj != null &&
    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)
      (obj.constructor &&
      typeof obj.constructor.isBuffer === 'function' &&
      obj.constructor.isBuffer(obj))
    ))
}

},{}],13:[function(require,module,exports){
var Buffer = require('buffer').Buffer;

module.exports = isBuffer;

function isBuffer (o) {
  return Buffer.isBuffer(o)
    || /\[object (.+Array|Array.+)\]/.test(Object.prototype.toString.call(o));
}

},{"buffer":7}],14:[function(require,module,exports){
(function (Buffer){
module.exports = Level

var IDB = require('idb-wrapper')
var AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN
var util = require('util')
var Iterator = require('./iterator')
var isBuffer = require('isbuffer')
var xtend = require('xtend')
var toBuffer = require('typedarray-to-buffer')

function Level(location) {
  if (!(this instanceof Level)) return new Level(location)
  if (!location) throw new Error("constructor requires at least a location argument")
  this.IDBOptions = {}
  this.location = location
}

util.inherits(Level, AbstractLevelDOWN)

Level.prototype._open = function(options, callback) {
  var self = this

  var idbOpts = {
    storeName: this.location,
    autoIncrement: false,
    keyPath: null,
    onStoreReady: function () {
      callback && callback(null, self.idb)
    },
    onError: function(err) {
      callback && callback(err)
    }
  }

  xtend(idbOpts, options)
  this.IDBOptions = idbOpts
  this.idb = new IDB(idbOpts)
}

Level.prototype._get = function (key, options, callback) {
  this.idb.get(key, function (value) {
    if (value === undefined) {
      // 'NotFound' error, consistent with LevelDOWN API
      return callback(new Error('NotFound'))
    }
    // by default return buffers, unless explicitly told not to
    var asBuffer = true
    if (options.asBuffer === false) asBuffer = false
    if (options.raw) asBuffer = false
    if (asBuffer) {
      if (value instanceof Uint8Array) value = toBuffer(value)
      else value = new Buffer(String(value))
    }
    return callback(null, value, key)
  }, callback)
}

Level.prototype._del = function(id, options, callback) {
  this.idb.remove(id, callback, callback)
}

Level.prototype._put = function (key, value, options, callback) {
  if (value instanceof ArrayBuffer) {
    value = toBuffer(new Uint8Array(value))
  }
  var obj = this.convertEncoding(key, value, options)
  if (Buffer.isBuffer(obj.value)) {
    obj.value = new Uint8Array(value.toArrayBuffer())
  }
  this.idb.put(obj.key, obj.value, function() { callback() }, callback)
}

Level.prototype.convertEncoding = function(key, value, options) {
  if (options.raw) return {key: key, value: value}
  if (value) {
    var stringed = value.toString()
    if (stringed === 'NaN') value = 'NaN'
  }
  var valEnc = options.valueEncoding
  var obj = {key: key, value: value}
  if (value && (!valEnc || valEnc !== 'binary')) {
    if (typeof obj.value !== 'object') {
      obj.value = stringed
    }
  }
  return obj
}

Level.prototype.iterator = function (options) {
  if (typeof options !== 'object') options = {}
  return new Iterator(this.idb, options)
}

Level.prototype._batch = function (array, options, callback) {
  var op
  var i
  var k
  var copiedOp
  var currentOp
  var modified = []

  if (array.length === 0) return setTimeout(callback, 0)

  for (i = 0; i < array.length; i++) {
    copiedOp = {}
    currentOp = array[i]
    modified[i] = copiedOp

    var converted = this.convertEncoding(currentOp.key, currentOp.value, options)
    currentOp.key = converted.key
    currentOp.value = converted.value

    for (k in currentOp) {
      if (k === 'type' && currentOp[k] == 'del') {
        copiedOp[k] = 'remove'
      } else {
        copiedOp[k] = currentOp[k]
      }
    }
  }

  return this.idb.batch(modified, function(){ callback() }, callback)
}

Level.prototype._close = function (callback) {
  this.idb.db.close()
  callback()
}

Level.prototype._approximateSize = function (start, end, callback) {
  var err = new Error('Not implemented')
  if (callback)
    return callback(err)

  throw err
}

Level.prototype._isBuffer = function (obj) {
  return Buffer.isBuffer(obj)
}

Level.destroy = function (db, callback) {
  if (typeof db === 'object') {
    var prefix = db.IDBOptions.storePrefix || 'IDBWrapper-'
    var dbname = db.location
  } else {
    var prefix = 'IDBWrapper-'
    var dbname = db
  }
  var request = indexedDB.deleteDatabase(prefix + dbname)
  request.onsuccess = function() {
    callback()
  }
  request.onerror = function(err) {
    callback(err)
  }
}

var checkKeyValue = Level.prototype._checkKeyValue = function (obj, type) {
  if (obj === null || obj === undefined)
    return new Error(type + ' cannot be `null` or `undefined`')
  if (obj === null || obj === undefined)
    return new Error(type + ' cannot be `null` or `undefined`')
  if (isBuffer(obj) && obj.byteLength === 0)
    return new Error(type + ' cannot be an empty ArrayBuffer')
  if (String(obj) === '')
    return new Error(type + ' cannot be an empty String')
  if (obj.length === 0)
    return new Error(type + ' cannot be an empty Array')
}

}).call(this,require("buffer").Buffer)
},{"./iterator":15,"abstract-leveldown":4,"buffer":7,"idb-wrapper":8,"isbuffer":13,"typedarray-to-buffer":24,"util":26,"xtend":21}],15:[function(require,module,exports){
var util = require('util')
var AbstractIterator  = require('abstract-leveldown').AbstractIterator
var ltgt = require('ltgt')

module.exports = Iterator

function Iterator (db, options) {
  if (!options) options = {}
  this.options = options
  AbstractIterator.call(this, db)
  this._order = options.reverse ? 'DESC': 'ASC'
  this._limit = options.limit
  this._count = 0
  this._done  = false
  var lower = ltgt.lowerBound(options)
  var upper = ltgt.upperBound(options)
  try {
    this._keyRange = lower || upper ? this.db.makeKeyRange({
      lower: lower,
      upper: upper,
      excludeLower: ltgt.lowerBoundExclusive(options),
      excludeUpper: ltgt.upperBoundExclusive(options)
    }) : null
  } catch (e) {
    // The lower key is greater than the upper key.
    // IndexedDB throws an error, but we'll just return 0 results.
    this._keyRangeError = true
  }
  this.callback = null
}

util.inherits(Iterator, AbstractIterator)

Iterator.prototype.createIterator = function() {
  var self = this

  self.iterator = self.db.iterate(function () {
    self.onItem.apply(self, arguments)
  }, {
    keyRange: self._keyRange,
    autoContinue: false,
    order: self._order,
    onError: function(err) { console.log('horrible error', err) },
  })
}

// TODO the limit implementation here just ignores all reads after limit has been reached
// it should cancel the iterator instead but I don't know how
Iterator.prototype.onItem = function (value, cursor, cursorTransaction) {
  if (!cursor && this.callback) {
    this.callback()
    this.callback = false
    return
  }
  var shouldCall = true

  if (!!this._limit && this._limit > 0 && this._count++ >= this._limit)
    shouldCall = false

  if (shouldCall) this.callback(false, cursor.key, cursor.value)
  if (cursor) cursor['continue']()
}

Iterator.prototype._next = function (callback) {
  if (!callback) return new Error('next() requires a callback argument')
  if (this._keyRangeError) return callback()
  if (!this._started) {
    this.createIterator()
    this._started = true
  }
  this.callback = callback
}

},{"abstract-leveldown":4,"ltgt":22,"util":26}],16:[function(require,module,exports){
var hasOwn = Object.prototype.hasOwnProperty;
var toString = Object.prototype.toString;

var isFunction = function (fn) {
	var isFunc = (typeof fn === 'function' && !(fn instanceof RegExp)) || toString.call(fn) === '[object Function]';
	if (!isFunc && typeof window !== 'undefined') {
		isFunc = fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt;
	}
	return isFunc;
};

module.exports = function forEach(obj, fn) {
	if (!isFunction(fn)) {
		throw new TypeError('iterator must be a function');
	}
	var i, k,
		isString = typeof obj === 'string',
		l = obj.length,
		context = arguments.length > 2 ? arguments[2] : null;
	if (l === +l) {
		for (i = 0; i < l; i++) {
			if (context === null) {
				fn(isString ? obj.charAt(i) : obj[i], i, obj);
			} else {
				fn.call(context, isString ? obj.charAt(i) : obj[i], i, obj);
			}
		}
	} else {
		for (k in obj) {
			if (hasOwn.call(obj, k)) {
				if (context === null) {
					fn(obj[k], k, obj);
				} else {
					fn.call(context, obj[k], k, obj);
				}
			}
		}
	}
};


},{}],17:[function(require,module,exports){
module.exports = Object.keys || require('./shim');


},{"./shim":19}],18:[function(require,module,exports){
var toString = Object.prototype.toString;

module.exports = function isArguments(value) {
	var str = toString.call(value);
	var isArguments = str === '[object Arguments]';
	if (!isArguments) {
		isArguments = str !== '[object Array]'
			&& value !== null
			&& typeof value === 'object'
			&& typeof value.length === 'number'
			&& value.length >= 0
			&& toString.call(value.callee) === '[object Function]';
	}
	return isArguments;
};


},{}],19:[function(require,module,exports){
(function () {
	"use strict";

	// modified from https://github.com/kriskowal/es5-shim
	var has = Object.prototype.hasOwnProperty,
		toString = Object.prototype.toString,
		forEach = require('./foreach'),
		isArgs = require('./isArguments'),
		hasDontEnumBug = !({'toString': null}).propertyIsEnumerable('toString'),
		hasProtoEnumBug = (function () {}).propertyIsEnumerable('prototype'),
		dontEnums = [
			"toString",
			"toLocaleString",
			"valueOf",
			"hasOwnProperty",
			"isPrototypeOf",
			"propertyIsEnumerable",
			"constructor"
		],
		keysShim;

	keysShim = function keys(object) {
		var isObject = object !== null && typeof object === 'object',
			isFunction = toString.call(object) === '[object Function]',
			isArguments = isArgs(object),
			theKeys = [];

		if (!isObject && !isFunction && !isArguments) {
			throw new TypeError("Object.keys called on a non-object");
		}

		if (isArguments) {
			forEach(object, function (value) {
				theKeys.push(value);
			});
		} else {
			var name,
				skipProto = hasProtoEnumBug && isFunction;

			for (name in object) {
				if (!(skipProto && name === 'prototype') && has.call(object, name)) {
					theKeys.push(name);
				}
			}
		}

		if (hasDontEnumBug) {
			var ctor = object.constructor,
				skipConstructor = ctor && ctor.prototype === object;

			forEach(dontEnums, function (dontEnum) {
				if (!(skipConstructor && dontEnum === 'constructor') && has.call(object, dontEnum)) {
					theKeys.push(dontEnum);
				}
			});
		}
		return theKeys;
	};

	module.exports = keysShim;
}());


},{"./foreach":16,"./isArguments":18}],20:[function(require,module,exports){
module.exports = hasKeys

function hasKeys(source) {
    return source !== null &&
        (typeof source === "object" ||
        typeof source === "function")
}

},{}],21:[function(require,module,exports){
var Keys = require("object-keys")
var hasKeys = require("./has-keys")

module.exports = extend

function extend() {
    var target = {}

    for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i]

        if (!hasKeys(source)) {
            continue
        }

        var keys = Keys(source)

        for (var j = 0; j < keys.length; j++) {
            var name = keys[j]
            target[name] = source[name]
        }
    }

    return target
}

},{"./has-keys":20,"object-keys":17}],22:[function(require,module,exports){
(function (Buffer){

exports.compare = function (a, b) {

  if(Buffer.isBuffer(a)) {
    var l = Math.min(a.length, b.length)
    for(var i = 0; i < l; i++) {
      var cmp = a[i] - b[i]
      if(cmp) return cmp
    }
    return a.length - b.length
  }

  return a < b ? -1 : a > b ? 1 : 0
}

function has(obj, key) {
  return Object.hasOwnProperty.call(obj, key)
}

// to be compatible with the current abstract-leveldown tests
// nullish or empty strings.
// I could use !!val but I want to permit numbers and booleans,
// if possible.

function isDef (val) {
  return val !== undefined && val !== ''
}

function has (range, name) {
  return Object.hasOwnProperty.call(range, name)
}

function hasKey(range, name) {
  return Object.hasOwnProperty.call(range, name) && name
}

var lowerBoundKey = exports.lowerBoundKey = function (range) {
    return (
       hasKey(range, 'gt')
    || hasKey(range, 'gte')
    || hasKey(range, 'min')
    || (range.reverse ? hasKey(range, 'end') : hasKey(range, 'start'))
    || undefined
    )
}

var lowerBound = exports.lowerBound = function (range) {
  var k = lowerBoundKey(range)
  return k && range[k]
}

exports.lowerBoundInclusive = function (range) {
  return has(range, 'gt') ? false : true
}

exports.upperBoundInclusive =
  function (range) {
    return has(range, 'lt') || !range.minEx ? false : true
  }

var lowerBoundExclusive = exports.lowerBoundExclusive =
  function (range) {
    return has(range, 'gt') || range.minEx ? true : false
  }

var upperBoundExclusive = exports.upperBoundExclusive =
  function (range) {
    return has(range, 'lt') ? true : false
  }

var upperBoundKey = exports.upperBoundKey = function (range) {
    return (
       hasKey(range, 'lt')
    || hasKey(range, 'lte')
    || hasKey(range, 'max')
    || (range.reverse ? hasKey(range, 'start') : hasKey(range, 'end'))
    || undefined
    )
}

var upperBound = exports.upperBound = function (range) {
  var k = upperBoundKey(range)
  return k && range[k]
}

function id (e) { return e }

exports.toLtgt = function (range, _range, map, lower, upper) {
  _range = _range || {}
  map = map || id
  var defaults = arguments.length > 3
  var lb = exports.lowerBoundKey(range)
  var ub = exports.upperBoundKey(range)
  if(lb) {
    if(lb === 'gt') _range.gt = map(range.gt, false)
    else            _range.gte = map(range[lb], false)
  }
  else if(defaults)
    _range.gte = map(lower, false)

  if(ub) {
    if(ub === 'lt') _range.lt = map(range.lt, true)
    else            _range.lte = map(range[ub], true)
  }
  else if(defaults)
    _range.lte = map(upper, true)

  if(range.reverse != null)
    _range.reverse = !!range.reverse

  //if range was used mutably
  //(in level-sublevel it's part of an options object
  //that has more properties on it.)
  if(has(_range, 'max'))   delete _range.max
  if(has(_range, 'min'))   delete _range.min
  if(has(_range, 'start')) delete _range.start
  if(has(_range, 'end'))   delete _range.end

  return _range
}

exports.contains = function (range, key, compare) {
  compare = compare || exports.compare

  var lb = lowerBound(range)
  if(isDef(lb)) {
    var cmp = compare(key, lb)
    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))
      return false
  }

  var ub = upperBound(range)
  if(isDef(ub)) {
    var cmp = compare(key, ub)
    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))
      return false
  }

  return true
}

exports.filter = function (range, compare) {
  return function (key) {
    return exports.contains(range, key, compare)
  }
}

}).call(this,{"isBuffer":require("../is-buffer/index.js")})
},{"../is-buffer/index.js":12}],23:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],24:[function(require,module,exports){
(function (Buffer){
/**
 * Convert a typed array to a Buffer without a copy
 *
 * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * License:  MIT
 *
 * `npm install typedarray-to-buffer`
 */

module.exports = function (arr) {
  if (typeof Buffer._augment === 'function' && Buffer.TYPED_ARRAY_SUPPORT) {
    // If `Buffer` is from the `buffer` module and this browser supports typed arrays,
    // then augment it with all the `Buffer` methods.
    return Buffer._augment(arr)
  } else {
    // Otherwise, fallback to creating a `Buffer` with a copy.
    return new Buffer(arr)
  }
}

}).call(this,require("buffer").Buffer)
},{"buffer":7}],25:[function(require,module,exports){
module.exports = function isBuffer(arg) {
  return arg && typeof arg === 'object'
    && typeof arg.copy === 'function'
    && typeof arg.fill === 'function'
    && typeof arg.readUInt8 === 'function';
}
},{}],26:[function(require,module,exports){
(function (process,global){
// Copyright Joyent, Inc. and other Node contributors.
//
// Permission is hereby granted, free of charge, to any person obtaining a
// copy of this software and associated documentation files (the
// "Software"), to deal in the Software without restriction, including
// without limitation the rights to use, copy, modify, merge, publish,
// distribute, sublicense, and/or sell copies of the Software, and to permit
// persons to whom the Software is furnished to do so, subject to the
// following conditions:
//
// The above copyright notice and this permission notice shall be included
// in all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
// USE OR OTHER DEALINGS IN THE SOFTWARE.

var formatRegExp = /%[sdj%]/g;
exports.format = function(f) {
  if (!isString(f)) {
    var objects = [];
    for (var i = 0; i < arguments.length; i++) {
      objects.push(inspect(arguments[i]));
    }
    return objects.join(' ');
  }

  var i = 1;
  var args = arguments;
  var len = args.length;
  var str = String(f).replace(formatRegExp, function(x) {
    if (x === '%%') return '%';
    if (i >= len) return x;
    switch (x) {
      case '%s': return String(args[i++]);
      case '%d': return Number(args[i++]);
      case '%j':
        try {
          return JSON.stringify(args[i++]);
        } catch (_) {
          return '[Circular]';
        }
      default:
        return x;
    }
  });
  for (var x = args[i]; i < len; x = args[++i]) {
    if (isNull(x) || !isObject(x)) {
      str += ' ' + x;
    } else {
      str += ' ' + inspect(x);
    }
  }
  return str;
};


// Mark that a method should not be used.
// Returns a modified function which warns once by default.
// If --no-deprecation is set, then it is a no-op.
exports.deprecate = function(fn, msg) {
  // Allow for deprecating things in the process of starting up.
  if (isUndefined(global.process)) {
    return function() {
      return exports.deprecate(fn, msg).apply(this, arguments);
    };
  }

  if (process.noDeprecation === true) {
    return fn;
  }

  var warned = false;
  function deprecated() {
    if (!warned) {
      if (process.throwDeprecation) {
        throw new Error(msg);
      } else if (process.traceDeprecation) {
        console.trace(msg);
      } else {
        console.error(msg);
      }
      warned = true;
    }
    return fn.apply(this, arguments);
  }

  return deprecated;
};


var debugs = {};
var debugEnviron;
exports.debuglog = function(set) {
  if (isUndefined(debugEnviron))
    debugEnviron = process.env.NODE_DEBUG || '';
  set = set.toUpperCase();
  if (!debugs[set]) {
    if (new RegExp('\\b' + set + '\\b', 'i').test(debugEnviron)) {
      var pid = process.pid;
      debugs[set] = function() {
        var msg = exports.format.apply(exports, arguments);
        console.error('%s %d: %s', set, pid, msg);
      };
    } else {
      debugs[set] = function() {};
    }
  }
  return debugs[set];
};


/**
 * Echos the value of a value. Trys to print the value out
 * in the best way possible given the different types.
 *
 * @param {Object} obj The object to print out.
 * @param {Object} opts Optional options object that alters the output.
 */
/* legacy: obj, showHidden, depth, colors*/
function inspect(obj, opts) {
  // default options
  var ctx = {
    seen: [],
    stylize: stylizeNoColor
  };
  // legacy...
  if (arguments.length >= 3) ctx.depth = arguments[2];
  if (arguments.length >= 4) ctx.colors = arguments[3];
  if (isBoolean(opts)) {
    // legacy...
    ctx.showHidden = opts;
  } else if (opts) {
    // got an "options" object
    exports._extend(ctx, opts);
  }
  // set default options
  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;
  if (isUndefined(ctx.depth)) ctx.depth = 2;
  if (isUndefined(ctx.colors)) ctx.colors = false;
  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;
  if (ctx.colors) ctx.stylize = stylizeWithColor;
  return formatValue(ctx, obj, ctx.depth);
}
exports.inspect = inspect;


// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
inspect.colors = {
  'bold' : [1, 22],
  'italic' : [3, 23],
  'underline' : [4, 24],
  'inverse' : [7, 27],
  'white' : [37, 39],
  'grey' : [90, 39],
  'black' : [30, 39],
  'blue' : [34, 39],
  'cyan' : [36, 39],
  'green' : [32, 39],
  'magenta' : [35, 39],
  'red' : [31, 39],
  'yellow' : [33, 39]
};

// Don't use 'blue' not visible on cmd.exe
inspect.styles = {
  'special': 'cyan',
  'number': 'yellow',
  'boolean': 'yellow',
  'undefined': 'grey',
  'null': 'bold',
  'string': 'green',
  'date': 'magenta',
  // "name": intentionally not styling
  'regexp': 'red'
};


function stylizeWithColor(str, styleType) {
  var style = inspect.styles[styleType];

  if (style) {
    return '\u001b[' + inspect.colors[style][0] + 'm' + str +
           '\u001b[' + inspect.colors[style][1] + 'm';
  } else {
    return str;
  }
}


function stylizeNoColor(str, styleType) {
  return str;
}


function arrayToHash(array) {
  var hash = {};

  array.forEach(function(val, idx) {
    hash[val] = true;
  });

  return hash;
}


function formatValue(ctx, value, recurseTimes) {
  // Provide a hook for user-specified inspect functions.
  // Check that value is an object with an inspect function on it
  if (ctx.customInspect &&
      value &&
      isFunction(value.inspect) &&
      // Filter out the util module, it's inspect function is special
      value.inspect !== exports.inspect &&
      // Also filter out any prototype objects using the circular check.
      !(value.constructor && value.constructor.prototype === value)) {
    var ret = value.inspect(recurseTimes, ctx);
    if (!isString(ret)) {
      ret = formatValue(ctx, ret, recurseTimes);
    }
    return ret;
  }

  // Primitive types cannot have properties
  var primitive = formatPrimitive(ctx, value);
  if (primitive) {
    return primitive;
  }

  // Look up the keys of the object.
  var keys = Object.keys(value);
  var visibleKeys = arrayToHash(keys);

  if (ctx.showHidden) {
    keys = Object.getOwnPropertyNames(value);
  }

  // IE doesn't make error fields non-enumerable
  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx
  if (isError(value)
      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {
    return formatError(value);
  }

  // Some type of object without properties can be shortcutted.
  if (keys.length === 0) {
    if (isFunction(value)) {
      var name = value.name ? ': ' + value.name : '';
      return ctx.stylize('[Function' + name + ']', 'special');
    }
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    }
    if (isDate(value)) {
      return ctx.stylize(Date.prototype.toString.call(value), 'date');
    }
    if (isError(value)) {
      return formatError(value);
    }
  }

  var base = '', array = false, braces = ['{', '}'];

  // Make Array say that they are Array
  if (isArray(value)) {
    array = true;
    braces = ['[', ']'];
  }

  // Make functions say that they are functions
  if (isFunction(value)) {
    var n = value.name ? ': ' + value.name : '';
    base = ' [Function' + n + ']';
  }

  // Make RegExps say that they are RegExps
  if (isRegExp(value)) {
    base = ' ' + RegExp.prototype.toString.call(value);
  }

  // Make dates with properties first say the date
  if (isDate(value)) {
    base = ' ' + Date.prototype.toUTCString.call(value);
  }

  // Make error with message first say the error
  if (isError(value)) {
    base = ' ' + formatError(value);
  }

  if (keys.length === 0 && (!array || value.length == 0)) {
    return braces[0] + base + braces[1];
  }

  if (recurseTimes < 0) {
    if (isRegExp(value)) {
      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
    } else {
      return ctx.stylize('[Object]', 'special');
    }
  }

  ctx.seen.push(value);

  var output;
  if (array) {
    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);
  } else {
    output = keys.map(function(key) {
      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);
    });
  }

  ctx.seen.pop();

  return reduceToSingleString(output, base, braces);
}


function formatPrimitive(ctx, value) {
  if (isUndefined(value))
    return ctx.stylize('undefined', 'undefined');
  if (isString(value)) {
    var simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '')
                                             .replace(/'/g, "\\'")
                                             .replace(/\\"/g, '"') + '\'';
    return ctx.stylize(simple, 'string');
  }
  if (isNumber(value))
    return ctx.stylize('' + value, 'number');
  if (isBoolean(value))
    return ctx.stylize('' + value, 'boolean');
  // For some reason typeof null is "object", so special case here.
  if (isNull(value))
    return ctx.stylize('null', 'null');
}


function formatError(value) {
  return '[' + Error.prototype.toString.call(value) + ']';
}


function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {
  var output = [];
  for (var i = 0, l = value.length; i < l; ++i) {
    if (hasOwnProperty(value, String(i))) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          String(i), true));
    } else {
      output.push('');
    }
  }
  keys.forEach(function(key) {
    if (!key.match(/^\d+$/)) {
      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,
          key, true));
    }
  });
  return output;
}


function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {
  var name, str, desc;
  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
  if (desc.get) {
    if (desc.set) {
      str = ctx.stylize('[Getter/Setter]', 'special');
    } else {
      str = ctx.stylize('[Getter]', 'special');
    }
  } else {
    if (desc.set) {
      str = ctx.stylize('[Setter]', 'special');
    }
  }
  if (!hasOwnProperty(visibleKeys, key)) {
    name = '[' + key + ']';
  }
  if (!str) {
    if (ctx.seen.indexOf(desc.value) < 0) {
      if (isNull(recurseTimes)) {
        str = formatValue(ctx, desc.value, null);
      } else {
        str = formatValue(ctx, desc.value, recurseTimes - 1);
      }
      if (str.indexOf('\n') > -1) {
        if (array) {
          str = str.split('\n').map(function(line) {
            return '  ' + line;
          }).join('\n').substr(2);
        } else {
          str = '\n' + str.split('\n').map(function(line) {
            return '   ' + line;
          }).join('\n');
        }
      }
    } else {
      str = ctx.stylize('[Circular]', 'special');
    }
  }
  if (isUndefined(name)) {
    if (array && key.match(/^\d+$/)) {
      return str;
    }
    name = JSON.stringify('' + key);
    if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
      name = name.substr(1, name.length - 2);
      name = ctx.stylize(name, 'name');
    } else {
      name = name.replace(/'/g, "\\'")
                 .replace(/\\"/g, '"')
                 .replace(/(^"|"$)/g, "'");
      name = ctx.stylize(name, 'string');
    }
  }

  return name + ': ' + str;
}


function reduceToSingleString(output, base, braces) {
  var numLinesEst = 0;
  var length = output.reduce(function(prev, cur) {
    numLinesEst++;
    if (cur.indexOf('\n') >= 0) numLinesEst++;
    return prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1;
  }, 0);

  if (length > 60) {
    return braces[0] +
           (base === '' ? '' : base + '\n ') +
           ' ' +
           output.join(',\n  ') +
           ' ' +
           braces[1];
  }

  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
}


// NOTE: These type checking functions intentionally don't use `instanceof`
// because it is fragile and can be easily faked with `Object.create()`.
function isArray(ar) {
  return Array.isArray(ar);
}
exports.isArray = isArray;

function isBoolean(arg) {
  return typeof arg === 'boolean';
}
exports.isBoolean = isBoolean;

function isNull(arg) {
  return arg === null;
}
exports.isNull = isNull;

function isNullOrUndefined(arg) {
  return arg == null;
}
exports.isNullOrUndefined = isNullOrUndefined;

function isNumber(arg) {
  return typeof arg === 'number';
}
exports.isNumber = isNumber;

function isString(arg) {
  return typeof arg === 'string';
}
exports.isString = isString;

function isSymbol(arg) {
  return typeof arg === 'symbol';
}
exports.isSymbol = isSymbol;

function isUndefined(arg) {
  return arg === void 0;
}
exports.isUndefined = isUndefined;

function isRegExp(re) {
  return isObject(re) && objectToString(re) === '[object RegExp]';
}
exports.isRegExp = isRegExp;

function isObject(arg) {
  return typeof arg === 'object' && arg !== null;
}
exports.isObject = isObject;

function isDate(d) {
  return isObject(d) && objectToString(d) === '[object Date]';
}
exports.isDate = isDate;

function isError(e) {
  return isObject(e) &&
      (objectToString(e) === '[object Error]' || e instanceof Error);
}
exports.isError = isError;

function isFunction(arg) {
  return typeof arg === 'function';
}
exports.isFunction = isFunction;

function isPrimitive(arg) {
  return arg === null ||
         typeof arg === 'boolean' ||
         typeof arg === 'number' ||
         typeof arg === 'string' ||
         typeof arg === 'symbol' ||  // ES6 symbol
         typeof arg === 'undefined';
}
exports.isPrimitive = isPrimitive;

exports.isBuffer = require('./support/isBuffer');

function objectToString(o) {
  return Object.prototype.toString.call(o);
}


function pad(n) {
  return n < 10 ? '0' + n.toString(10) : n.toString(10);
}


var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',
              'Oct', 'Nov', 'Dec'];

// 26 Feb 16:19:34
function timestamp() {
  var d = new Date();
  var time = [pad(d.getHours()),
              pad(d.getMinutes()),
              pad(d.getSeconds())].join(':');
  return [d.getDate(), months[d.getMonth()], time].join(' ');
}


// log is just a thin wrapper to console.log that prepends a timestamp
exports.log = function() {
  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));
};


/**
 * Inherit the prototype methods from one constructor into another.
 *
 * The Function.prototype.inherits from lang.js rewritten as a standalone
 * function (not on Function.prototype). NOTE: If this file is to be loaded
 * during bootstrapping this function needs to be rewritten using some native
 * functions as prototype setup using normal JavaScript does not work as
 * expected during bootstrapping (see mirror.js in r114903).
 *
 * @param {function} ctor Constructor function which needs to inherit the
 *     prototype.
 * @param {function} superCtor Constructor function to inherit prototype from.
 */
exports.inherits = require('inherits');

exports._extend = function(origin, add) {
  // Don't do anything if add isn't an object
  if (!add || !isObject(add)) return origin;

  var keys = Object.keys(add);
  var i = keys.length;
  while (i--) {
    origin[keys[i]] = add[keys[i]];
  }
  return origin;
};

function hasOwnProperty(obj, prop) {
  return Object.prototype.hasOwnProperty.call(obj, prop);
}

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./support/isBuffer":25,"_process":23,"inherits":10}]},{},[1]);

(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
window.Memdown = require( '../node_modules/memdown/memdown.js' );

},{"../node_modules/memdown/memdown.js":9}],2:[function(require,module,exports){
var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

;(function (exports) {
	'use strict';

  var Arr = (typeof Uint8Array !== 'undefined')
    ? Uint8Array
    : Array

	var PLUS   = '+'.charCodeAt(0)
	var SLASH  = '/'.charCodeAt(0)
	var NUMBER = '0'.charCodeAt(0)
	var LOWER  = 'a'.charCodeAt(0)
	var UPPER  = 'A'.charCodeAt(0)
	var PLUS_URL_SAFE = '-'.charCodeAt(0)
	var SLASH_URL_SAFE = '_'.charCodeAt(0)

	function decode (elt) {
		var code = elt.charCodeAt(0)
		if (code === PLUS ||
		    code === PLUS_URL_SAFE)
			return 62 // '+'
		if (code === SLASH ||
		    code === SLASH_URL_SAFE)
			return 63 // '/'
		if (code < NUMBER)
			return -1 //no match
		if (code < NUMBER + 10)
			return code - NUMBER + 26 + 26
		if (code < UPPER + 26)
			return code - UPPER
		if (code < LOWER + 26)
			return code - LOWER + 26
	}

	function b64ToByteArray (b64) {
		var i, j, l, tmp, placeHolders, arr

		if (b64.length % 4 > 0) {
			throw new Error('Invalid string. Length must be a multiple of 4')
		}

		// the number of equal signs (place holders)
		// if there are two placeholders, than the two characters before it
		// represent one byte
		// if there is only one, then the three characters before it represent 2 bytes
		// this is just a cheap hack to not do indexOf twice
		var len = b64.length
		placeHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0

		// base64 is 4/3 + up to two characters of the original data
		arr = new Arr(b64.length * 3 / 4 - placeHolders)

		// if there are placeholders, only get up to the last complete 4 chars
		l = placeHolders > 0 ? b64.length - 4 : b64.length

		var L = 0

		function push (v) {
			arr[L++] = v
		}

		for (i = 0, j = 0; i < l; i += 4, j += 3) {
			tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))
			push((tmp & 0xFF0000) >> 16)
			push((tmp & 0xFF00) >> 8)
			push(tmp & 0xFF)
		}

		if (placeHolders === 2) {
			tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)
			push(tmp & 0xFF)
		} else if (placeHolders === 1) {
			tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)
			push((tmp >> 8) & 0xFF)
			push(tmp & 0xFF)
		}

		return arr
	}

	function uint8ToBase64 (uint8) {
		var i,
			extraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes
			output = "",
			temp, length

		function encode (num) {
			return lookup.charAt(num)
		}

		function tripletToBase64 (num) {
			return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)
		}

		// go through the array every three bytes, we'll deal with trailing stuff later
		for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {
			temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])
			output += tripletToBase64(temp)
		}

		// pad the end with zeros, but make sure to not forget the extra bytes
		switch (extraBytes) {
			case 1:
				temp = uint8[uint8.length - 1]
				output += encode(temp >> 2)
				output += encode((temp << 4) & 0x3F)
				output += '=='
				break
			case 2:
				temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])
				output += encode(temp >> 10)
				output += encode((temp >> 4) & 0x3F)
				output += encode((temp << 2) & 0x3F)
				output += '='
				break
		}

		return output
	}

	exports.toByteArray = b64ToByteArray
	exports.fromByteArray = uint8ToBase64
}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))

},{}],3:[function(require,module,exports){
(function (global){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/* eslint-disable no-proto */

var base64 = require('base64-js')
var ieee754 = require('ieee754')
var isArray = require('is-array')

exports.Buffer = Buffer
exports.SlowBuffer = SlowBuffer
exports.INSPECT_MAX_BYTES = 50
Buffer.poolSize = 8192 // not used by this implementation

var rootParent = {}

/**
 * If `Buffer.TYPED_ARRAY_SUPPORT`:
 *   === true    Use Uint8Array implementation (fastest)
 *   === false   Use Object implementation (most compatible, even IE6)
 *
 * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,
 * Opera 11.6+, iOS 4.2+.
 *
 * Due to various browser bugs, sometimes the Object implementation will be used even
 * when the browser supports typed arrays.
 *
 * Note:
 *
 *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,
 *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.
 *
 *   - Safari 5-7 lacks support for changing the `Object.prototype.constructor` property
 *     on objects.
 *
 *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.
 *
 *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of
 *     incorrect length in some situations.

 * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they
 * get the Object implementation, which is slower but behaves correctly.
 */
Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined
  ? global.TYPED_ARRAY_SUPPORT
  : typedArraySupport()

function typedArraySupport () {
  function Bar () {}
  try {
    var arr = new Uint8Array(1)
    arr.foo = function () { return 42 }
    arr.constructor = Bar
    return arr.foo() === 42 && // typed array instances can be augmented
        arr.constructor === Bar && // constructor can be set
        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`
        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`
  } catch (e) {
    return false
  }
}

function kMaxLength () {
  return Buffer.TYPED_ARRAY_SUPPORT
    ? 0x7fffffff
    : 0x3fffffff
}

/**
 * Class: Buffer
 * =============
 *
 * The Buffer constructor returns instances of `Uint8Array` that are augmented
 * with function properties for all the node `Buffer` API functions. We use
 * `Uint8Array` so that square bracket notation works as expected -- it returns
 * a single octet.
 *
 * By augmenting the instances, we can avoid modifying the `Uint8Array`
 * prototype.
 */
function Buffer (arg) {
  if (!(this instanceof Buffer)) {
    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.
    if (arguments.length > 1) return new Buffer(arg, arguments[1])
    return new Buffer(arg)
  }

  this.length = 0
  this.parent = undefined

  // Common case.
  if (typeof arg === 'number') {
    return fromNumber(this, arg)
  }

  // Slightly less common case.
  if (typeof arg === 'string') {
    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')
  }

  // Unusual.
  return fromObject(this, arg)
}

function fromNumber (that, length) {
  that = allocate(that, length < 0 ? 0 : checked(length) | 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) {
    for (var i = 0; i < length; i++) {
      that[i] = 0
    }
  }
  return that
}

function fromString (that, string, encoding) {
  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'

  // Assumption: byteLength() return value is always < kMaxLength.
  var length = byteLength(string, encoding) | 0
  that = allocate(that, length)

  that.write(string, encoding)
  return that
}

function fromObject (that, object) {
  if (Buffer.isBuffer(object)) return fromBuffer(that, object)

  if (isArray(object)) return fromArray(that, object)

  if (object == null) {
    throw new TypeError('must start with number, buffer, array or string')
  }

  if (typeof ArrayBuffer !== 'undefined') {
    if (object.buffer instanceof ArrayBuffer) {
      return fromTypedArray(that, object)
    }
    if (object instanceof ArrayBuffer) {
      return fromArrayBuffer(that, object)
    }
  }

  if (object.length) return fromArrayLike(that, object)

  return fromJsonObject(that, object)
}

function fromBuffer (that, buffer) {
  var length = checked(buffer.length) | 0
  that = allocate(that, length)
  buffer.copy(that, 0, 0, length)
  return that
}

function fromArray (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

// Duplicate of fromArray() to keep fromArray() monomorphic.
function fromTypedArray (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  // Truncating the elements is probably not what people expect from typed
  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior
  // of the old Buffer constructor.
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

function fromArrayBuffer (that, array) {
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    array.byteLength
    that = Buffer._augment(new Uint8Array(array))
  } else {
    // Fallback: Return an object instance of the Buffer class
    that = fromTypedArray(that, new Uint8Array(array))
  }
  return that
}

function fromArrayLike (that, array) {
  var length = checked(array.length) | 0
  that = allocate(that, length)
  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.
// Returns a zero-length buffer for inputs that don't conform to the spec.
function fromJsonObject (that, object) {
  var array
  var length = 0

  if (object.type === 'Buffer' && isArray(object.data)) {
    array = object.data
    length = checked(array.length) | 0
  }
  that = allocate(that, length)

  for (var i = 0; i < length; i += 1) {
    that[i] = array[i] & 255
  }
  return that
}

if (Buffer.TYPED_ARRAY_SUPPORT) {
  Buffer.prototype.__proto__ = Uint8Array.prototype
  Buffer.__proto__ = Uint8Array
}

function allocate (that, length) {
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    // Return an augmented `Uint8Array` instance, for best performance
    that = Buffer._augment(new Uint8Array(length))
    that.__proto__ = Buffer.prototype
  } else {
    // Fallback: Return an object instance of the Buffer class
    that.length = length
    that._isBuffer = true
  }

  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1
  if (fromPool) that.parent = rootParent

  return that
}

function checked (length) {
  // Note: cannot use `length < kMaxLength` here because that fails when
  // length is NaN (which is otherwise coerced to zero.)
  if (length >= kMaxLength()) {
    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +
                         'size: 0x' + kMaxLength().toString(16) + ' bytes')
  }
  return length | 0
}

function SlowBuffer (subject, encoding) {
  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)

  var buf = new Buffer(subject, encoding)
  delete buf.parent
  return buf
}

Buffer.isBuffer = function isBuffer (b) {
  return !!(b != null && b._isBuffer)
}

Buffer.compare = function compare (a, b) {
  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {
    throw new TypeError('Arguments must be Buffers')
  }

  if (a === b) return 0

  var x = a.length
  var y = b.length

  var i = 0
  var len = Math.min(x, y)
  while (i < len) {
    if (a[i] !== b[i]) break

    ++i
  }

  if (i !== len) {
    x = a[i]
    y = b[i]
  }

  if (x < y) return -1
  if (y < x) return 1
  return 0
}

Buffer.isEncoding = function isEncoding (encoding) {
  switch (String(encoding).toLowerCase()) {
    case 'hex':
    case 'utf8':
    case 'utf-8':
    case 'ascii':
    case 'binary':
    case 'base64':
    case 'raw':
    case 'ucs2':
    case 'ucs-2':
    case 'utf16le':
    case 'utf-16le':
      return true
    default:
      return false
  }
}

Buffer.concat = function concat (list, length) {
  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')

  if (list.length === 0) {
    return new Buffer(0)
  }

  var i
  if (length === undefined) {
    length = 0
    for (i = 0; i < list.length; i++) {
      length += list[i].length
    }
  }

  var buf = new Buffer(length)
  var pos = 0
  for (i = 0; i < list.length; i++) {
    var item = list[i]
    item.copy(buf, pos)
    pos += item.length
  }
  return buf
}

function byteLength (string, encoding) {
  if (typeof string !== 'string') string = '' + string

  var len = string.length
  if (len === 0) return 0

  // Use a for loop to avoid recursion
  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'ascii':
      case 'binary':
      // Deprecated
      case 'raw':
      case 'raws':
        return len
      case 'utf8':
      case 'utf-8':
        return utf8ToBytes(string).length
      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return len * 2
      case 'hex':
        return len >>> 1
      case 'base64':
        return base64ToBytes(string).length
      default:
        if (loweredCase) return utf8ToBytes(string).length // assume utf8
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}
Buffer.byteLength = byteLength

// pre-set for values that may exist in the future
//Buffer.prototype.length = undefined
//Buffer.prototype.parent = undefined

function slowToString (encoding, start, end) {
  var loweredCase = false

  start = start | 0
  end = end === undefined || end === Infinity ? this.length : end | 0

  if (!encoding) encoding = 'utf8'
  if (start < 0) start = 0
  if (end > this.length) end = this.length
  if (end <= start) return ''

  while (true) {
    switch (encoding) {
      case 'hex':
        return hexSlice(this, start, end)

      case 'utf8':
      case 'utf-8':
        return utf8Slice(this, start, end)

      case 'ascii':
        return asciiSlice(this, start, end)

      case 'binary':
        return binarySlice(this, start, end)

      case 'base64':
        return base64Slice(this, start, end)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return utf16leSlice(this, start, end)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = (encoding + '').toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toString = function toString () {
  var length = this.length | 0
  if (length === 0) return ''
  if (arguments.length === 0) return utf8Slice(this, 0, length)
  return slowToString.apply(this, arguments)
}

Buffer.prototype.equals = function equals (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return true
  return Buffer.compare(this, b) === 0
}

Buffer.prototype.inspect = function inspect () {
  var str = ''
  var max = exports.INSPECT_MAX_BYTES
  if (this.length > 0) {
    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')
    if (this.length > max) str += ' ... '
  }
  return '<Buffer ' + str + '>'
}

Buffer.prototype.compare = function compare (b) {
  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')
  if (this === b) return 0
  return Buffer.compare(this, b)
}

Buffer.prototype.indexOf = function indexOf (val, byteOffset) {
  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff
  else if (byteOffset < -0x80000000) byteOffset = -0x80000000
  byteOffset >>= 0

  if (this.length === 0) return -1
  if (byteOffset >= this.length) return -1

  // Negative offsets start from the end of the buffer
  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)

  if (typeof val === 'string') {
    if (val.length === 0) return -1 // special case: looking for empty string always fails
    return String.prototype.indexOf.call(this, val, byteOffset)
  }
  if (Buffer.isBuffer(val)) {
    return arrayIndexOf(this, val, byteOffset)
  }
  if (typeof val === 'number') {
    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {
      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)
    }
    return arrayIndexOf(this, [ val ], byteOffset)
  }

  function arrayIndexOf (arr, val, byteOffset) {
    var foundIndex = -1
    for (var i = 0; byteOffset + i < arr.length; i++) {
      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {
        if (foundIndex === -1) foundIndex = i
        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex
      } else {
        foundIndex = -1
      }
    }
    return -1
  }

  throw new TypeError('val must be string, number or Buffer')
}

// `get` is deprecated
Buffer.prototype.get = function get (offset) {
  console.log('.get() is deprecated. Access using array indexes instead.')
  return this.readUInt8(offset)
}

// `set` is deprecated
Buffer.prototype.set = function set (v, offset) {
  console.log('.set() is deprecated. Access using array indexes instead.')
  return this.writeUInt8(v, offset)
}

function hexWrite (buf, string, offset, length) {
  offset = Number(offset) || 0
  var remaining = buf.length - offset
  if (!length) {
    length = remaining
  } else {
    length = Number(length)
    if (length > remaining) {
      length = remaining
    }
  }

  // must be an even number of digits
  var strLen = string.length
  if (strLen % 2 !== 0) throw new Error('Invalid hex string')

  if (length > strLen / 2) {
    length = strLen / 2
  }
  for (var i = 0; i < length; i++) {
    var parsed = parseInt(string.substr(i * 2, 2), 16)
    if (isNaN(parsed)) throw new Error('Invalid hex string')
    buf[offset + i] = parsed
  }
  return i
}

function utf8Write (buf, string, offset, length) {
  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)
}

function asciiWrite (buf, string, offset, length) {
  return blitBuffer(asciiToBytes(string), buf, offset, length)
}

function binaryWrite (buf, string, offset, length) {
  return asciiWrite(buf, string, offset, length)
}

function base64Write (buf, string, offset, length) {
  return blitBuffer(base64ToBytes(string), buf, offset, length)
}

function ucs2Write (buf, string, offset, length) {
  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)
}

Buffer.prototype.write = function write (string, offset, length, encoding) {
  // Buffer#write(string)
  if (offset === undefined) {
    encoding = 'utf8'
    length = this.length
    offset = 0
  // Buffer#write(string, encoding)
  } else if (length === undefined && typeof offset === 'string') {
    encoding = offset
    length = this.length
    offset = 0
  // Buffer#write(string, offset[, length][, encoding])
  } else if (isFinite(offset)) {
    offset = offset | 0
    if (isFinite(length)) {
      length = length | 0
      if (encoding === undefined) encoding = 'utf8'
    } else {
      encoding = length
      length = undefined
    }
  // legacy write(string, encoding, offset, length) - remove in v0.13
  } else {
    var swap = encoding
    encoding = offset
    offset = length | 0
    length = swap
  }

  var remaining = this.length - offset
  if (length === undefined || length > remaining) length = remaining

  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {
    throw new RangeError('attempt to write outside buffer bounds')
  }

  if (!encoding) encoding = 'utf8'

  var loweredCase = false
  for (;;) {
    switch (encoding) {
      case 'hex':
        return hexWrite(this, string, offset, length)

      case 'utf8':
      case 'utf-8':
        return utf8Write(this, string, offset, length)

      case 'ascii':
        return asciiWrite(this, string, offset, length)

      case 'binary':
        return binaryWrite(this, string, offset, length)

      case 'base64':
        // Warning: maxLength not taken into account in base64Write
        return base64Write(this, string, offset, length)

      case 'ucs2':
      case 'ucs-2':
      case 'utf16le':
      case 'utf-16le':
        return ucs2Write(this, string, offset, length)

      default:
        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)
        encoding = ('' + encoding).toLowerCase()
        loweredCase = true
    }
  }
}

Buffer.prototype.toJSON = function toJSON () {
  return {
    type: 'Buffer',
    data: Array.prototype.slice.call(this._arr || this, 0)
  }
}

function base64Slice (buf, start, end) {
  if (start === 0 && end === buf.length) {
    return base64.fromByteArray(buf)
  } else {
    return base64.fromByteArray(buf.slice(start, end))
  }
}

function utf8Slice (buf, start, end) {
  end = Math.min(buf.length, end)
  var res = []

  var i = start
  while (i < end) {
    var firstByte = buf[i]
    var codePoint = null
    var bytesPerSequence = (firstByte > 0xEF) ? 4
      : (firstByte > 0xDF) ? 3
      : (firstByte > 0xBF) ? 2
      : 1

    if (i + bytesPerSequence <= end) {
      var secondByte, thirdByte, fourthByte, tempCodePoint

      switch (bytesPerSequence) {
        case 1:
          if (firstByte < 0x80) {
            codePoint = firstByte
          }
          break
        case 2:
          secondByte = buf[i + 1]
          if ((secondByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)
            if (tempCodePoint > 0x7F) {
              codePoint = tempCodePoint
            }
          }
          break
        case 3:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)
            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {
              codePoint = tempCodePoint
            }
          }
          break
        case 4:
          secondByte = buf[i + 1]
          thirdByte = buf[i + 2]
          fourthByte = buf[i + 3]
          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {
            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)
            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {
              codePoint = tempCodePoint
            }
          }
      }
    }

    if (codePoint === null) {
      // we did not generate a valid codePoint so insert a
      // replacement char (U+FFFD) and advance only 1 byte
      codePoint = 0xFFFD
      bytesPerSequence = 1
    } else if (codePoint > 0xFFFF) {
      // encode to utf16 (surrogate pair dance)
      codePoint -= 0x10000
      res.push(codePoint >>> 10 & 0x3FF | 0xD800)
      codePoint = 0xDC00 | codePoint & 0x3FF
    }

    res.push(codePoint)
    i += bytesPerSequence
  }

  return decodeCodePointsArray(res)
}

// Based on http://stackoverflow.com/a/22747272/680742, the browser with
// the lowest limit is Chrome, with 0x10000 args.
// We go 1 magnitude less, for safety
var MAX_ARGUMENTS_LENGTH = 0x1000

function decodeCodePointsArray (codePoints) {
  var len = codePoints.length
  if (len <= MAX_ARGUMENTS_LENGTH) {
    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()
  }

  // Decode in chunks to avoid "call stack size exceeded".
  var res = ''
  var i = 0
  while (i < len) {
    res += String.fromCharCode.apply(
      String,
      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)
    )
  }
  return res
}

function asciiSlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    ret += String.fromCharCode(buf[i] & 0x7F)
  }
  return ret
}

function binarySlice (buf, start, end) {
  var ret = ''
  end = Math.min(buf.length, end)

  for (var i = start; i < end; i++) {
    ret += String.fromCharCode(buf[i])
  }
  return ret
}

function hexSlice (buf, start, end) {
  var len = buf.length

  if (!start || start < 0) start = 0
  if (!end || end < 0 || end > len) end = len

  var out = ''
  for (var i = start; i < end; i++) {
    out += toHex(buf[i])
  }
  return out
}

function utf16leSlice (buf, start, end) {
  var bytes = buf.slice(start, end)
  var res = ''
  for (var i = 0; i < bytes.length; i += 2) {
    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)
  }
  return res
}

Buffer.prototype.slice = function slice (start, end) {
  var len = this.length
  start = ~~start
  end = end === undefined ? len : ~~end

  if (start < 0) {
    start += len
    if (start < 0) start = 0
  } else if (start > len) {
    start = len
  }

  if (end < 0) {
    end += len
    if (end < 0) end = 0
  } else if (end > len) {
    end = len
  }

  if (end < start) end = start

  var newBuf
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    newBuf = Buffer._augment(this.subarray(start, end))
  } else {
    var sliceLen = end - start
    newBuf = new Buffer(sliceLen, undefined)
    for (var i = 0; i < sliceLen; i++) {
      newBuf[i] = this[i + start]
    }
  }

  if (newBuf.length) newBuf.parent = this.parent || this

  return newBuf
}

/*
 * Need to make sure that buffer isn't trying to write out of bounds.
 */
function checkOffset (offset, ext, length) {
  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')
  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')
}

Buffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }

  return val
}

Buffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) {
    checkOffset(offset, byteLength, this.length)
  }

  var val = this[offset + --byteLength]
  var mul = 1
  while (byteLength > 0 && (mul *= 0x100)) {
    val += this[offset + --byteLength] * mul
  }

  return val
}

Buffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  return this[offset]
}

Buffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return this[offset] | (this[offset + 1] << 8)
}

Buffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  return (this[offset] << 8) | this[offset + 1]
}

Buffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return ((this[offset]) |
      (this[offset + 1] << 8) |
      (this[offset + 2] << 16)) +
      (this[offset + 3] * 0x1000000)
}

Buffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] * 0x1000000) +
    ((this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    this[offset + 3])
}

Buffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var val = this[offset]
  var mul = 1
  var i = 0
  while (++i < byteLength && (mul *= 0x100)) {
    val += this[offset + i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkOffset(offset, byteLength, this.length)

  var i = byteLength
  var mul = 1
  var val = this[offset + --i]
  while (i > 0 && (mul *= 0x100)) {
    val += this[offset + --i] * mul
  }
  mul *= 0x80

  if (val >= mul) val -= Math.pow(2, 8 * byteLength)

  return val
}

Buffer.prototype.readInt8 = function readInt8 (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 1, this.length)
  if (!(this[offset] & 0x80)) return (this[offset])
  return ((0xff - this[offset] + 1) * -1)
}

Buffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset] | (this[offset + 1] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 2, this.length)
  var val = this[offset + 1] | (this[offset] << 8)
  return (val & 0x8000) ? val | 0xFFFF0000 : val
}

Buffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset]) |
    (this[offset + 1] << 8) |
    (this[offset + 2] << 16) |
    (this[offset + 3] << 24)
}

Buffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)

  return (this[offset] << 24) |
    (this[offset + 1] << 16) |
    (this[offset + 2] << 8) |
    (this[offset + 3])
}

Buffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, true, 23, 4)
}

Buffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 4, this.length)
  return ieee754.read(this, offset, false, 23, 4)
}

Buffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, true, 52, 8)
}

Buffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {
  if (!noAssert) checkOffset(offset, 8, this.length)
  return ieee754.read(this, offset, false, 52, 8)
}

function checkInt (buf, value, offset, ext, max, min) {
  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')
  if (value > max || value < min) throw new RangeError('value is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('index out of range')
}

Buffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)

  var mul = 1
  var i = 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  byteLength = byteLength | 0
  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)

  var i = byteLength - 1
  var mul = 1
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = (value / mul) & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  this[offset] = (value & 0xff)
  return offset + 1
}

function objectWriteUInt16 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {
    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>
      (littleEndian ? i : 1 - i) * 8
  }
}

Buffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

function objectWriteUInt32 (buf, value, offset, littleEndian) {
  if (value < 0) value = 0xffffffff + value + 1
  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {
    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff
  }
}

Buffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset + 3] = (value >>> 24)
    this[offset + 2] = (value >>> 16)
    this[offset + 1] = (value >>> 8)
    this[offset] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

Buffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = 0
  var mul = 1
  var sub = value < 0 ? 1 : 0
  this[offset] = value & 0xFF
  while (++i < byteLength && (mul *= 0x100)) {
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) {
    var limit = Math.pow(2, 8 * byteLength - 1)

    checkInt(this, value, offset, byteLength, limit - 1, -limit)
  }

  var i = byteLength - 1
  var mul = 1
  var sub = value < 0 ? 1 : 0
  this[offset + i] = value & 0xFF
  while (--i >= 0 && (mul *= 0x100)) {
    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF
  }

  return offset + byteLength
}

Buffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)
  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)
  if (value < 0) value = 0xff + value + 1
  this[offset] = (value & 0xff)
  return offset + 1
}

Buffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
  } else {
    objectWriteUInt16(this, value, offset, true)
  }
  return offset + 2
}

Buffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 8)
    this[offset + 1] = (value & 0xff)
  } else {
    objectWriteUInt16(this, value, offset, false)
  }
  return offset + 2
}

Buffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value & 0xff)
    this[offset + 1] = (value >>> 8)
    this[offset + 2] = (value >>> 16)
    this[offset + 3] = (value >>> 24)
  } else {
    objectWriteUInt32(this, value, offset, true)
  }
  return offset + 4
}

Buffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {
  value = +value
  offset = offset | 0
  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)
  if (value < 0) value = 0xffffffff + value + 1
  if (Buffer.TYPED_ARRAY_SUPPORT) {
    this[offset] = (value >>> 24)
    this[offset + 1] = (value >>> 16)
    this[offset + 2] = (value >>> 8)
    this[offset + 3] = (value & 0xff)
  } else {
    objectWriteUInt32(this, value, offset, false)
  }
  return offset + 4
}

function checkIEEE754 (buf, value, offset, ext, max, min) {
  if (value > max || value < min) throw new RangeError('value is out of bounds')
  if (offset + ext > buf.length) throw new RangeError('index out of range')
  if (offset < 0) throw new RangeError('index out of range')
}

function writeFloat (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)
  }
  ieee754.write(buf, value, offset, littleEndian, 23, 4)
  return offset + 4
}

Buffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {
  return writeFloat(this, value, offset, true, noAssert)
}

Buffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {
  return writeFloat(this, value, offset, false, noAssert)
}

function writeDouble (buf, value, offset, littleEndian, noAssert) {
  if (!noAssert) {
    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)
  }
  ieee754.write(buf, value, offset, littleEndian, 52, 8)
  return offset + 8
}

Buffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {
  return writeDouble(this, value, offset, true, noAssert)
}

Buffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {
  return writeDouble(this, value, offset, false, noAssert)
}

// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)
Buffer.prototype.copy = function copy (target, targetStart, start, end) {
  if (!start) start = 0
  if (!end && end !== 0) end = this.length
  if (targetStart >= target.length) targetStart = target.length
  if (!targetStart) targetStart = 0
  if (end > 0 && end < start) end = start

  // Copy 0 bytes; we're done
  if (end === start) return 0
  if (target.length === 0 || this.length === 0) return 0

  // Fatal error conditions
  if (targetStart < 0) {
    throw new RangeError('targetStart out of bounds')
  }
  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')
  if (end < 0) throw new RangeError('sourceEnd out of bounds')

  // Are we oob?
  if (end > this.length) end = this.length
  if (target.length - targetStart < end - start) {
    end = target.length - targetStart + start
  }

  var len = end - start
  var i

  if (this === target && start < targetStart && targetStart < end) {
    // descending copy from end
    for (i = len - 1; i >= 0; i--) {
      target[i + targetStart] = this[i + start]
    }
  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {
    // ascending copy from start
    for (i = 0; i < len; i++) {
      target[i + targetStart] = this[i + start]
    }
  } else {
    target._set(this.subarray(start, start + len), targetStart)
  }

  return len
}

// fill(value, start=0, end=buffer.length)
Buffer.prototype.fill = function fill (value, start, end) {
  if (!value) value = 0
  if (!start) start = 0
  if (!end) end = this.length

  if (end < start) throw new RangeError('end < start')

  // Fill 0 bytes; we're done
  if (end === start) return
  if (this.length === 0) return

  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')
  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')

  var i
  if (typeof value === 'number') {
    for (i = start; i < end; i++) {
      this[i] = value
    }
  } else {
    var bytes = utf8ToBytes(value.toString())
    var len = bytes.length
    for (i = start; i < end; i++) {
      this[i] = bytes[i % len]
    }
  }

  return this
}

/**
 * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.
 * Added in Node 0.12. Only available in browsers that support ArrayBuffer.
 */
Buffer.prototype.toArrayBuffer = function toArrayBuffer () {
  if (typeof Uint8Array !== 'undefined') {
    if (Buffer.TYPED_ARRAY_SUPPORT) {
      return (new Buffer(this)).buffer
    } else {
      var buf = new Uint8Array(this.length)
      for (var i = 0, len = buf.length; i < len; i += 1) {
        buf[i] = this[i]
      }
      return buf.buffer
    }
  } else {
    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')
  }
}

// HELPER FUNCTIONS
// ================

var BP = Buffer.prototype

/**
 * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods
 */
Buffer._augment = function _augment (arr) {
  arr.constructor = Buffer
  arr._isBuffer = true

  // save reference to original Uint8Array set method before overwriting
  arr._set = arr.set

  // deprecated
  arr.get = BP.get
  arr.set = BP.set

  arr.write = BP.write
  arr.toString = BP.toString
  arr.toLocaleString = BP.toString
  arr.toJSON = BP.toJSON
  arr.equals = BP.equals
  arr.compare = BP.compare
  arr.indexOf = BP.indexOf
  arr.copy = BP.copy
  arr.slice = BP.slice
  arr.readUIntLE = BP.readUIntLE
  arr.readUIntBE = BP.readUIntBE
  arr.readUInt8 = BP.readUInt8
  arr.readUInt16LE = BP.readUInt16LE
  arr.readUInt16BE = BP.readUInt16BE
  arr.readUInt32LE = BP.readUInt32LE
  arr.readUInt32BE = BP.readUInt32BE
  arr.readIntLE = BP.readIntLE
  arr.readIntBE = BP.readIntBE
  arr.readInt8 = BP.readInt8
  arr.readInt16LE = BP.readInt16LE
  arr.readInt16BE = BP.readInt16BE
  arr.readInt32LE = BP.readInt32LE
  arr.readInt32BE = BP.readInt32BE
  arr.readFloatLE = BP.readFloatLE
  arr.readFloatBE = BP.readFloatBE
  arr.readDoubleLE = BP.readDoubleLE
  arr.readDoubleBE = BP.readDoubleBE
  arr.writeUInt8 = BP.writeUInt8
  arr.writeUIntLE = BP.writeUIntLE
  arr.writeUIntBE = BP.writeUIntBE
  arr.writeUInt16LE = BP.writeUInt16LE
  arr.writeUInt16BE = BP.writeUInt16BE
  arr.writeUInt32LE = BP.writeUInt32LE
  arr.writeUInt32BE = BP.writeUInt32BE
  arr.writeIntLE = BP.writeIntLE
  arr.writeIntBE = BP.writeIntBE
  arr.writeInt8 = BP.writeInt8
  arr.writeInt16LE = BP.writeInt16LE
  arr.writeInt16BE = BP.writeInt16BE
  arr.writeInt32LE = BP.writeInt32LE
  arr.writeInt32BE = BP.writeInt32BE
  arr.writeFloatLE = BP.writeFloatLE
  arr.writeFloatBE = BP.writeFloatBE
  arr.writeDoubleLE = BP.writeDoubleLE
  arr.writeDoubleBE = BP.writeDoubleBE
  arr.fill = BP.fill
  arr.inspect = BP.inspect
  arr.toArrayBuffer = BP.toArrayBuffer

  return arr
}

var INVALID_BASE64_RE = /[^+\/0-9A-Za-z-_]/g

function base64clean (str) {
  // Node strips out invalid characters like \n and \t from the string, base64-js does not
  str = stringtrim(str).replace(INVALID_BASE64_RE, '')
  // Node converts strings with length < 2 to ''
  if (str.length < 2) return ''
  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not
  while (str.length % 4 !== 0) {
    str = str + '='
  }
  return str
}

function stringtrim (str) {
  if (str.trim) return str.trim()
  return str.replace(/^\s+|\s+$/g, '')
}

function toHex (n) {
  if (n < 16) return '0' + n.toString(16)
  return n.toString(16)
}

function utf8ToBytes (string, units) {
  units = units || Infinity
  var codePoint
  var length = string.length
  var leadSurrogate = null
  var bytes = []

  for (var i = 0; i < length; i++) {
    codePoint = string.charCodeAt(i)

    // is surrogate component
    if (codePoint > 0xD7FF && codePoint < 0xE000) {
      // last char was a lead
      if (!leadSurrogate) {
        // no lead yet
        if (codePoint > 0xDBFF) {
          // unexpected trail
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        } else if (i + 1 === length) {
          // unpaired lead
          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
          continue
        }

        // valid lead
        leadSurrogate = codePoint

        continue
      }

      // 2 leads in a row
      if (codePoint < 0xDC00) {
        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
        leadSurrogate = codePoint
        continue
      }

      // valid surrogate pair
      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000
    } else if (leadSurrogate) {
      // valid bmp char, but last char was a lead
      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)
    }

    leadSurrogate = null

    // encode utf8
    if (codePoint < 0x80) {
      if ((units -= 1) < 0) break
      bytes.push(codePoint)
    } else if (codePoint < 0x800) {
      if ((units -= 2) < 0) break
      bytes.push(
        codePoint >> 0x6 | 0xC0,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x10000) {
      if ((units -= 3) < 0) break
      bytes.push(
        codePoint >> 0xC | 0xE0,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else if (codePoint < 0x110000) {
      if ((units -= 4) < 0) break
      bytes.push(
        codePoint >> 0x12 | 0xF0,
        codePoint >> 0xC & 0x3F | 0x80,
        codePoint >> 0x6 & 0x3F | 0x80,
        codePoint & 0x3F | 0x80
      )
    } else {
      throw new Error('Invalid code point')
    }
  }

  return bytes
}

function asciiToBytes (str) {
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    // Node's code seems to be doing this and not & 0x7F..
    byteArray.push(str.charCodeAt(i) & 0xFF)
  }
  return byteArray
}

function utf16leToBytes (str, units) {
  var c, hi, lo
  var byteArray = []
  for (var i = 0; i < str.length; i++) {
    if ((units -= 2) < 0) break

    c = str.charCodeAt(i)
    hi = c >> 8
    lo = c % 256
    byteArray.push(lo)
    byteArray.push(hi)
  }

  return byteArray
}

function base64ToBytes (str) {
  return base64.toByteArray(base64clean(str))
}

function blitBuffer (src, dst, offset, length) {
  for (var i = 0; i < length; i++) {
    if ((i + offset >= dst.length) || (i >= src.length)) break
    dst[i + offset] = src[i]
  }
  return i
}

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"base64-js":2,"ieee754":5,"is-array":7}],4:[function(require,module,exports){
"use strict"

module.exports = createRBTree

var RED   = 0
var BLACK = 1

function RBNode(color, key, value, left, right, count) {
  this._color = color
  this.key = key
  this.value = value
  this.left = left
  this.right = right
  this._count = count
}

function cloneNode(node) {
  return new RBNode(node._color, node.key, node.value, node.left, node.right, node._count)
}

function repaint(color, node) {
  return new RBNode(color, node.key, node.value, node.left, node.right, node._count)
}

function recount(node) {
  node._count = 1 + (node.left ? node.left._count : 0) + (node.right ? node.right._count : 0)
}

function RedBlackTree(compare, root) {
  this._compare = compare
  this.root = root
}

var proto = RedBlackTree.prototype

Object.defineProperty(proto, "keys", {
  get: function() {
    var result = []
    this.forEach(function(k,v) {
      result.push(k)
    })
    return result
  }
})

Object.defineProperty(proto, "values", {
  get: function() {
    var result = []
    this.forEach(function(k,v) {
      result.push(v)
    })
    return result
  }
})

//Returns the number of nodes in the tree
Object.defineProperty(proto, "length", {
  get: function() {
    if(this.root) {
      return this.root._count
    }
    return 0
  }
})

//Insert a new item into the tree
proto.insert = function(key, value) {
  var cmp = this._compare
  //Find point to insert new node at
  var n = this.root
  var n_stack = []
  var d_stack = []
  while(n) {
    var d = cmp(key, n.key)
    n_stack.push(n)
    d_stack.push(d)
    if(d <= 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  //Rebuild path to leaf node
  n_stack.push(new RBNode(RED, key, value, null, null, 1))
  for(var s=n_stack.length-2; s>=0; --s) {
    var n = n_stack[s]
    if(d_stack[s] <= 0) {
      n_stack[s] = new RBNode(n._color, n.key, n.value, n_stack[s+1], n.right, n._count+1)
    } else {
      n_stack[s] = new RBNode(n._color, n.key, n.value, n.left, n_stack[s+1], n._count+1)
    }
  }
  //Rebalance tree using rotations
  //console.log("start insert", key, d_stack)
  for(var s=n_stack.length-1; s>1; --s) {
    var p = n_stack[s-1]
    var n = n_stack[s]
    if(p._color === BLACK || n._color === BLACK) {
      break
    }
    var pp = n_stack[s-2]
    if(pp.left === p) {
      if(p.left === n) {
        var y = pp.right
        if(y && y._color === RED) {
          //console.log("LLr")
          p._color = BLACK
          pp.right = repaint(BLACK, y)
          pp._color = RED
          s -= 1
        } else {
          //console.log("LLb")
          pp._color = RED
          pp.left = p.right
          p._color = BLACK
          p.right = pp
          n_stack[s-2] = p
          n_stack[s-1] = n
          recount(pp)
          recount(p)
          if(s >= 3) {
            var ppp = n_stack[s-3]
            if(ppp.left === pp) {
              ppp.left = p
            } else {
              ppp.right = p
            }
          }
          break
        }
      } else {
        var y = pp.right
        if(y && y._color === RED) {
          //console.log("LRr")
          p._color = BLACK
          pp.right = repaint(BLACK, y)
          pp._color = RED
          s -= 1
        } else {
          //console.log("LRb")
          p.right = n.left
          pp._color = RED
          pp.left = n.right
          n._color = BLACK
          n.left = p
          n.right = pp
          n_stack[s-2] = n
          n_stack[s-1] = p
          recount(pp)
          recount(p)
          recount(n)
          if(s >= 3) {
            var ppp = n_stack[s-3]
            if(ppp.left === pp) {
              ppp.left = n
            } else {
              ppp.right = n
            }
          }
          break
        }
      }
    } else {
      if(p.right === n) {
        var y = pp.left
        if(y && y._color === RED) {
          //console.log("RRr", y.key)
          p._color = BLACK
          pp.left = repaint(BLACK, y)
          pp._color = RED
          s -= 1
        } else {
          //console.log("RRb")
          pp._color = RED
          pp.right = p.left
          p._color = BLACK
          p.left = pp
          n_stack[s-2] = p
          n_stack[s-1] = n
          recount(pp)
          recount(p)
          if(s >= 3) {
            var ppp = n_stack[s-3]
            if(ppp.right === pp) {
              ppp.right = p
            } else {
              ppp.left = p
            }
          }
          break
        }
      } else {
        var y = pp.left
        if(y && y._color === RED) {
          //console.log("RLr")
          p._color = BLACK
          pp.left = repaint(BLACK, y)
          pp._color = RED
          s -= 1
        } else {
          //console.log("RLb")
          p.left = n.right
          pp._color = RED
          pp.right = n.left
          n._color = BLACK
          n.right = p
          n.left = pp
          n_stack[s-2] = n
          n_stack[s-1] = p
          recount(pp)
          recount(p)
          recount(n)
          if(s >= 3) {
            var ppp = n_stack[s-3]
            if(ppp.right === pp) {
              ppp.right = n
            } else {
              ppp.left = n
            }
          }
          break
        }
      }
    }
  }
  //Return new tree
  n_stack[0]._color = BLACK
  return new RedBlackTree(cmp, n_stack[0])
}


//Visit all nodes inorder
function doVisitFull(visit, node) {
  if(node.left) {
    var v = doVisitFull(visit, node.left)
    if(v) { return v }
  }
  var v = visit(node.key, node.value)
  if(v) { return v }
  if(node.right) {
    return doVisitFull(visit, node.right)
  }
}

//Visit half nodes in order
function doVisitHalf(lo, compare, visit, node) {
  var l = compare(lo, node.key)
  if(l <= 0) {
    if(node.left) {
      var v = doVisitHalf(lo, compare, visit, node.left)
      if(v) { return v }
    }
    var v = visit(node.key, node.value)
    if(v) { return v }
  }
  if(node.right) {
    return doVisitHalf(lo, compare, visit, node.right)
  }
}

//Visit all nodes within a range
function doVisit(lo, hi, compare, visit, node) {
  var l = compare(lo, node.key)
  var h = compare(hi, node.key)
  var v
  if(l <= 0) {
    if(node.left) {
      v = doVisit(lo, hi, compare, visit, node.left)
      if(v) { return v }
    }
    if(h > 0) {
      v = visit(node.key, node.value)
      if(v) { return v }
    }
  }
  if(h > 0 && node.right) {
    return doVisit(lo, hi, compare, visit, node.right)
  }
}


proto.forEach = function rbTreeForEach(visit, lo, hi) {
  if(!this.root) {
    return
  }
  switch(arguments.length) {
    case 1:
      return doVisitFull(visit, this.root)
    break

    case 2:
      return doVisitHalf(lo, this._compare, visit, this.root)
    break

    case 3:
      if(this._compare(lo, hi) >= 0) {
        return
      }
      return doVisit(lo, hi, this._compare, visit, this.root)
    break
  }
}

//First item in list
Object.defineProperty(proto, "begin", {
  get: function() {
    var stack = []
    var n = this.root
    while(n) {
      stack.push(n)
      n = n.left
    }
    return new RedBlackTreeIterator(this, stack)
  }
})

//Last item in list
Object.defineProperty(proto, "end", {
  get: function() {
    var stack = []
    var n = this.root
    while(n) {
      stack.push(n)
      n = n.right
    }
    return new RedBlackTreeIterator(this, stack)
  }
})

//Find the ith item in the tree
proto.at = function(idx) {
  if(idx < 0) {
    return new RedBlackTreeIterator(this, [])
  }
  var n = this.root
  var stack = []
  while(true) {
    stack.push(n)
    if(n.left) {
      if(idx < n.left._count) {
        n = n.left
        continue
      }
      idx -= n.left._count
    }
    if(!idx) {
      return new RedBlackTreeIterator(this, stack)
    }
    idx -= 1
    if(n.right) {
      if(idx >= n.right._count) {
        break
      }
      n = n.right
    } else {
      break
    }
  }
  return new RedBlackTreeIterator(this, [])
}

proto.ge = function(key) {
  var cmp = this._compare
  var n = this.root
  var stack = []
  var last_ptr = 0
  while(n) {
    var d = cmp(key, n.key)
    stack.push(n)
    if(d <= 0) {
      last_ptr = stack.length
    }
    if(d <= 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  stack.length = last_ptr
  return new RedBlackTreeIterator(this, stack)
}

proto.gt = function(key) {
  var cmp = this._compare
  var n = this.root
  var stack = []
  var last_ptr = 0
  while(n) {
    var d = cmp(key, n.key)
    stack.push(n)
    if(d < 0) {
      last_ptr = stack.length
    }
    if(d < 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  stack.length = last_ptr
  return new RedBlackTreeIterator(this, stack)
}

proto.lt = function(key) {
  var cmp = this._compare
  var n = this.root
  var stack = []
  var last_ptr = 0
  while(n) {
    var d = cmp(key, n.key)
    stack.push(n)
    if(d > 0) {
      last_ptr = stack.length
    }
    if(d <= 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  stack.length = last_ptr
  return new RedBlackTreeIterator(this, stack)
}

proto.le = function(key) {
  var cmp = this._compare
  var n = this.root
  var stack = []
  var last_ptr = 0
  while(n) {
    var d = cmp(key, n.key)
    stack.push(n)
    if(d >= 0) {
      last_ptr = stack.length
    }
    if(d < 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  stack.length = last_ptr
  return new RedBlackTreeIterator(this, stack)
}

//Finds the item with key if it exists
proto.find = function(key) {
  var cmp = this._compare
  var n = this.root
  var stack = []
  while(n) {
    var d = cmp(key, n.key)
    stack.push(n)
    if(d === 0) {
      return new RedBlackTreeIterator(this, stack)
    }
    if(d <= 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  return new RedBlackTreeIterator(this, [])
}

//Removes item with key from tree
proto.remove = function(key) {
  var iter = this.find(key)
  if(iter) {
    return iter.remove()
  }
  return this
}

//Returns the item at `key`
proto.get = function(key) {
  var cmp = this._compare
  var n = this.root
  while(n) {
    var d = cmp(key, n.key)
    if(d === 0) {
      return n.value
    }
    if(d <= 0) {
      n = n.left
    } else {
      n = n.right
    }
  }
  return
}

//Iterator for red black tree
function RedBlackTreeIterator(tree, stack) {
  this.tree = tree
  this._stack = stack
}

var iproto = RedBlackTreeIterator.prototype

//Test if iterator is valid
Object.defineProperty(iproto, "valid", {
  get: function() {
    return this._stack.length > 0
  }
})

//Node of the iterator
Object.defineProperty(iproto, "node", {
  get: function() {
    if(this._stack.length > 0) {
      return this._stack[this._stack.length-1]
    }
    return null
  },
  enumerable: true
})

//Makes a copy of an iterator
iproto.clone = function() {
  return new RedBlackTreeIterator(this.tree, this._stack.slice())
}

//Swaps two nodes
function swapNode(n, v) {
  n.key = v.key
  n.value = v.value
  n.left = v.left
  n.right = v.right
  n._color = v._color
  n._count = v._count
}

//Fix up a double black node in a tree
function fixDoubleBlack(stack) {
  var n, p, s, z
  for(var i=stack.length-1; i>=0; --i) {
    n = stack[i]
    if(i === 0) {
      n._color = BLACK
      return
    }
    //console.log("visit node:", n.key, i, stack[i].key, stack[i-1].key)
    p = stack[i-1]
    if(p.left === n) {
      //console.log("left child")
      s = p.right
      if(s.right && s.right._color === RED) {
        //console.log("case 1: right sibling child red")
        s = p.right = cloneNode(s)
        z = s.right = cloneNode(s.right)
        p.right = s.left
        s.left = p
        s.right = z
        s._color = p._color
        n._color = BLACK
        p._color = BLACK
        z._color = BLACK
        recount(p)
        recount(s)
        if(i > 1) {
          var pp = stack[i-2]
          if(pp.left === p) {
            pp.left = s
          } else {
            pp.right = s
          }
        }
        stack[i-1] = s
        return
      } else if(s.left && s.left._color === RED) {
        //console.log("case 1: left sibling child red")
        s = p.right = cloneNode(s)
        z = s.left = cloneNode(s.left)
        p.right = z.left
        s.left = z.right
        z.left = p
        z.right = s
        z._color = p._color
        p._color = BLACK
        s._color = BLACK
        n._color = BLACK
        recount(p)
        recount(s)
        recount(z)
        if(i > 1) {
          var pp = stack[i-2]
          if(pp.left === p) {
            pp.left = z
          } else {
            pp.right = z
          }
        }
        stack[i-1] = z
        return
      }
      if(s._color === BLACK) {
        if(p._color === RED) {
          //console.log("case 2: black sibling, red parent", p.right.value)
          p._color = BLACK
          p.right = repaint(RED, s)
          return
        } else {
          //console.log("case 2: black sibling, black parent", p.right.value)
          p.right = repaint(RED, s)
          continue
        }
      } else {
        //console.log("case 3: red sibling")
        s = cloneNode(s)
        p.right = s.left
        s.left = p
        s._color = p._color
        p._color = RED
        recount(p)
        recount(s)
        if(i > 1) {
          var pp = stack[i-2]
          if(pp.left === p) {
            pp.left = s
          } else {
            pp.right = s
          }
        }
        stack[i-1] = s
        stack[i] = p
        if(i+1 < stack.length) {
          stack[i+1] = n
        } else {
          stack.push(n)
        }
        i = i+2
      }
    } else {
      //console.log("right child")
      s = p.left
      if(s.left && s.left._color === RED) {
        //console.log("case 1: left sibling child red", p.value, p._color)
        s = p.left = cloneNode(s)
        z = s.left = cloneNode(s.left)
        p.left = s.right
        s.right = p
        s.left = z
        s._color = p._color
        n._color = BLACK
        p._color = BLACK
        z._color = BLACK
        recount(p)
        recount(s)
        if(i > 1) {
          var pp = stack[i-2]
          if(pp.right === p) {
            pp.right = s
          } else {
            pp.left = s
          }
        }
        stack[i-1] = s
        return
      } else if(s.right && s.right._color === RED) {
        //console.log("case 1: right sibling child red")
        s = p.left = cloneNode(s)
        z = s.right = cloneNode(s.right)
        p.left = z.right
        s.right = z.left
        z.right = p
        z.left = s
        z._color = p._color
        p._color = BLACK
        s._color = BLACK
        n._color = BLACK
        recount(p)
        recount(s)
        recount(z)
        if(i > 1) {
          var pp = stack[i-2]
          if(pp.right === p) {
            pp.right = z
          } else {
            pp.left = z
          }
        }
        stack[i-1] = z
        return
      }
      if(s._color === BLACK) {
        if(p._color === RED) {
          //console.log("case 2: black sibling, red parent")
          p._color = BLACK
          p.left = repaint(RED, s)
          return
        } else {
          //console.log("case 2: black sibling, black parent")
          p.left = repaint(RED, s)
          continue
        }
      } else {
        //console.log("case 3: red sibling")
        s = cloneNode(s)
        p.left = s.right
        s.right = p
        s._color = p._color
        p._color = RED
        recount(p)
        recount(s)
        if(i > 1) {
          var pp = stack[i-2]
          if(pp.right === p) {
            pp.right = s
          } else {
            pp.left = s
          }
        }
        stack[i-1] = s
        stack[i] = p
        if(i+1 < stack.length) {
          stack[i+1] = n
        } else {
          stack.push(n)
        }
        i = i+2
      }
    }
  }
}

//Removes item at iterator from tree
iproto.remove = function() {
  var stack = this._stack
  if(stack.length === 0) {
    return this.tree
  }
  //First copy path to node
  var cstack = new Array(stack.length)
  var n = stack[stack.length-1]
  cstack[cstack.length-1] = new RBNode(n._color, n.key, n.value, n.left, n.right, n._count)
  for(var i=stack.length-2; i>=0; --i) {
    var n = stack[i]
    if(n.left === stack[i+1]) {
      cstack[i] = new RBNode(n._color, n.key, n.value, cstack[i+1], n.right, n._count)
    } else {
      cstack[i] = new RBNode(n._color, n.key, n.value, n.left, cstack[i+1], n._count)
    }
  }

  //Get node
  n = cstack[cstack.length-1]
  //console.log("start remove: ", n.value)

  //If not leaf, then swap with previous node
  if(n.left && n.right) {
    //console.log("moving to leaf")

    //First walk to previous leaf
    var split = cstack.length
    n = n.left
    while(n.right) {
      cstack.push(n)
      n = n.right
    }
    //Copy path to leaf
    var v = cstack[split-1]
    cstack.push(new RBNode(n._color, v.key, v.value, n.left, n.right, n._count))
    cstack[split-1].key = n.key
    cstack[split-1].value = n.value

    //Fix up stack
    for(var i=cstack.length-2; i>=split; --i) {
      n = cstack[i]
      cstack[i] = new RBNode(n._color, n.key, n.value, n.left, cstack[i+1], n._count)
    }
    cstack[split-1].left = cstack[split]
  }
  //console.log("stack=", cstack.map(function(v) { return v.value }))

  //Remove leaf node
  n = cstack[cstack.length-1]
  if(n._color === RED) {
    //Easy case: removing red leaf
    //console.log("RED leaf")
    var p = cstack[cstack.length-2]
    if(p.left === n) {
      p.left = null
    } else if(p.right === n) {
      p.right = null
    }
    cstack.pop()
    for(var i=0; i<cstack.length; ++i) {
      cstack[i]._count--
    }
    return new RedBlackTree(this.tree._compare, cstack[0])
  } else {
    if(n.left || n.right) {
      //Second easy case:  Single child black parent
      //console.log("BLACK single child")
      if(n.left) {
        swapNode(n, n.left)
      } else if(n.right) {
        swapNode(n, n.right)
      }
      //Child must be red, so repaint it black to balance color
      n._color = BLACK
      for(var i=0; i<cstack.length-1; ++i) {
        cstack[i]._count--
      }
      return new RedBlackTree(this.tree._compare, cstack[0])
    } else if(cstack.length === 1) {
      //Third easy case: root
      //console.log("ROOT")
      return new RedBlackTree(this.tree._compare, null)
    } else {
      //Hard case: Repaint n, and then do some nasty stuff
      //console.log("BLACK leaf no children")
      for(var i=0; i<cstack.length; ++i) {
        cstack[i]._count--
      }
      var parent = cstack[cstack.length-2]
      fixDoubleBlack(cstack)
      //Fix up links
      if(parent.left === n) {
        parent.left = null
      } else {
        parent.right = null
      }
    }
  }
  return new RedBlackTree(this.tree._compare, cstack[0])
}

//Returns key
Object.defineProperty(iproto, "key", {
  get: function() {
    if(this._stack.length > 0) {
      return this._stack[this._stack.length-1].key
    }
    return
  },
  enumerable: true
})

//Returns value
Object.defineProperty(iproto, "value", {
  get: function() {
    if(this._stack.length > 0) {
      return this._stack[this._stack.length-1].value
    }
    return
  },
  enumerable: true
})


//Returns the position of this iterator in the sorted list
Object.defineProperty(iproto, "index", {
  get: function() {
    var idx = 0
    var stack = this._stack
    if(stack.length === 0) {
      var r = this.tree.root
      if(r) {
        return r._count
      }
      return 0
    } else if(stack[stack.length-1].left) {
      idx = stack[stack.length-1].left._count
    }
    for(var s=stack.length-2; s>=0; --s) {
      if(stack[s+1] === stack[s].right) {
        ++idx
        if(stack[s].left) {
          idx += stack[s].left._count
        }
      }
    }
    return idx
  },
  enumerable: true
})

//Advances iterator to next element in list
iproto.next = function() {
  var stack = this._stack
  if(stack.length === 0) {
    return
  }
  var n = stack[stack.length-1]
  if(n.right) {
    n = n.right
    while(n) {
      stack.push(n)
      n = n.left
    }
  } else {
    stack.pop()
    while(stack.length > 0 && stack[stack.length-1].right === n) {
      n = stack[stack.length-1]
      stack.pop()
    }
  }
}

//Checks if iterator is at end of tree
Object.defineProperty(iproto, "hasNext", {
  get: function() {
    var stack = this._stack
    if(stack.length === 0) {
      return false
    }
    if(stack[stack.length-1].right) {
      return true
    }
    for(var s=stack.length-1; s>0; --s) {
      if(stack[s-1].left === stack[s]) {
        return true
      }
    }
    return false
  }
})

//Update value
iproto.update = function(value) {
  var stack = this._stack
  if(stack.length === 0) {
    throw new Error("Can't update empty node!")
  }
  var cstack = new Array(stack.length)
  var n = stack[stack.length-1]
  cstack[cstack.length-1] = new RBNode(n._color, n.key, value, n.left, n.right, n._count)
  for(var i=stack.length-2; i>=0; --i) {
    n = stack[i]
    if(n.left === stack[i+1]) {
      cstack[i] = new RBNode(n._color, n.key, n.value, cstack[i+1], n.right, n._count)
    } else {
      cstack[i] = new RBNode(n._color, n.key, n.value, n.left, cstack[i+1], n._count)
    }
  }
  return new RedBlackTree(this.tree._compare, cstack[0])
}

//Moves iterator backward one element
iproto.prev = function() {
  var stack = this._stack
  if(stack.length === 0) {
    return
  }
  var n = stack[stack.length-1]
  if(n.left) {
    n = n.left
    while(n) {
      stack.push(n)
      n = n.right
    }
  } else {
    stack.pop()
    while(stack.length > 0 && stack[stack.length-1].left === n) {
      n = stack[stack.length-1]
      stack.pop()
    }
  }
}

//Checks if iterator is at start of tree
Object.defineProperty(iproto, "hasPrev", {
  get: function() {
    var stack = this._stack
    if(stack.length === 0) {
      return false
    }
    if(stack[stack.length-1].left) {
      return true
    }
    for(var s=stack.length-1; s>0; --s) {
      if(stack[s-1].right === stack[s]) {
        return true
      }
    }
    return false
  }
})

//Default comparison function
function defaultCompare(a, b) {
  if(a < b) {
    return -1
  }
  if(a > b) {
    return 1
  }
  return 0
}

//Build a tree
function createRBTree(compare) {
  return new RedBlackTree(compare || defaultCompare, null)
}
},{}],5:[function(require,module,exports){
exports.read = function (buffer, offset, isLE, mLen, nBytes) {
  var e, m
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var nBits = -7
  var i = isLE ? (nBytes - 1) : 0
  var d = isLE ? -1 : 1
  var s = buffer[offset + i]

  i += d

  e = s & ((1 << (-nBits)) - 1)
  s >>= (-nBits)
  nBits += eLen
  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  m = e & ((1 << (-nBits)) - 1)
  e >>= (-nBits)
  nBits += mLen
  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}

  if (e === 0) {
    e = 1 - eBias
  } else if (e === eMax) {
    return m ? NaN : ((s ? -1 : 1) * Infinity)
  } else {
    m = m + Math.pow(2, mLen)
    e = e - eBias
  }
  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)
}

exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {
  var e, m, c
  var eLen = nBytes * 8 - mLen - 1
  var eMax = (1 << eLen) - 1
  var eBias = eMax >> 1
  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)
  var i = isLE ? 0 : (nBytes - 1)
  var d = isLE ? 1 : -1
  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0

  value = Math.abs(value)

  if (isNaN(value) || value === Infinity) {
    m = isNaN(value) ? 1 : 0
    e = eMax
  } else {
    e = Math.floor(Math.log(value) / Math.LN2)
    if (value * (c = Math.pow(2, -e)) < 1) {
      e--
      c *= 2
    }
    if (e + eBias >= 1) {
      value += rt / c
    } else {
      value += rt * Math.pow(2, 1 - eBias)
    }
    if (value * c >= 2) {
      e++
      c /= 2
    }

    if (e + eBias >= eMax) {
      m = 0
      e = eMax
    } else if (e + eBias >= 1) {
      m = (value * c - 1) * Math.pow(2, mLen)
      e = e + eBias
    } else {
      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)
      e = 0
    }
  }

  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}

  e = (e << mLen) | m
  eLen += mLen
  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}

  buffer[offset + i - d] |= s * 128
}

},{}],6:[function(require,module,exports){
if (typeof Object.create === 'function') {
  // implementation from standard node.js 'util' module
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    ctor.prototype = Object.create(superCtor.prototype, {
      constructor: {
        value: ctor,
        enumerable: false,
        writable: true,
        configurable: true
      }
    });
  };
} else {
  // old school shim for old browsers
  module.exports = function inherits(ctor, superCtor) {
    ctor.super_ = superCtor
    var TempCtor = function () {}
    TempCtor.prototype = superCtor.prototype
    ctor.prototype = new TempCtor()
    ctor.prototype.constructor = ctor
  }
}

},{}],7:[function(require,module,exports){

/**
 * isArray
 */

var isArray = Array.isArray;

/**
 * toString
 */

var str = Object.prototype.toString;

/**
 * Whether or not the given `val`
 * is an array.
 *
 * example:
 *
 *        isArray([]);
 *        // > true
 *        isArray(arguments);
 *        // > false
 *        isArray('');
 *        // > false
 *
 * @param {mixed} val
 * @return {bool}
 */

module.exports = isArray || function (val) {
  return !! val && '[object Array]' == str.call(val);
};

},{}],8:[function(require,module,exports){
/**
 * Determine if an object is Buffer
 *
 * Author:   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * License:  MIT
 *
 * `npm install is-buffer`
 */

module.exports = function (obj) {
  return !!(obj != null &&
    (obj._isBuffer || // For Safari 5-7 (missing Object.prototype.constructor)
      (obj.constructor &&
      typeof obj.constructor.isBuffer === 'function' &&
      obj.constructor.isBuffer(obj))
    ))
}

},{}],9:[function(require,module,exports){
(function (process,global,Buffer){
var inherits          = require('inherits')
  , AbstractLevelDOWN = require('abstract-leveldown').AbstractLevelDOWN
  , AbstractIterator  = require('abstract-leveldown').AbstractIterator
  , ltgt              = require('ltgt')
  , setImmediate      = global.setImmediate || process.nextTick
  , createRBT = require('functional-red-black-tree')
  , globalStore       = {}

function toKey (key) {
  return typeof key == 'string' ? '$' + key : JSON.stringify(key)
}

function gt(value) {
  return ltgt.compare(value, this._end) > 0
}

function gte(value) {
  return ltgt.compare(value, this._end) >= 0
}

function lt(value) {
  return ltgt.compare(value, this._end) < 0
}

function lte(value) {
  return ltgt.compare(value, this._end) <= 0
}


function MemIterator (db, options) {
  AbstractIterator.call(this, db)
  this._limit   = options.limit

  if (this._limit === -1)
    this._limit = Infinity

  var tree = db._store[db._location];

  this.keyAsBuffer = options.keyAsBuffer !== false
  this.valueAsBuffer = options.valueAsBuffer !== false
  this._reverse   = options.reverse
  this._options = options
  this._done = 0

  if (!this._reverse) {
    this._incr = 'next';
    this._start = ltgt.lowerBound(options);
    this._end = ltgt.upperBound(options)

    if (typeof this._start === 'undefined')
      this._tree = tree.begin;
    else if (ltgt.lowerBoundInclusive(options))
      this._tree = tree.ge(this._start);
    else
      this._tree = tree.gt(this._start);

    if (this._end) {
      if (ltgt.upperBoundInclusive(options))
        this._test = lte
      else
        this._test = lt
    }

  } else {
    this._incr = 'prev';
    this._start = ltgt.upperBound(options)
    this._end = ltgt.lowerBound(options)

    if (typeof this._start === 'undefined')
      this._tree = tree.end;
    else if (ltgt.upperBoundInclusive(options))
      this._tree = tree.le(this._start)
    else
      this._tree = tree.lt(this._start)

    if (this._end) {
      if (ltgt.lowerBoundInclusive(options))
        this._test = gte
      else
        this._test = gt
    }

  }

}

inherits(MemIterator, AbstractIterator)

MemIterator.prototype._next = function (callback) {
  var key
    , value

  if (this._done++ >= this._limit)
    return setImmediate(callback)

  if (!this._tree.valid)
    return setImmediate(callback)

  key = this._tree.key
  value = this._tree.value

  if (!this._test(key))
    return setImmediate(callback)

  if (this.keyAsBuffer)
    key = new Buffer(key)

  if (this.valueAsBuffer)
    value = new Buffer(value)

  this._tree[this._incr]()

  setImmediate(function callNext() {
    callback(null, key, value)
  })
}

MemIterator.prototype._test = function () {return true}

function MemDOWN (location) {
  if (!(this instanceof MemDOWN))
    return new MemDOWN(location)

  AbstractLevelDOWN.call(this, typeof location == 'string' ? location : '')

  this._location = this.location ? toKey(this.location) : '_tree'
  this._store = this.location ? globalStore: this
  this._store[this._location] = this._store[this._location] || createRBT()
}

MemDOWN.clearGlobalStore = function (strict) {
  if (strict) {
    Object.keys(globalStore).forEach(function (key) {
      delete globalStore[key];
    })
  } else {
    globalStore = {}
  }
}

inherits(MemDOWN, AbstractLevelDOWN)

MemDOWN.prototype._open = function (options, callback) {
  var self = this
  setImmediate(function callNext() { callback(null, self) })
}

MemDOWN.prototype._put = function (key, value, options, callback) {
  if (typeof value === 'undefined' || value === null) value = ''
  this._store[this._location] = this._store[this._location].remove(key).insert(key, value)
  setImmediate(callback)
}

MemDOWN.prototype._get = function (key, options, callback) {
  var value = this._store[this._location].get(key)

  if (value === undefined) {
    // 'NotFound' error, consistent with LevelDOWN API
    var err = new Error('NotFound')
    return setImmediate(function callNext() { callback(err) })
  }

  if (options.asBuffer !== false && !this._isBuffer(value))
    value = new Buffer(String(value))

  setImmediate(function callNext () {
    callback(null, value)
  })

}

MemDOWN.prototype._del = function (key, options, callback) {
  this._store[this._location] = this._store[this._location].remove(key)
  setImmediate(callback)
}

MemDOWN.prototype._batch = function (array, options, callback) {
  var err
    , i = -1
    , key
    , value
    , len = array.length
    , tree = this._store[this._location]

  while (++i < len) {
    if (!array[i])
      continue;

    key = this._isBuffer(array[i].key) ? array[i].key : String(array[i].key)
    err = this._checkKey(key, 'key')
    if (err)
      return setImmediate(function errorCall() { callback(err) })

    tree = tree.remove(array[i].key)
    // we always remove as insert doesn't replace

    if (array[i].type === 'put') {

      value = this._isBuffer(array[i].value) ? array[i].value : String(array[i].value)
      err = this._checkKey(value, 'value')

      if (err)
        return setImmediate(function errorCall() { callback(err) })

      tree = tree.insert(key, value)
    }

  }

  this._store[this._location] = tree;

  setImmediate(callback)
}

MemDOWN.prototype._iterator = function (options) {
  return new MemIterator(this, options)
}

MemDOWN.prototype._isBuffer = function (obj) {
  return Buffer.isBuffer(obj)
}

MemDOWN.destroy = function (name, callback) {
  var key = toKey(name)

  if (key in globalStore)
    delete globalStore[key]

  setImmediate(callback)
}

module.exports = MemDOWN

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("buffer").Buffer)
},{"_process":16,"abstract-leveldown":13,"buffer":3,"functional-red-black-tree":4,"inherits":6,"ltgt":15}],10:[function(require,module,exports){
(function (process){
/* Copyright (c) 2013 Rod Vagg, MIT License */

function AbstractChainedBatch (db) {
  this._db         = db
  this._operations = []
  this._written    = false
}

AbstractChainedBatch.prototype._checkWritten = function () {
  if (this._written)
    throw new Error('write() already called on this batch')
}

AbstractChainedBatch.prototype.put = function (key, value) {
  this._checkWritten()

  var err = this._db._checkKey(key, 'key', this._db._isBuffer)
  if (err)
    throw err

  if (!this._db._isBuffer(key)) key = String(key)
  if (!this._db._isBuffer(value)) value = String(value)

  if (typeof this._put == 'function' )
    this._put(key, value)
  else
    this._operations.push({ type: 'put', key: key, value: value })

  return this
}

AbstractChainedBatch.prototype.del = function (key) {
  this._checkWritten()

  var err = this._db._checkKey(key, 'key', this._db._isBuffer)
  if (err) throw err

  if (!this._db._isBuffer(key)) key = String(key)

  if (typeof this._del == 'function' )
    this._del(key)
  else
    this._operations.push({ type: 'del', key: key })

  return this
}

AbstractChainedBatch.prototype.clear = function () {
  this._checkWritten()

  this._operations = []

  if (typeof this._clear == 'function' )
    this._clear()

  return this
}

AbstractChainedBatch.prototype.write = function (options, callback) {
  this._checkWritten()

  if (typeof options == 'function')
    callback = options
  if (typeof callback != 'function')
    throw new Error('write() requires a callback argument')
  if (typeof options != 'object')
    options = {}

  this._written = true

  if (typeof this._write == 'function' )
    return this._write(callback)

  if (typeof this._db._batch == 'function')
    return this._db._batch(this._operations, options, callback)

  process.nextTick(callback)
}

module.exports = AbstractChainedBatch
}).call(this,require('_process'))
},{"_process":16}],11:[function(require,module,exports){
(function (process){
/* Copyright (c) 2013 Rod Vagg, MIT License */

function AbstractIterator (db) {
  this.db = db
  this._ended = false
  this._nexting = false
}

AbstractIterator.prototype.next = function (callback) {
  var self = this

  if (typeof callback != 'function')
    throw new Error('next() requires a callback argument')

  if (self._ended)
    return callback(new Error('cannot call next() after end()'))
  if (self._nexting)
    return callback(new Error('cannot call next() before previous next() has completed'))

  self._nexting = true
  if (typeof self._next == 'function') {
    return self._next(function () {
      self._nexting = false
      callback.apply(null, arguments)
    })
  }

  process.nextTick(function () {
    self._nexting = false
    callback()
  })
}

AbstractIterator.prototype.end = function (callback) {
  if (typeof callback != 'function')
    throw new Error('end() requires a callback argument')

  if (this._ended)
    return callback(new Error('end() already called on iterator'))

  this._ended = true

  if (typeof this._end == 'function')
    return this._end(callback)

  process.nextTick(callback)
}

module.exports = AbstractIterator

}).call(this,require('_process'))
},{"_process":16}],12:[function(require,module,exports){
(function (Buffer,process){
/* Copyright (c) 2013 Rod Vagg, MIT License */

var xtend                = require('xtend')
  , AbstractIterator     = require('./abstract-iterator')
  , AbstractChainedBatch = require('./abstract-chained-batch')

function AbstractLevelDOWN (location) {
  if (!arguments.length || location === undefined)
    throw new Error('constructor requires at least a location argument')

  if (typeof location != 'string')
    throw new Error('constructor requires a location string argument')

  this.location = location
  this.status = 'new'
}

AbstractLevelDOWN.prototype.open = function (options, callback) {
  var self      = this
    , oldStatus = this.status

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('open() requires a callback argument')

  if (typeof options != 'object')
    options = {}

  options.createIfMissing = options.createIfMissing != false
  options.errorIfExists = !!options.errorIfExists

  if (typeof this._open == 'function') {
    this.status = 'opening'
    this._open(options, function (err) {
      if (err) {
        self.status = oldStatus
        return callback(err)
      }
      self.status = 'open'
      callback()
    })
  } else {
    this.status = 'open'
    process.nextTick(callback)
  }
}

AbstractLevelDOWN.prototype.close = function (callback) {
  var self      = this
    , oldStatus = this.status

  if (typeof callback != 'function')
    throw new Error('close() requires a callback argument')

  if (typeof this._close == 'function') {
    this.status = 'closing'
    this._close(function (err) {
      if (err) {
        self.status = oldStatus
        return callback(err)
      }
      self.status = 'closed'
      callback()
    })
  } else {
    this.status = 'closed'
    process.nextTick(callback)
  }
}

AbstractLevelDOWN.prototype.get = function (key, options, callback) {
  var err

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('get() requires a callback argument')

  if (err = this._checkKey(key, 'key', this._isBuffer))
    return callback(err)

  if (!this._isBuffer(key))
    key = String(key)

  if (typeof options != 'object')
    options = {}

  options.asBuffer = options.asBuffer != false

  if (typeof this._get == 'function')
    return this._get(key, options, callback)

  process.nextTick(function () { callback(new Error('NotFound')) })
}

AbstractLevelDOWN.prototype.put = function (key, value, options, callback) {
  var err

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('put() requires a callback argument')

  if (err = this._checkKey(key, 'key', this._isBuffer))
    return callback(err)

  if (!this._isBuffer(key))
    key = String(key)

  // coerce value to string in node, don't touch it in browser
  // (indexeddb can store any JS type)
  if (value != null && !this._isBuffer(value) && !process.browser)
    value = String(value)

  if (typeof options != 'object')
    options = {}

  if (typeof this._put == 'function')
    return this._put(key, value, options, callback)

  process.nextTick(callback)
}

AbstractLevelDOWN.prototype.del = function (key, options, callback) {
  var err

  if (typeof options == 'function')
    callback = options

  if (typeof callback != 'function')
    throw new Error('del() requires a callback argument')

  if (err = this._checkKey(key, 'key', this._isBuffer))
    return callback(err)

  if (!this._isBuffer(key))
    key = String(key)

  if (typeof options != 'object')
    options = {}

  if (typeof this._del == 'function')
    return this._del(key, options, callback)

  process.nextTick(callback)
}

AbstractLevelDOWN.prototype.batch = function (array, options, callback) {
  if (!arguments.length)
    return this._chainedBatch()

  if (typeof options == 'function')
    callback = options

  if (typeof array == 'function')
    callback = array

  if (typeof callback != 'function')
    throw new Error('batch(array) requires a callback argument')

  if (!Array.isArray(array))
    return callback(new Error('batch(array) requires an array argument'))

  if (!options || typeof options != 'object')
    options = {}

  var i = 0
    , l = array.length
    , e
    , err

  for (; i < l; i++) {
    e = array[i]
    if (typeof e != 'object')
      continue

    if (err = this._checkKey(e.type, 'type', this._isBuffer))
      return callback(err)

    if (err = this._checkKey(e.key, 'key', this._isBuffer))
      return callback(err)
  }

  if (typeof this._batch == 'function')
    return this._batch(array, options, callback)

  process.nextTick(callback)
}

//TODO: remove from here, not a necessary primitive
AbstractLevelDOWN.prototype.approximateSize = function (start, end, callback) {
  if (   start == null
      || end == null
      || typeof start == 'function'
      || typeof end == 'function') {
    throw new Error('approximateSize() requires valid `start`, `end` and `callback` arguments')
  }

  if (typeof callback != 'function')
    throw new Error('approximateSize() requires a callback argument')

  if (!this._isBuffer(start))
    start = String(start)

  if (!this._isBuffer(end))
    end = String(end)

  if (typeof this._approximateSize == 'function')
    return this._approximateSize(start, end, callback)

  process.nextTick(function () {
    callback(null, 0)
  })
}

AbstractLevelDOWN.prototype._setupIteratorOptions = function (options) {
  var self = this

  options = xtend(options)

  ;[ 'start', 'end', 'gt', 'gte', 'lt', 'lte' ].forEach(function (o) {
    if (options[o] && self._isBuffer(options[o]) && options[o].length === 0)
      delete options[o]
  })

  options.reverse = !!options.reverse
  options.keys = options.keys != false
  options.values = options.values != false
  options.limit = 'limit' in options ? options.limit : -1
  options.keyAsBuffer = options.keyAsBuffer != false
  options.valueAsBuffer = options.valueAsBuffer != false

  return options
}

AbstractLevelDOWN.prototype.iterator = function (options) {
  if (typeof options != 'object')
    options = {}

  options = this._setupIteratorOptions(options)

  if (typeof this._iterator == 'function')
    return this._iterator(options)

  return new AbstractIterator(this)
}

AbstractLevelDOWN.prototype._chainedBatch = function () {
  return new AbstractChainedBatch(this)
}

AbstractLevelDOWN.prototype._isBuffer = function (obj) {
  return Buffer.isBuffer(obj)
}

AbstractLevelDOWN.prototype._checkKey = function (obj, type) {

  if (obj === null || obj === undefined)
    return new Error(type + ' cannot be `null` or `undefined`')

  if (this._isBuffer(obj)) {
    if (obj.length === 0)
      return new Error(type + ' cannot be an empty Buffer')
  } else if (String(obj) === '')
    return new Error(type + ' cannot be an empty String')
}

module.exports = AbstractLevelDOWN

}).call(this,{"isBuffer":require("../../../is-buffer/index.js")},require('_process'))
},{"../../../is-buffer/index.js":8,"./abstract-chained-batch":10,"./abstract-iterator":11,"_process":16,"xtend":17}],13:[function(require,module,exports){
exports.AbstractLevelDOWN    = require('./abstract-leveldown')
exports.AbstractIterator     = require('./abstract-iterator')
exports.AbstractChainedBatch = require('./abstract-chained-batch')
exports.isLevelDOWN          = require('./is-leveldown')

},{"./abstract-chained-batch":10,"./abstract-iterator":11,"./abstract-leveldown":12,"./is-leveldown":14}],14:[function(require,module,exports){
var AbstractLevelDOWN = require('./abstract-leveldown')

function isLevelDOWN (db) {
  if (!db || typeof db !== 'object')
    return false
  return Object.keys(AbstractLevelDOWN.prototype).filter(function (name) {
    // TODO remove approximateSize check when method is gone
    return name[0] != '_' && name != 'approximateSize'
  }).every(function (name) {
    return typeof db[name] == 'function'
  })
}

module.exports = isLevelDOWN

},{"./abstract-leveldown":12}],15:[function(require,module,exports){
(function (Buffer){

exports.compare = function (a, b) {

  if(Buffer.isBuffer(a)) {
    var l = Math.min(a.length, b.length)
    for(var i = 0; i < l; i++) {
      var cmp = a[i] - b[i]
      if(cmp) return cmp
    }
    return a.length - b.length
  }

  return a < b ? -1 : a > b ? 1 : 0
}

function has(obj, key) {
  return Object.hasOwnProperty.call(obj, key)
}

// to be compatible with the current abstract-leveldown tests
// nullish or empty strings.
// I could use !!val but I want to permit numbers and booleans,
// if possible.

function isDef (val) {
  return val != null && val !== ''
}

var lowerBound = exports.lowerBound = function (range) {
  return (
      isDef(range.gt)                      ? range.gt
    : isDef(range.gte)                     ? range.gte
    : isDef(range.min)                     ? range.min
    : isDef(range.start) && !range.reverse ? range.start
    : isDef(range.end) && range.reverse    ? range.end
    :                                        undefined
  )
}

exports.lowerBoundInclusive = function (range) {
  return isDef(range.gt) ? false : true
}

exports.upperBoundInclusive =
  function (range) {
    return isDef(range.lt) ? false : true
  }

var lowerBoundExclusive = exports.lowerBoundExclusive =
  function (range) {
    return isDef(range.gt) ? true : false
  }

var upperBoundExclusive = exports.upperBoundExclusive =
  function (range) {
    return isDef(range.lt) ? true : false
  }

var upperBound = exports.upperBound = function (range) {
  return (
      isDef(range.lt)                     ? range.lt
    : isDef(range.lte)                    ? range.lte
    : isDef(range.max)                    ? range.max
    : isDef(range.start) && range.reverse ? range.start
    : isDef(range.end) && !range.reverse  ? range.end
    :                                       undefined
  )
}


exports.contains = function (range, key, compare) {
  compare = compare || exports.compare

  var lb = lowerBound(range)
  if(isDef(lb)) {
    var cmp = compare(key, lb)
    if(cmp < 0 || (cmp === 0 && lowerBoundExclusive(range)))
      return false
  }

  var ub = upperBound(range)
  if(isDef(ub)) {
    var cmp = compare(key, ub)
    if(cmp > 0 || (cmp === 0) && upperBoundExclusive(range))
      return false
  }

  return true
}

exports.filter = function (range, compare) {
  return function (key) {
    return exports.contains(range, key, compare)
  }
}

}).call(this,{"isBuffer":require("../../../is-buffer/index.js")})
},{"../../../is-buffer/index.js":8}],16:[function(require,module,exports){
// shim for using process in browser

var process = module.exports = {};
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = setTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    clearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        setTimeout(drainQueue, 0);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

},{}],17:[function(require,module,exports){
module.exports = extend

var hasOwnProperty = Object.prototype.hasOwnProperty;

function extend() {
    var target = {}

    for (var i = 0; i < arguments.length; i++) {
        var source = arguments[i]

        for (var key in source) {
            if (hasOwnProperty.call(source, key)) {
                target[key] = source[key]
            }
        }
    }

    return target
}

},{}]},{},[1]);

'use strict';

System.register('common/data/sb-service/test/mock/MockClient.js', [], function (_export, _context) {
    var _createClass, MockClient;

    function _classCallCheck(instance, Constructor) {
        if (!(instance instanceof Constructor)) {
            throw new TypeError("Cannot call a class as a function");
        }
    }

    return {
        setters: [],
        execute: function () {
            _createClass = function () {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor);
                    }
                }

                return function (Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor;
                };
            }();

            _export('MockClient', MockClient = function () {
                function MockClient(serviceComponent) {
                    _classCallCheck(this, MockClient);

                    this.serviceComponent = serviceComponent;
                }

                _createClass(MockClient, [{
                    key: 'read',
                    value: function read(prefix, reader, uid) {
                        this.serviceComponent.fire('sb-read', {
                            prefix: prefix,
                            reader: reader,
                            uid: uid
                        });
                        return Promise.resolve();
                    }
                }, {
                    key: 'load',
                    value: function load(prefix, loader, uid, context) {
                        this.serviceComponent.fire('sb-load', {
                            prefix: prefix,
                            loader: loader,
                            uid: uid,
                            context: context
                        });
                        return Promise.resolve();
                    }
                }, {
                    key: 'save',
                    value: function save(prefix, saver, model) {
                        this.serviceComponent.fire('sb-save', {
                            prefix: prefix,
                            saver: saver,
                            model: model
                        });
                        return Promise.resolve();
                    }
                }]);

                return MockClient;
            }());

            _export('MockClient', MockClient);
        }
    };
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJNb2NrQ2xpZW50LmpzIiwic291cmNlc0NvbnRlbnQiOltdfQ==